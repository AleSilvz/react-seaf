(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Ww(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qp={exports:{}},Mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function ux(){if(ET)return Mu;ET=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Mu.Fragment=e,Mu.jsx=n,Mu.jsxs=n,Mu}var TT;function cx(){return TT||(TT=1,qp.exports=ux()),qp.exports}var ie=cx(),Gp={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ST;function hx(){if(ST)return Ge;ST=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=_&&L[_]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,D={};function x(L,ae,me){this.props=L,this.context=ae,this.refs=D,this.updater=me||w}x.prototype.isReactComponent={},x.prototype.setState=function(L,ae){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ae,"setState")},x.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function V(){}V.prototype=x.prototype;function Z(L,ae,me){this.props=L,this.context=ae,this.refs=D,this.updater=me||w}var F=Z.prototype=new V;F.constructor=Z,A(F,x.prototype),F.isPureReactComponent=!0;var ee=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function M(L,ae,me,fe,be,qe){return me=qe.ref,{$$typeof:t,type:L,key:ae,ref:me!==void 0?me:null,props:qe}}function C(L,ae){return M(L.type,ae,void 0,void 0,void 0,L.props)}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function P(L){var ae={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(me){return ae[me]})}var U=/\/+/g;function H(L,ae){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):ae.toString(36)}function O(){}function De(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(O,O):(L.status="pending",L.then(function(ae){L.status==="pending"&&(L.status="fulfilled",L.value=ae)},function(ae){L.status==="pending"&&(L.status="rejected",L.reason=ae)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Be(L,ae,me,fe,be){var qe=typeof L;(qe==="undefined"||qe==="boolean")&&(L=null);var Ce=!1;if(L===null)Ce=!0;else switch(qe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(L.$$typeof){case t:case e:Ce=!0;break;case y:return Ce=L._init,Be(Ce(L._payload),ae,me,fe,be)}}if(Ce)return be=be(L),Ce=fe===""?"."+H(L,0):fe,ee(be)?(me="",Ce!=null&&(me=Ce.replace(U,"$&/")+"/"),Be(be,ae,me,"",function(oi){return oi})):be!=null&&(I(be)&&(be=C(be,me+(be.key==null||L&&L.key===be.key?"":(""+be.key).replace(U,"$&/")+"/")+Ce)),ae.push(be)),1;Ce=0;var Bt=fe===""?".":fe+":";if(ee(L))for(var yt=0;yt<L.length;yt++)fe=L[yt],qe=Bt+H(fe,yt),Ce+=Be(fe,ae,me,qe,be);else if(yt=E(L),typeof yt=="function")for(L=yt.call(L),yt=0;!(fe=L.next()).done;)fe=fe.value,qe=Bt+H(fe,yt++),Ce+=Be(fe,ae,me,qe,be);else if(qe==="object"){if(typeof L.then=="function")return Be(De(L),ae,me,fe,be);throw ae=String(L),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function X(L,ae,me){if(L==null)return L;var fe=[],be=0;return Be(L,fe,"","",function(qe){return ae.call(me,qe,be++)}),fe}function oe(L){if(L._status===-1){var ae=L._result;ae=ae(),ae.then(function(me){(L._status===0||L._status===-1)&&(L._status=1,L._result=me)},function(me){(L._status===0||L._status===-1)&&(L._status=2,L._result=me)}),L._status===-1&&(L._status=0,L._result=ae)}if(L._status===1)return L._result.default;throw L._result}var ge=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Me(){}return Ge.Children={map:X,forEach:function(L,ae,me){X(L,function(){ae.apply(this,arguments)},me)},count:function(L){var ae=0;return X(L,function(){ae++}),ae},toArray:function(L){return X(L,function(ae){return ae})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ge.Component=x,Ge.Fragment=n,Ge.Profiler=a,Ge.PureComponent=Z,Ge.StrictMode=r,Ge.Suspense=d,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(L){return te.H.useMemoCache(L)}},Ge.cache=function(L){return function(){return L.apply(null,arguments)}},Ge.cloneElement=function(L,ae,me){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var fe=A({},L.props),be=L.key,qe=void 0;if(ae!=null)for(Ce in ae.ref!==void 0&&(qe=void 0),ae.key!==void 0&&(be=""+ae.key),ae)!j.call(ae,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ae.ref===void 0||(fe[Ce]=ae[Ce]);var Ce=arguments.length-2;if(Ce===1)fe.children=me;else if(1<Ce){for(var Bt=Array(Ce),yt=0;yt<Ce;yt++)Bt[yt]=arguments[yt+2];fe.children=Bt}return M(L.type,be,void 0,void 0,qe,fe)},Ge.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ge.createElement=function(L,ae,me){var fe,be={},qe=null;if(ae!=null)for(fe in ae.key!==void 0&&(qe=""+ae.key),ae)j.call(ae,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(be[fe]=ae[fe]);var Ce=arguments.length-2;if(Ce===1)be.children=me;else if(1<Ce){for(var Bt=Array(Ce),yt=0;yt<Ce;yt++)Bt[yt]=arguments[yt+2];be.children=Bt}if(L&&L.defaultProps)for(fe in Ce=L.defaultProps,Ce)be[fe]===void 0&&(be[fe]=Ce[fe]);return M(L,qe,void 0,void 0,null,be)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(L){return{$$typeof:h,render:L}},Ge.isValidElement=I,Ge.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:oe}},Ge.memo=function(L,ae){return{$$typeof:p,type:L,compare:ae===void 0?null:ae}},Ge.startTransition=function(L){var ae=te.T,me={};te.T=me;try{var fe=L(),be=te.S;be!==null&&be(me,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Me,ge)}catch(qe){ge(qe)}finally{te.T=ae}},Ge.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Ge.use=function(L){return te.H.use(L)},Ge.useActionState=function(L,ae,me){return te.H.useActionState(L,ae,me)},Ge.useCallback=function(L,ae){return te.H.useCallback(L,ae)},Ge.useContext=function(L){return te.H.useContext(L)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(L,ae){return te.H.useDeferredValue(L,ae)},Ge.useEffect=function(L,ae,me){var fe=te.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(L,ae)},Ge.useId=function(){return te.H.useId()},Ge.useImperativeHandle=function(L,ae,me){return te.H.useImperativeHandle(L,ae,me)},Ge.useInsertionEffect=function(L,ae){return te.H.useInsertionEffect(L,ae)},Ge.useLayoutEffect=function(L,ae){return te.H.useLayoutEffect(L,ae)},Ge.useMemo=function(L,ae){return te.H.useMemo(L,ae)},Ge.useOptimistic=function(L,ae){return te.H.useOptimistic(L,ae)},Ge.useReducer=function(L,ae,me){return te.H.useReducer(L,ae,me)},Ge.useRef=function(L){return te.H.useRef(L)},Ge.useState=function(L){return te.H.useState(L)},Ge.useSyncExternalStore=function(L,ae,me){return te.H.useSyncExternalStore(L,ae,me)},Ge.useTransition=function(){return te.H.useTransition()},Ge.version="19.1.0",Ge}var wT;function by(){return wT||(wT=1,Gp.exports=hx()),Gp.exports}var z=by();const Gs=Ww(z);var Kp={exports:{}},Pu={},$p={exports:{}},Yp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT;function fx(){return bT||(bT=1,function(t){function e(X,oe){var ge=X.length;X.push(oe);e:for(;0<ge;){var Me=ge-1>>>1,L=X[Me];if(0<a(L,oe))X[Me]=oe,X[ge]=L,ge=Me;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var oe=X[0],ge=X.pop();if(ge!==oe){X[0]=ge;e:for(var Me=0,L=X.length,ae=L>>>1;Me<ae;){var me=2*(Me+1)-1,fe=X[me],be=me+1,qe=X[be];if(0>a(fe,ge))be<L&&0>a(qe,fe)?(X[Me]=qe,X[be]=ge,Me=be):(X[Me]=fe,X[me]=ge,Me=me);else if(be<L&&0>a(qe,ge))X[Me]=qe,X[be]=ge,Me=be;else break e}}return oe}function a(X,oe){var ge=X.sortIndex-oe.sortIndex;return ge!==0?ge:X.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],p=[],y=1,_=null,E=3,w=!1,A=!1,D=!1,x=!1,V=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function ee(X){for(var oe=n(p);oe!==null;){if(oe.callback===null)r(p);else if(oe.startTime<=X)r(p),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=n(p)}}function te(X){if(D=!1,ee(X),!A)if(n(d)!==null)A=!0,j||(j=!0,H());else{var oe=n(p);oe!==null&&Be(te,oe.startTime-X)}}var j=!1,M=-1,C=5,I=-1;function P(){return x?!0:!(t.unstable_now()-I<C)}function U(){if(x=!1,j){var X=t.unstable_now();I=X;var oe=!0;try{e:{A=!1,D&&(D=!1,Z(M),M=-1),w=!0;var ge=E;try{t:{for(ee(X),_=n(d);_!==null&&!(_.expirationTime>X&&P());){var Me=_.callback;if(typeof Me=="function"){_.callback=null,E=_.priorityLevel;var L=Me(_.expirationTime<=X);if(X=t.unstable_now(),typeof L=="function"){_.callback=L,ee(X),oe=!0;break t}_===n(d)&&r(d),ee(X)}else r(d);_=n(d)}if(_!==null)oe=!0;else{var ae=n(p);ae!==null&&Be(te,ae.startTime-X),oe=!1}}break e}finally{_=null,E=ge,w=!1}oe=void 0}}finally{oe?H():j=!1}}}var H;if(typeof F=="function")H=function(){F(U)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,De=O.port2;O.port1.onmessage=U,H=function(){De.postMessage(null)}}else H=function(){V(U,0)};function Be(X,oe){M=V(function(){X(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(X){switch(E){case 1:case 2:case 3:var oe=3;break;default:oe=E}var ge=E;E=oe;try{return X()}finally{E=ge}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ge=E;E=X;try{return oe()}finally{E=ge}},t.unstable_scheduleCallback=function(X,oe,ge){var Me=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Me+ge:Me):ge=Me,X){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ge+L,X={id:y++,callback:oe,priorityLevel:X,startTime:ge,expirationTime:L,sortIndex:-1},ge>Me?(X.sortIndex=ge,e(p,X),n(d)===null&&X===n(p)&&(D?(Z(M),M=-1):D=!0,Be(te,ge-Me))):(X.sortIndex=L,e(d,X),A||w||(A=!0,j||(j=!0,H()))),X},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(X){var oe=E;return function(){var ge=E;E=oe;try{return X.apply(this,arguments)}finally{E=ge}}}}(Yp)),Yp}var AT;function dx(){return AT||(AT=1,$p.exports=fx()),$p.exports}var Qp={exports:{}},wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RT;function mx(){if(RT)return wn;RT=1;var t=by();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:d,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wn.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,y)},wn.flushSync=function(d){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=p,r.p=y,r.d.f()}},wn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},wn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},wn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:w}):y==="script"&&r.d.X(d,{crossOrigin:_,integrity:E,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},wn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},wn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin);r.d.L(d,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},wn.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},wn.requestFormReset=function(d){r.d.r(d)},wn.unstable_batchedUpdates=function(d,p){return d(p)},wn.useFormState=function(d,p,y){return c.H.useFormState(d,p,y)},wn.useFormStatus=function(){return c.H.useHostTransitionStatus()},wn.version="19.1.0",wn}var CT;function Zw(){if(CT)return Qp.exports;CT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qp.exports=mx(),Qp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT;function px(){if(IT)return Pu;IT=1;var t=dx(),e=by(),n=Zw();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return h(m),i;if(g===u)return h(m),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=m,u=g;else{for(var S=!1,b=m.child;b;){if(b===o){S=!0,o=m,u=g;break}if(b===u){S=!0,u=m,o=g;break}b=b.sibling}if(!S){for(b=g.child;b;){if(b===o){S=!0,o=g,u=m;break}if(b===u){S=!0,u=g,o=m;break}b=b.sibling}if(!S)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),F=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function De(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case x:return"Profiler";case D:return"StrictMode";case te:return"Suspense";case j:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case F:return(i.displayName||"Context")+".Provider";case Z:return(i._context.displayName||"Context")+".Consumer";case ee:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return s=i.displayName||null,s!==null?s:De(i.type)||"Memo";case C:s=i._payload,i=i._init;try{return De(i(s))}catch{}}return null}var Be=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Me=[],L=-1;function ae(i){return{current:i}}function me(i){0>L||(i.current=Me[L],Me[L]=null,L--)}function fe(i,s){L++,Me[L]=i.current,i.current=s}var be=ae(null),qe=ae(null),Ce=ae(null),Bt=ae(null);function yt(i,s){switch(fe(Ce,s),fe(qe,i),fe(be,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?YE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=YE(s),i=QE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}me(be),fe(be,i)}function oi(){me(be),me(qe),me(Ce)}function Rt(i){i.memoizedState!==null&&fe(Bt,i);var s=be.current,o=QE(s,i.type);s!==o&&(fe(qe,i),fe(be,o))}function _n(i){qe.current===i&&(me(be),me(qe)),Bt.current===i&&(me(Bt),Ru._currentValue=ge)}var Fi=Object.prototype.hasOwnProperty,Sr=t.unstable_scheduleCallback,Dn=t.unstable_cancelCallback,fa=t.unstable_shouldYield,lo=t.unstable_requestPaint,Mn=t.unstable_now,Ol=t.unstable_getCurrentPriorityLevel,da=t.unstable_ImmediatePriority,as=t.unstable_UserBlockingPriority,wr=t.unstable_NormalPriority,Mi=t.unstable_LowPriority,li=t.unstable_IdlePriority,os=t.log,ls=t.unstable_setDisableYieldValue,ct=null,Ke=null;function En(i){if(typeof os=="function"&&ls(i),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ct,i)}catch{}}var zt=Math.clz32?Math.clz32:Hi,uo=Math.log,ui=Math.LN2;function Hi(i){return i>>>=0,i===0?32:31-(uo(i)/ui|0)|0}var qi=256,Gi=4194304;function $n(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function br(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var m=0,g=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var b=u&134217727;return b!==0?(u=b&~g,u!==0?m=$n(u):(S&=b,S!==0?m=$n(S):o||(o=b&~i,o!==0&&(m=$n(o))))):(b=u&~g,b!==0?m=$n(b):S!==0?m=$n(S):o||(o=u&~i,o!==0&&(m=$n(o)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:m}function ci(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function us(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ar(){var i=qi;return qi<<=1,(qi&4194048)===0&&(qi=256),i}function ma(){var i=Gi;return Gi<<=1,(Gi&62914560)===0&&(Gi=4194304),i}function hi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Pi(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function cs(i,s,o,u,m,g){var S=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var b=i.entanglements,N=i.expirationTimes,Q=i.hiddenUpdates;for(o=S&~o;0<o;){var re=31-zt(o),ue=1<<re;b[re]=0,N[re]=-1;var W=Q[re];if(W!==null)for(Q[re]=null,re=0;re<W.length;re++){var J=W[re];J!==null&&(J.lane&=-536870913)}o&=~ue}u!==0&&Pn(i,u,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(S&~s))}function Pn(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-zt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function Ki(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-zt(o),m=1<<u;m&s|i[u]&s&&(i[u]|=s),o&=~m}}function $i(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function hs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function k(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:mT(i.type))}function G(i,s){var o=oe.p;try{return oe.p=i,s()}finally{oe.p=o}}var Y=Math.random().toString(36).slice(2),le="__reactFiber$"+Y,de="__reactProps$"+Y,ye="__reactContainer$"+Y,xe="__reactEvents$"+Y,_e="__reactListeners$"+Y,Se="__reactHandles$"+Y,Ae="__reactResources$"+Y,Pe="__reactMarker$"+Y;function we(i){delete i[le],delete i[de],delete i[xe],delete i[_e],delete i[Se]}function Ve(i){var s=i[le];if(s)return s;for(var o=i.parentNode;o;){if(s=o[ye]||o[le]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=JE(i);i!==null;){if(o=i[le])return o;i=JE(i)}return s}i=o,o=i.parentNode}return null}function We(i){if(i=i[le]||i[ye]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function ft(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function lt(i){var s=i[Ae];return s||(s=i[Ae]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function it(i){i[Pe]=!0}var Qe=new Set,fi={};function Yt(i,s){On(i,s),On(i+"Capture",s)}function On(i,s){for(fi[i]=s,i=0;i<s.length;i++)Qe.add(s[i])}var un=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yi={},Yn={};function fs(i){return Fi.call(Yn,i)?!0:Fi.call(Yi,i)?!1:un.test(i)?Yn[i]=!0:(Yi[i]=!0,!1)}function Tn(i,s,o){if(fs(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Vn(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function ze(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}var Ft,Qn;function jn(i){if(Ft===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ft=s&&s[1]||"",Qn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ft+i+Qn}var Qi=!1;function St(i,s){if(!i||Qi)return"";Qi=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(J){var W=J}Reflect.construct(i,[],ue)}else{try{ue.call()}catch(J){W=J}i.call(ue.prototype)}}else{try{throw Error()}catch(J){W=J}(ue=i())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),S=g[0],b=g[1];if(S&&b){var N=S.split(`
`),Q=b.split(`
`);for(m=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(u===N.length||m===Q.length)for(u=N.length-1,m=Q.length-1;1<=u&&0<=m&&N[u]!==Q[m];)m--;for(;1<=u&&0<=m;u--,m--)if(N[u]!==Q[m]){if(u!==1||m!==1)do if(u--,m--,0>m||N[u]!==Q[m]){var re=`
`+N[u].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=u&&0<=m);break}}}finally{Qi=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?jn(o):""}function di(i){switch(i.tag){case 26:case 27:case 5:return jn(i.type);case 16:return jn("Lazy");case 13:return jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return St(i.type,!1);case 11:return St(i.type.render,!1);case 1:return St(i.type,!0);case 31:return jn("Activity");default:return""}}function Rr(i){try{var s="";do s+=di(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Vl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Yd(i){var s=Vl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(S){u=""+S,g.call(this,S)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function co(i){i._valueTracker||(i._valueTracker=Yd(i))}function Nl(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Vl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function pa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Qd=/[\n"\\]/g;function Ht(i){return i.replace(Qd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Xn(i,s,o,u,m,g,S,b){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+cn(s)):i.value!==""+cn(s)&&(i.value=""+cn(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?ds(i,S,cn(s)):o!=null?ds(i,S,cn(o)):u!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.name=""+cn(b):i.removeAttribute("name")}function ga(i,s,o,u,m,g,S,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+cn(o):"",s=s!=null?""+cn(s):o,b||s===i.value||(i.value=s),i.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=b?i.checked:!!u,i.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function ds(i,s,o){s==="number"&&pa(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Cr(i,s,o,u){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&u&&(i[o].defaultSelected=!0)}else{for(o=""+cn(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function vt(i,s,o){if(s!=null&&(s=""+cn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+cn(o):""}function ya(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(Be(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=cn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function mi(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var va=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gc(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||va.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Ll(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&o[m]!==u&&Gc(i,m,u)}else for(var g in s)s.hasOwnProperty(g)&&Gc(i,g,s[g])}function kl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(i){return Wd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ir=null;function pi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xr=null,Dr=null;function Ul(i){var s=We(i);if(s&&(i=s.stateNode)){var o=i[de]||null;e:switch(i=s.stateNode,s.type){case"input":if(Xn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ht(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var m=u[de]||null;if(!m)throw Error(r(90));Xn(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&Nl(u)}break e;case"textarea":vt(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Cr(i,!!o.multiple,s,!1)}}}var Xi=!1;function Kc(i,s,o){if(Xi)return i(s,o);Xi=!0;try{var u=i(s);return u}finally{if(Xi=!1,(xr!==null||Dr!==null)&&(jh(),xr&&(s=xr,i=Dr,Dr=xr=null,Ul(s),i)))for(s=0;s<i.length;s++)Ul(i[s])}}function _a(i,s){var o=i.stateNode;if(o===null)return null;var u=o[de]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gi=!1;if(Oi)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){gi=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{gi=!1}var Wi=null,ms=null,Mr=null;function jl(){if(Mr)return Mr;var i,s=ms,o=s.length,u,m="value"in Wi?Wi.value:Wi.textContent,g=m.length;for(i=0;i<o&&s[i]===m[i];i++);var S=o-i;for(u=1;u<=S&&s[o-u]===m[g-u];u++);return Mr=m.slice(i,1<u?1-u:void 0)}function Zi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ji(){return!0}function Bl(){return!1}function tn(i){function s(o,u,m,g,S){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(o=i[b],this[b]=o?o(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ji:Bl,this.isPropagationStopped=Bl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),s}var dt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=tn(dt),Ta=y({},dt,{view:0,detail:0}),$c=tn(Ta),mo,po,er,Sa=y({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==er&&(er&&i.type==="mousemove"?(mo=i.screenX-er.screenX,po=i.screenY-er.screenY):po=mo=0,er=i),mo)},movementY:function(i){return"movementY"in i?i.movementY:po}}),yi=tn(Sa),Yc=y({},Sa,{dataTransfer:0}),Zd=tn(Yc),wa=y({},Ta,{relatedTarget:0}),go=tn(wa),zl=y({},dt,{animationName:0,elapsedTime:0,pseudoElement:0}),yo=tn(zl),Qc=y({},dt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),vo=tn(Qc),Jd=y({},dt,{data:0}),Fl=tn(Jd),ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Wc[i])?!!s[i]:!1}function Aa(){return Hl}var Zc=y({},Ta,{key:function(i){if(i.key){var s=ba[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Zi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Xc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(i){return i.type==="keypress"?Zi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Zi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_o=tn(Zc),Jc=y({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ql=tn(Jc),Pr=y({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),eh=tn(Pr),th=y({},dt,{propertyName:0,elapsedTime:0,pseudoElement:0}),nh=tn(th),ih=y({},Sa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Eo=tn(ih),Nn=y({},dt,{newState:0,oldState:0}),rh=tn(Nn),sh=[9,13,27,32],tr=Oi&&"CompositionEvent"in window,f=null;Oi&&"documentMode"in document&&(f=document.documentMode);var v=Oi&&"TextEvent"in window&&!f,T=Oi&&(!tr||f&&8<f&&11>=f),R=" ",K=!1;function ne(i,s){switch(i){case"keyup":return sh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var rt=!1;function Qt(i,s){switch(i){case"compositionend":return pe(s);case"keypress":return s.which!==32?null:(K=!0,R);case"textInput":return i=s.data,i===R&&K?null:i;default:return null}}function st(i,s){if(rt)return i==="compositionend"||!tr&&ne(i,s)?(i=jl(),Mr=ms=Wi=null,rt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xt(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!nn[i.type]:s==="textarea"}function Or(i,s,o,u){xr?Dr?Dr.push(u):Dr=[u]:xr=u,s=Gh(s,"onChange"),0<s.length&&(o=new fo("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var hn=null,nr=null;function Gl(i){HE(i,0)}function ah(i){var s=ft(i);if(Nl(s))return i}function c0(i,s){if(i==="change")return s}var h0=!1;if(Oi){var em;if(Oi){var tm="oninput"in document;if(!tm){var f0=document.createElement("div");f0.setAttribute("oninput","return;"),tm=typeof f0.oninput=="function"}em=tm}else em=!1;h0=em&&(!document.documentMode||9<document.documentMode)}function d0(){hn&&(hn.detachEvent("onpropertychange",m0),nr=hn=null)}function m0(i){if(i.propertyName==="value"&&ah(nr)){var s=[];Or(s,nr,i,pi(i)),Kc(Gl,s)}}function j2(i,s,o){i==="focusin"?(d0(),hn=s,nr=o,hn.attachEvent("onpropertychange",m0)):i==="focusout"&&d0()}function B2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ah(nr)}function z2(i,s){if(i==="click")return ah(s)}function F2(i,s){if(i==="input"||i==="change")return ah(s)}function H2(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Wn=typeof Object.is=="function"?Object.is:H2;function Kl(i,s){if(Wn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!Fi.call(s,m)||!Wn(i[m],s[m]))return!1}return!0}function p0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function g0(i,s){var o=p0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=p0(o)}}function y0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?y0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function v0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=pa(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=pa(i.document)}return s}function nm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var q2=Oi&&"documentMode"in document&&11>=document.documentMode,To=null,im=null,$l=null,rm=!1;function _0(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;rm||To==null||To!==pa(u)||(u=To,"selectionStart"in u&&nm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),$l&&Kl($l,u)||($l=u,u=Gh(im,"onSelect"),0<u.length&&(s=new fo("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=To)))}function Ra(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var So={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},sm={},E0={};Oi&&(E0=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Ca(i){if(sm[i])return sm[i];if(!So[i])return i;var s=So[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in E0)return sm[i]=s[o];return i}var T0=Ca("animationend"),S0=Ca("animationiteration"),w0=Ca("animationstart"),G2=Ca("transitionrun"),K2=Ca("transitionstart"),$2=Ca("transitioncancel"),b0=Ca("transitionend"),A0=new Map,am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");am.push("scrollEnd");function Vi(i,s){A0.set(i,s),Yt(s,[i])}var R0=new WeakMap;function vi(i,s){if(typeof i=="object"&&i!==null){var o=R0.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Rr(s)},R0.set(i,s),s)}return{value:i,source:s,stack:Rr(s)}}var _i=[],wo=0,om=0;function oh(){for(var i=wo,s=om=wo=0;s<i;){var o=_i[s];_i[s++]=null;var u=_i[s];_i[s++]=null;var m=_i[s];_i[s++]=null;var g=_i[s];if(_i[s++]=null,u!==null&&m!==null){var S=u.pending;S===null?m.next=m:(m.next=S.next,S.next=m),u.pending=m}g!==0&&C0(o,m,g)}}function lh(i,s,o,u){_i[wo++]=i,_i[wo++]=s,_i[wo++]=o,_i[wo++]=u,om|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function lm(i,s,o,u){return lh(i,s,o,u),uh(i)}function bo(i,s){return lh(i,null,null,s),uh(i)}function C0(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&s!==null&&(m=31-zt(o),i=g.hiddenUpdates,u=i[m],u===null?i[m]=[s]:u.push(s),s.lane=o|536870912),g):null}function uh(i){if(50<vu)throw vu=0,mp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ao={};function Y2(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(i,s,o,u){return new Y2(i,s,o,u)}function um(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Vr(i,s){var o=i.alternate;return o===null?(o=Zn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function I0(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function ch(i,s,o,u,m,g){var S=0;if(u=i,typeof i=="function")um(i)&&(S=1);else if(typeof i=="string")S=XI(i,o,be.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Zn(31,o,s,m),i.elementType=I,i.lanes=g,i;case A:return Ia(o.children,m,g,s);case D:S=8,m|=24;break;case x:return i=Zn(12,o,s,m|2),i.elementType=x,i.lanes=g,i;case te:return i=Zn(13,o,s,m),i.elementType=te,i.lanes=g,i;case j:return i=Zn(19,o,s,m),i.elementType=j,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:case F:S=10;break e;case Z:S=9;break e;case ee:S=11;break e;case M:S=14;break e;case C:S=16,u=null;break e}S=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Zn(S,o,s,m),s.elementType=i,s.type=u,s.lanes=g,s}function Ia(i,s,o,u){return i=Zn(7,i,u,s),i.lanes=o,i}function cm(i,s,o){return i=Zn(6,i,null,s),i.lanes=o,i}function hm(i,s,o){return s=Zn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ro=[],Co=0,hh=null,fh=0,Ei=[],Ti=0,xa=null,Nr=1,Lr="";function Da(i,s){Ro[Co++]=fh,Ro[Co++]=hh,hh=i,fh=s}function x0(i,s,o){Ei[Ti++]=Nr,Ei[Ti++]=Lr,Ei[Ti++]=xa,xa=i;var u=Nr;i=Lr;var m=32-zt(u)-1;u&=~(1<<m),o+=1;var g=32-zt(s)+m;if(30<g){var S=m-m%5;g=(u&(1<<S)-1).toString(32),u>>=S,m-=S,Nr=1<<32-zt(s)+m|o<<m|u,Lr=g+i}else Nr=1<<g|o<<m|u,Lr=i}function fm(i){i.return!==null&&(Da(i,1),x0(i,1,0))}function dm(i){for(;i===hh;)hh=Ro[--Co],Ro[Co]=null,fh=Ro[--Co],Ro[Co]=null;for(;i===xa;)xa=Ei[--Ti],Ei[Ti]=null,Lr=Ei[--Ti],Ei[Ti]=null,Nr=Ei[--Ti],Ei[Ti]=null}var Ln=null,Pt=null,ht=!1,Ma=null,ir=!1,mm=Error(r(519));function Pa(i){var s=Error(r(418,""));throw Xl(vi(s,i)),mm}function D0(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[le]=i,s[de]=u,o){case"dialog":Je("cancel",s),Je("close",s);break;case"iframe":case"object":case"embed":Je("load",s);break;case"video":case"audio":for(o=0;o<Eu.length;o++)Je(Eu[o],s);break;case"source":Je("error",s);break;case"img":case"image":case"link":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"input":Je("invalid",s),ga(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),co(s);break;case"select":Je("invalid",s);break;case"textarea":Je("invalid",s),ya(s,u.value,u.defaultValue,u.children),co(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||$E(s.textContent,o)?(u.popover!=null&&(Je("beforetoggle",s),Je("toggle",s)),u.onScroll!=null&&Je("scroll",s),u.onScrollEnd!=null&&Je("scrollend",s),u.onClick!=null&&(s.onclick=Kh),s=!0):s=!1,s||Pa(i)}function M0(i){for(Ln=i.return;Ln;)switch(Ln.tag){case 5:case 13:ir=!1;return;case 27:case 3:ir=!0;return;default:Ln=Ln.return}}function Yl(i){if(i!==Ln)return!1;if(!ht)return M0(i),ht=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Dp(i.type,i.memoizedProps)),o=!o),o&&Pt&&Pa(i),M0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){Pt=Li(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}Pt=null}}else s===27?(s=Pt,Ds(i.type)?(i=Vp,Vp=null,Pt=i):Pt=s):Pt=Ln?Li(i.stateNode.nextSibling):null;return!0}function Ql(){Pt=Ln=null,ht=!1}function P0(){var i=Ma;return i!==null&&(Fn===null?Fn=i:Fn.push.apply(Fn,i),Ma=null),i}function Xl(i){Ma===null?Ma=[i]:Ma.push(i)}var pm=ae(null),Oa=null,kr=null;function ps(i,s,o){fe(pm,s._currentValue),s._currentValue=o}function Ur(i){i._currentValue=pm.current,me(pm)}function gm(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function ym(i,s,o,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var S=m.child;g=g.firstContext;e:for(;g!==null;){var b=g;g=m;for(var N=0;N<s.length;N++)if(b.context===s[N]){g.lanes|=o,b=g.alternate,b!==null&&(b.lanes|=o),gm(g.return,o,i),u||(S=null);break e}g=b.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(r(341));S.lanes|=o,g=S.alternate,g!==null&&(g.lanes|=o),gm(S,o,i),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===i){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Wl(i,s,o,u){i=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var b=m.type;Wn(m.pendingProps.value,S.value)||(i!==null?i.push(b):i=[b])}}else if(m===Bt.current){if(S=m.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Ru):i=[Ru])}m=m.return}i!==null&&ym(s,i,o,u),s.flags|=262144}function dh(i){for(i=i.firstContext;i!==null;){if(!Wn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Va(i){Oa=i,kr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Sn(i){return O0(Oa,i)}function mh(i,s){return Oa===null&&Va(i),O0(i,s)}function O0(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},kr===null){if(i===null)throw Error(r(308));kr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else kr=kr.next=s;return o}var Q2=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},X2=t.unstable_scheduleCallback,W2=t.unstable_NormalPriority,Wt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vm(){return{controller:new Q2,data:new Map,refCount:0}}function Zl(i){i.refCount--,i.refCount===0&&X2(W2,function(){i.controller.abort()})}var Jl=null,_m=0,Io=0,xo=null;function Z2(i,s){if(Jl===null){var o=Jl=[];_m=0,Io=Tp(),xo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return _m++,s.then(V0,V0),s}function V0(){if(--_m===0&&Jl!==null){xo!==null&&(xo.status="fulfilled");var i=Jl;Jl=null,Io=0,xo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function J2(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var N0=X.S;X.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Z2(i,s),N0!==null&&N0(i,s)};var Na=ae(null);function Em(){var i=Na.current;return i!==null?i:bt.pooledCache}function ph(i,s){s===null?fe(Na,Na.current):fe(Na,s.pool)}function L0(){var i=Em();return i===null?null:{parent:Wt._currentValue,pool:i}}var eu=Error(r(460)),k0=Error(r(474)),gh=Error(r(542)),Tm={then:function(){}};function U0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function yh(){}function j0(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(yh,yh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,z0(i),i;default:if(typeof s.status=="string")s.then(yh,yh);else{if(i=bt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,z0(i),i}throw tu=s,eu}}var tu=null;function B0(){if(tu===null)throw Error(r(459));var i=tu;return tu=null,i}function z0(i){if(i===eu||i===gh)throw Error(r(483))}var gs=!1;function Sm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ys(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function vs(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(pt&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=uh(i),C0(i,null,o),s}return lh(i,u,s,o),uh(i)}function nu(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Ki(i,o)}}function bm(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=S:g=g.next=S,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Am=!1;function iu(){if(Am){var i=xo;if(i!==null)throw i}}function ru(i,s,o,u){Am=!1;var m=i.updateQueue;gs=!1;var g=m.firstBaseUpdate,S=m.lastBaseUpdate,b=m.shared.pending;if(b!==null){m.shared.pending=null;var N=b,Q=N.next;N.next=null,S===null?g=Q:S.next=Q,S=N;var re=i.alternate;re!==null&&(re=re.updateQueue,b=re.lastBaseUpdate,b!==S&&(b===null?re.firstBaseUpdate=Q:b.next=Q,re.lastBaseUpdate=N))}if(g!==null){var ue=m.baseState;S=0,re=Q=N=null,b=g;do{var W=b.lane&-536870913,J=W!==b.lane;if(J?(at&W)===W:(u&W)===W){W!==0&&W===Io&&(Am=!0),re!==null&&(re=re.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Ue=i,Oe=b;W=s;var Tt=o;switch(Oe.tag){case 1:if(Ue=Oe.payload,typeof Ue=="function"){ue=Ue.call(Tt,ue,W);break e}ue=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Oe.payload,W=typeof Ue=="function"?Ue.call(Tt,ue,W):Ue,W==null)break e;ue=y({},ue,W);break e;case 2:gs=!0}}W=b.callback,W!==null&&(i.flags|=64,J&&(i.flags|=8192),J=m.callbacks,J===null?m.callbacks=[W]:J.push(W))}else J={lane:W,tag:b.tag,payload:b.payload,callback:b.callback,next:null},re===null?(Q=re=J,N=ue):re=re.next=J,S|=W;if(b=b.next,b===null){if(b=m.shared.pending,b===null)break;J=b,b=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);re===null&&(N=ue),m.baseState=N,m.firstBaseUpdate=Q,m.lastBaseUpdate=re,g===null&&(m.shared.lanes=0),Rs|=S,i.lanes=S,i.memoizedState=ue}}function F0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function H0(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)F0(o[i],s)}var Do=ae(null),vh=ae(0);function q0(i,s){i=Gr,fe(vh,i),fe(Do,s),Gr=i|s.baseLanes}function Rm(){fe(vh,Gr),fe(Do,Do.current)}function Cm(){Gr=vh.current,me(Do),me(vh)}var _s=0,$e=null,_t=null,qt=null,_h=!1,Mo=!1,La=!1,Eh=0,su=0,Po=null,eI=0;function Nt(){throw Error(r(321))}function Im(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Wn(i[o],s[o]))return!1;return!0}function xm(i,s,o,u,m,g){return _s=g,$e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=i===null||i.memoizedState===null?C_:I_,La=!1,g=o(u,m),La=!1,Mo&&(g=K0(s,o,u,m)),G0(i),g}function G0(i){X.H=Rh;var s=_t!==null&&_t.next!==null;if(_s=0,qt=_t=$e=null,_h=!1,su=0,Po=null,s)throw Error(r(300));i===null||rn||(i=i.dependencies,i!==null&&dh(i)&&(rn=!0))}function K0(i,s,o,u){$e=i;var m=0;do{if(Mo&&(Po=null),su=0,Mo=!1,25<=m)throw Error(r(301));if(m+=1,qt=_t=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=oI,g=s(o,u)}while(Mo);return g}function tI(){var i=X.H,s=i.useState()[0];return s=typeof s.then=="function"?au(s):s,i=i.useState()[0],(_t!==null?_t.memoizedState:null)!==i&&($e.flags|=1024),s}function Dm(){var i=Eh!==0;return Eh=0,i}function Mm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Pm(i){if(_h){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}_h=!1}_s=0,qt=_t=$e=null,Mo=!1,su=Eh=0,Po=null}function Bn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?$e.memoizedState=qt=i:qt=qt.next=i,qt}function Gt(){if(_t===null){var i=$e.alternate;i=i!==null?i.memoizedState:null}else i=_t.next;var s=qt===null?$e.memoizedState:qt.next;if(s!==null)qt=s,_t=i;else{if(i===null)throw $e.alternate===null?Error(r(467)):Error(r(310));_t=i,i={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},qt===null?$e.memoizedState=qt=i:qt=qt.next=i}return qt}function Om(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function au(i){var s=su;return su+=1,Po===null&&(Po=[]),i=j0(Po,i,s),s=$e,(qt===null?s.memoizedState:qt.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?C_:I_),i}function Th(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return au(i);if(i.$$typeof===F)return Sn(i)}throw Error(r(438,String(i)))}function Vm(i){var s=null,o=$e.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=$e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Om(),$e.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=P;return s.index++,o}function jr(i,s){return typeof s=="function"?s(i):s}function Sh(i){var s=Gt();return Nm(s,_t,i)}function Nm(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var m=i.baseQueue,g=u.pending;if(g!==null){if(m!==null){var S=m.next;m.next=g.next,g.next=S}s.baseQueue=m=g,u.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{s=m.next;var b=S=null,N=null,Q=s,re=!1;do{var ue=Q.lane&-536870913;if(ue!==Q.lane?(at&ue)===ue:(_s&ue)===ue){var W=Q.revertLane;if(W===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ue===Io&&(re=!0);else if((_s&W)===W){Q=Q.next,W===Io&&(re=!0);continue}else ue={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},N===null?(b=N=ue,S=g):N=N.next=ue,$e.lanes|=W,Rs|=W;ue=Q.action,La&&o(g,ue),g=Q.hasEagerState?Q.eagerState:o(g,ue)}else W={lane:ue,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},N===null?(b=N=W,S=g):N=N.next=W,$e.lanes|=ue,Rs|=ue;Q=Q.next}while(Q!==null&&Q!==s);if(N===null?S=g:N.next=b,!Wn(g,i.memoizedState)&&(rn=!0,re&&(o=xo,o!==null)))throw o;i.memoizedState=g,i.baseState=S,i.baseQueue=N,u.lastRenderedState=g}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Lm(i){var s=Gt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var S=m=m.next;do g=i(g,S.action),S=S.next;while(S!==m);Wn(g,s.memoizedState)||(rn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function $0(i,s,o){var u=$e,m=Gt(),g=ht;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var S=!Wn((_t||m).memoizedState,o);S&&(m.memoizedState=o,rn=!0),m=m.queue;var b=X0.bind(null,u,m,i);if(ou(2048,8,b,[i]),m.getSnapshot!==s||S||qt!==null&&qt.memoizedState.tag&1){if(u.flags|=2048,Oo(9,wh(),Q0.bind(null,u,m,o,s),null),bt===null)throw Error(r(349));g||(_s&124)!==0||Y0(u,s,o)}return o}function Y0(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=$e.updateQueue,s===null?(s=Om(),$e.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function Q0(i,s,o,u){s.value=o,s.getSnapshot=u,W0(s)&&Z0(i)}function X0(i,s,o){return o(function(){W0(s)&&Z0(i)})}function W0(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Wn(i,o)}catch{return!0}}function Z0(i){var s=bo(i,2);s!==null&&ii(s,i,2)}function km(i){var s=Bn();if(typeof i=="function"){var o=i;if(i=o(),La){En(!0);try{o()}finally{En(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:i},s}function J0(i,s,o,u){return i.baseState=o,Nm(i,_t,typeof u=="function"?u:jr)}function nI(i,s,o,u,m){if(Ah(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};X.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,e_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function e_(i,s){var o=s.action,u=s.payload,m=i.state;if(s.isTransition){var g=X.T,S={};X.T=S;try{var b=o(m,u),N=X.S;N!==null&&N(S,b),t_(i,s,b)}catch(Q){Um(i,s,Q)}finally{X.T=g}}else try{g=o(m,u),t_(i,s,g)}catch(Q){Um(i,s,Q)}}function t_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){n_(i,s,u)},function(u){return Um(i,s,u)}):n_(i,s,o)}function n_(i,s,o){s.status="fulfilled",s.value=o,i_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,e_(i,o)))}function Um(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,i_(s),s=s.next;while(s!==u)}i.action=null}function i_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function r_(i,s){return s}function s_(i,s){if(ht){var o=bt.formState;if(o!==null){e:{var u=$e;if(ht){if(Pt){t:{for(var m=Pt,g=ir;m.nodeType!==8;){if(!g){m=null;break t}if(m=Li(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Pt=Li(m.nextSibling),u=m.data==="F!";break e}}Pa(u)}u=!1}u&&(s=o[0])}}return o=Bn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r_,lastRenderedState:s},o.queue=u,o=b_.bind(null,$e,u),u.dispatch=o,u=km(!1),g=Hm.bind(null,$e,!1,u.queue),u=Bn(),m={state:s,dispatch:null,action:i,pending:null},u.queue=m,o=nI.bind(null,$e,m,g,o),m.dispatch=o,u.memoizedState=i,[s,o,!1]}function a_(i){var s=Gt();return o_(s,_t,i)}function o_(i,s,o){if(s=Nm(i,s,r_)[0],i=Sh(jr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=au(s)}catch(S){throw S===eu?gh:S}else u=s;s=Gt();var m=s.queue,g=m.dispatch;return o!==s.memoizedState&&($e.flags|=2048,Oo(9,wh(),iI.bind(null,m,o),null)),[u,g,i]}function iI(i,s){i.action=s}function l_(i){var s=Gt(),o=_t;if(o!==null)return o_(s,o,i);Gt(),s=s.memoizedState,o=Gt();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function Oo(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=$e.updateQueue,s===null&&(s=Om(),$e.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function wh(){return{destroy:void 0,resource:void 0}}function u_(){return Gt().memoizedState}function bh(i,s,o,u){var m=Bn();u=u===void 0?null:u,$e.flags|=i,m.memoizedState=Oo(1|s,wh(),o,u)}function ou(i,s,o,u){var m=Gt();u=u===void 0?null:u;var g=m.memoizedState.inst;_t!==null&&u!==null&&Im(u,_t.memoizedState.deps)?m.memoizedState=Oo(s,g,o,u):($e.flags|=i,m.memoizedState=Oo(1|s,g,o,u))}function c_(i,s){bh(8390656,8,i,s)}function h_(i,s){ou(2048,8,i,s)}function f_(i,s){return ou(4,2,i,s)}function d_(i,s){return ou(4,4,i,s)}function m_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function p_(i,s,o){o=o!=null?o.concat([i]):null,ou(4,4,m_.bind(null,s,i),o)}function jm(){}function g_(i,s){var o=Gt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Im(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function y_(i,s){var o=Gt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Im(s,u[1]))return u[0];if(u=i(),La){En(!0);try{i()}finally{En(!1)}}return o.memoizedState=[u,s],u}function Bm(i,s,o){return o===void 0||(_s&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=EE(),$e.lanes|=i,Rs|=i,o)}function v_(i,s,o,u){return Wn(o,s)?o:Do.current!==null?(i=Bm(i,o,u),Wn(i,s)||(rn=!0),i):(_s&42)===0?(rn=!0,i.memoizedState=o):(i=EE(),$e.lanes|=i,Rs|=i,s)}function __(i,s,o,u,m){var g=oe.p;oe.p=g!==0&&8>g?g:8;var S=X.T,b={};X.T=b,Hm(i,!1,s,o);try{var N=m(),Q=X.S;if(Q!==null&&Q(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var re=J2(N,u);lu(i,s,re,ni(i))}else lu(i,s,u,ni(i))}catch(ue){lu(i,s,{then:function(){},status:"rejected",reason:ue},ni())}finally{oe.p=g,X.T=S}}function rI(){}function zm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var m=E_(i).queue;__(i,m,s,ge,o===null?rI:function(){return T_(i),o(u)})}function E_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:ge},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function T_(i){var s=E_(i).next.queue;lu(i,s,{},ni())}function Fm(){return Sn(Ru)}function S_(){return Gt().memoizedState}function w_(){return Gt().memoizedState}function sI(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=ni();i=ys(o);var u=vs(s,i,o);u!==null&&(ii(u,s,o),nu(u,s,o)),s={cache:vm()},i.payload=s;return}s=s.return}}function aI(i,s,o){var u=ni();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ah(i)?A_(s,o):(o=lm(i,s,o,u),o!==null&&(ii(o,i,u),R_(o,s,u)))}function b_(i,s,o){var u=ni();lu(i,s,o,u)}function lu(i,s,o,u){var m={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ah(i))A_(s,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var S=s.lastRenderedState,b=g(S,o);if(m.hasEagerState=!0,m.eagerState=b,Wn(b,S))return lh(i,s,m,0),bt===null&&oh(),!1}catch{}finally{}if(o=lm(i,s,m,u),o!==null)return ii(o,i,u),R_(o,s,u),!0}return!1}function Hm(i,s,o,u){if(u={lane:2,revertLane:Tp(),action:u,hasEagerState:!1,eagerState:null,next:null},Ah(i)){if(s)throw Error(r(479))}else s=lm(i,o,u,2),s!==null&&ii(s,i,2)}function Ah(i){var s=i.alternate;return i===$e||s!==null&&s===$e}function A_(i,s){Mo=_h=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function R_(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Ki(i,o)}}var Rh={readContext:Sn,use:Th,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},C_={readContext:Sn,use:Th,useCallback:function(i,s){return Bn().memoizedState=[i,s===void 0?null:s],i},useContext:Sn,useEffect:c_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,bh(4194308,4,m_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return bh(4194308,4,i,s)},useInsertionEffect:function(i,s){bh(4,2,i,s)},useMemo:function(i,s){var o=Bn();s=s===void 0?null:s;var u=i();if(La){En(!0);try{i()}finally{En(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=Bn();if(o!==void 0){var m=o(s);if(La){En(!0);try{o(s)}finally{En(!1)}}}else m=s;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=aI.bind(null,$e,i),[u.memoizedState,i]},useRef:function(i){var s=Bn();return i={current:i},s.memoizedState=i},useState:function(i){i=km(i);var s=i.queue,o=b_.bind(null,$e,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:jm,useDeferredValue:function(i,s){var o=Bn();return Bm(o,i,s)},useTransition:function(){var i=km(!1);return i=__.bind(null,$e,i.queue,!0,!1),Bn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=$e,m=Bn();if(ht){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),bt===null)throw Error(r(349));(at&124)!==0||Y0(u,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,c_(X0.bind(null,u,g,i),[i]),u.flags|=2048,Oo(9,wh(),Q0.bind(null,u,g,o,s),null),o},useId:function(){var i=Bn(),s=bt.identifierPrefix;if(ht){var o=Lr,u=Nr;o=(u&~(1<<32-zt(u)-1)).toString(32)+o,s=""+s+"R"+o,o=Eh++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=eI++,s=""+s+"r"+o.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Fm,useFormState:s_,useActionState:s_,useOptimistic:function(i){var s=Bn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Hm.bind(null,$e,!0,o),o.dispatch=s,[i,s]},useMemoCache:Vm,useCacheRefresh:function(){return Bn().memoizedState=sI.bind(null,$e)}},I_={readContext:Sn,use:Th,useCallback:g_,useContext:Sn,useEffect:h_,useImperativeHandle:p_,useInsertionEffect:f_,useLayoutEffect:d_,useMemo:y_,useReducer:Sh,useRef:u_,useState:function(){return Sh(jr)},useDebugValue:jm,useDeferredValue:function(i,s){var o=Gt();return v_(o,_t.memoizedState,i,s)},useTransition:function(){var i=Sh(jr)[0],s=Gt().memoizedState;return[typeof i=="boolean"?i:au(i),s]},useSyncExternalStore:$0,useId:S_,useHostTransitionStatus:Fm,useFormState:a_,useActionState:a_,useOptimistic:function(i,s){var o=Gt();return J0(o,_t,i,s)},useMemoCache:Vm,useCacheRefresh:w_},oI={readContext:Sn,use:Th,useCallback:g_,useContext:Sn,useEffect:h_,useImperativeHandle:p_,useInsertionEffect:f_,useLayoutEffect:d_,useMemo:y_,useReducer:Lm,useRef:u_,useState:function(){return Lm(jr)},useDebugValue:jm,useDeferredValue:function(i,s){var o=Gt();return _t===null?Bm(o,i,s):v_(o,_t.memoizedState,i,s)},useTransition:function(){var i=Lm(jr)[0],s=Gt().memoizedState;return[typeof i=="boolean"?i:au(i),s]},useSyncExternalStore:$0,useId:S_,useHostTransitionStatus:Fm,useFormState:l_,useActionState:l_,useOptimistic:function(i,s){var o=Gt();return _t!==null?J0(o,_t,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Vm,useCacheRefresh:w_},Vo=null,uu=0;function Ch(i){var s=uu;return uu+=1,Vo===null&&(Vo=[]),j0(Vo,i,s)}function cu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Ih(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function x_(i){var s=i._init;return s(i._payload)}function D_(i){function s(q,B){if(i){var $=q.deletions;$===null?(q.deletions=[B],q.flags|=16):$.push(B)}}function o(q,B){if(!i)return null;for(;B!==null;)s(q,B),B=B.sibling;return null}function u(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function m(q,B){return q=Vr(q,B),q.index=0,q.sibling=null,q}function g(q,B,$){return q.index=$,i?($=q.alternate,$!==null?($=$.index,$<B?(q.flags|=67108866,B):$):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function S(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function b(q,B,$,se){return B===null||B.tag!==6?(B=cm($,q.mode,se),B.return=q,B):(B=m(B,$),B.return=q,B)}function N(q,B,$,se){var Te=$.type;return Te===A?re(q,B,$.props.children,se,$.key):B!==null&&(B.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===C&&x_(Te)===B.type)?(B=m(B,$.props),cu(B,$),B.return=q,B):(B=ch($.type,$.key,$.props,null,q.mode,se),cu(B,$),B.return=q,B)}function Q(q,B,$,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==$.containerInfo||B.stateNode.implementation!==$.implementation?(B=hm($,q.mode,se),B.return=q,B):(B=m(B,$.children||[]),B.return=q,B)}function re(q,B,$,se,Te){return B===null||B.tag!==7?(B=Ia($,q.mode,se,Te),B.return=q,B):(B=m(B,$),B.return=q,B)}function ue(q,B,$){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=cm(""+B,q.mode,$),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return $=ch(B.type,B.key,B.props,null,q.mode,$),cu($,B),$.return=q,$;case w:return B=hm(B,q.mode,$),B.return=q,B;case C:var se=B._init;return B=se(B._payload),ue(q,B,$)}if(Be(B)||H(B))return B=Ia(B,q.mode,$,null),B.return=q,B;if(typeof B.then=="function")return ue(q,Ch(B),$);if(B.$$typeof===F)return ue(q,mh(q,B),$);Ih(q,B)}return null}function W(q,B,$,se){var Te=B!==null?B.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Te!==null?null:b(q,B,""+$,se);if(typeof $=="object"&&$!==null){switch($.$$typeof){case E:return $.key===Te?N(q,B,$,se):null;case w:return $.key===Te?Q(q,B,$,se):null;case C:return Te=$._init,$=Te($._payload),W(q,B,$,se)}if(Be($)||H($))return Te!==null?null:re(q,B,$,se,null);if(typeof $.then=="function")return W(q,B,Ch($),se);if($.$$typeof===F)return W(q,B,mh(q,$),se);Ih(q,$)}return null}function J(q,B,$,se,Te){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return q=q.get($)||null,b(B,q,""+se,Te);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case E:return q=q.get(se.key===null?$:se.key)||null,N(B,q,se,Te);case w:return q=q.get(se.key===null?$:se.key)||null,Q(B,q,se,Te);case C:var Xe=se._init;return se=Xe(se._payload),J(q,B,$,se,Te)}if(Be(se)||H(se))return q=q.get($)||null,re(B,q,se,Te,null);if(typeof se.then=="function")return J(q,B,$,Ch(se),Te);if(se.$$typeof===F)return J(q,B,$,mh(B,se),Te);Ih(B,se)}return null}function Ue(q,B,$,se){for(var Te=null,Xe=null,Re=B,Ne=B=0,an=null;Re!==null&&Ne<$.length;Ne++){Re.index>Ne?(an=Re,Re=null):an=Re.sibling;var ut=W(q,Re,$[Ne],se);if(ut===null){Re===null&&(Re=an);break}i&&Re&&ut.alternate===null&&s(q,Re),B=g(ut,B,Ne),Xe===null?Te=ut:Xe.sibling=ut,Xe=ut,Re=an}if(Ne===$.length)return o(q,Re),ht&&Da(q,Ne),Te;if(Re===null){for(;Ne<$.length;Ne++)Re=ue(q,$[Ne],se),Re!==null&&(B=g(Re,B,Ne),Xe===null?Te=Re:Xe.sibling=Re,Xe=Re);return ht&&Da(q,Ne),Te}for(Re=u(Re);Ne<$.length;Ne++)an=J(Re,q,Ne,$[Ne],se),an!==null&&(i&&an.alternate!==null&&Re.delete(an.key===null?Ne:an.key),B=g(an,B,Ne),Xe===null?Te=an:Xe.sibling=an,Xe=an);return i&&Re.forEach(function(Ns){return s(q,Ns)}),ht&&Da(q,Ne),Te}function Oe(q,B,$,se){if($==null)throw Error(r(151));for(var Te=null,Xe=null,Re=B,Ne=B=0,an=null,ut=$.next();Re!==null&&!ut.done;Ne++,ut=$.next()){Re.index>Ne?(an=Re,Re=null):an=Re.sibling;var Ns=W(q,Re,ut.value,se);if(Ns===null){Re===null&&(Re=an);break}i&&Re&&Ns.alternate===null&&s(q,Re),B=g(Ns,B,Ne),Xe===null?Te=Ns:Xe.sibling=Ns,Xe=Ns,Re=an}if(ut.done)return o(q,Re),ht&&Da(q,Ne),Te;if(Re===null){for(;!ut.done;Ne++,ut=$.next())ut=ue(q,ut.value,se),ut!==null&&(B=g(ut,B,Ne),Xe===null?Te=ut:Xe.sibling=ut,Xe=ut);return ht&&Da(q,Ne),Te}for(Re=u(Re);!ut.done;Ne++,ut=$.next())ut=J(Re,q,Ne,ut.value,se),ut!==null&&(i&&ut.alternate!==null&&Re.delete(ut.key===null?Ne:ut.key),B=g(ut,B,Ne),Xe===null?Te=ut:Xe.sibling=ut,Xe=ut);return i&&Re.forEach(function(lx){return s(q,lx)}),ht&&Da(q,Ne),Te}function Tt(q,B,$,se){if(typeof $=="object"&&$!==null&&$.type===A&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case E:e:{for(var Te=$.key;B!==null;){if(B.key===Te){if(Te=$.type,Te===A){if(B.tag===7){o(q,B.sibling),se=m(B,$.props.children),se.return=q,q=se;break e}}else if(B.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===C&&x_(Te)===B.type){o(q,B.sibling),se=m(B,$.props),cu(se,$),se.return=q,q=se;break e}o(q,B);break}else s(q,B);B=B.sibling}$.type===A?(se=Ia($.props.children,q.mode,se,$.key),se.return=q,q=se):(se=ch($.type,$.key,$.props,null,q.mode,se),cu(se,$),se.return=q,q=se)}return S(q);case w:e:{for(Te=$.key;B!==null;){if(B.key===Te)if(B.tag===4&&B.stateNode.containerInfo===$.containerInfo&&B.stateNode.implementation===$.implementation){o(q,B.sibling),se=m(B,$.children||[]),se.return=q,q=se;break e}else{o(q,B);break}else s(q,B);B=B.sibling}se=hm($,q.mode,se),se.return=q,q=se}return S(q);case C:return Te=$._init,$=Te($._payload),Tt(q,B,$,se)}if(Be($))return Ue(q,B,$,se);if(H($)){if(Te=H($),typeof Te!="function")throw Error(r(150));return $=Te.call($),Oe(q,B,$,se)}if(typeof $.then=="function")return Tt(q,B,Ch($),se);if($.$$typeof===F)return Tt(q,B,mh(q,$),se);Ih(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,B!==null&&B.tag===6?(o(q,B.sibling),se=m(B,$),se.return=q,q=se):(o(q,B),se=cm($,q.mode,se),se.return=q,q=se),S(q)):o(q,B)}return function(q,B,$,se){try{uu=0;var Te=Tt(q,B,$,se);return Vo=null,Te}catch(Re){if(Re===eu||Re===gh)throw Re;var Xe=Zn(29,Re,null,q.mode);return Xe.lanes=se,Xe.return=q,Xe}finally{}}}var No=D_(!0),M_=D_(!1),Si=ae(null),rr=null;function Es(i){var s=i.alternate;fe(Zt,Zt.current&1),fe(Si,i),rr===null&&(s===null||Do.current!==null||s.memoizedState!==null)&&(rr=i)}function P_(i){if(i.tag===22){if(fe(Zt,Zt.current),fe(Si,i),rr===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(rr=i)}}else Ts()}function Ts(){fe(Zt,Zt.current),fe(Si,Si.current)}function Br(i){me(Si),rr===i&&(rr=null),me(Zt)}var Zt=ae(0);function xh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Op(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function qm(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Gm={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=ni(),m=ys(u);m.payload=s,o!=null&&(m.callback=o),s=vs(i,m,u),s!==null&&(ii(s,i,u),nu(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=ni(),m=ys(u);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=vs(i,m,u),s!==null&&(ii(s,i,u),nu(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=ni(),u=ys(o);u.tag=2,s!=null&&(u.callback=s),s=vs(i,u,o),s!==null&&(ii(s,i,o),nu(s,i,o))}};function O_(i,s,o,u,m,g,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,S):s.prototype&&s.prototype.isPureReactComponent?!Kl(o,u)||!Kl(m,g):!0}function V_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&Gm.enqueueReplaceState(s,s.state,null)}function ka(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}var Dh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function N_(i){Dh(i)}function L_(i){console.error(i)}function k_(i){Dh(i)}function Mh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function U_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Km(i,s,o){return o=ys(o),o.tag=3,o.payload={element:null},o.callback=function(){Mh(i,s)},o}function j_(i){return i=ys(i),i.tag=3,i}function B_(i,s,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;i.payload=function(){return m(g)},i.callback=function(){U_(s,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){U_(s,o,u),typeof m!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function lI(i,s,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Wl(s,o,m,!0),o=Si.current,o!==null){switch(o.tag){case 13:return rr===null?gp():o.alternate===null&&Ot===0&&(Ot=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Tm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),vp(i,u,m)),!1;case 22:return o.flags|=65536,u===Tm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),vp(i,u,m)),!1}throw Error(r(435,o.tag))}return vp(i,u,m),gp(),!1}if(ht)return s=Si.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==mm&&(i=Error(r(422),{cause:u}),Xl(vi(i,o)))):(u!==mm&&(s=Error(r(423),{cause:u}),Xl(vi(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=vi(u,o),m=Km(i.stateNode,u,m),bm(i,m),Ot!==4&&(Ot=2)),!1;var g=Error(r(520),{cause:u});if(g=vi(g,o),yu===null?yu=[g]:yu.push(g),Ot!==4&&(Ot=2),s===null)return!0;u=vi(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=Km(o.stateNode,u,i),bm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Cs===null||!Cs.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=j_(m),B_(m,i,o,u),bm(o,m),!1}o=o.return}while(o!==null);return!1}var z_=Error(r(461)),rn=!1;function fn(i,s,o,u){s.child=i===null?M_(s,null,o,u):No(s,i.child,o,u)}function F_(i,s,o,u,m){o=o.render;var g=s.ref;if("ref"in u){var S={};for(var b in u)b!=="ref"&&(S[b]=u[b])}else S=u;return Va(s),u=xm(i,s,o,S,g,m),b=Dm(),i!==null&&!rn?(Mm(i,s,m),zr(i,s,m)):(ht&&b&&fm(s),s.flags|=1,fn(i,s,u,m),s.child)}function H_(i,s,o,u,m){if(i===null){var g=o.type;return typeof g=="function"&&!um(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,q_(i,s,g,u,m)):(i=ch(o.type,null,u,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!ep(i,m)){var S=g.memoizedProps;if(o=o.compare,o=o!==null?o:Kl,o(S,u)&&i.ref===s.ref)return zr(i,s,m)}return s.flags|=1,i=Vr(g,u),i.ref=s.ref,i.return=s,s.child=i}function q_(i,s,o,u,m){if(i!==null){var g=i.memoizedProps;if(Kl(g,u)&&i.ref===s.ref)if(rn=!1,s.pendingProps=u=g,ep(i,m))(i.flags&131072)!==0&&(rn=!0);else return s.lanes=i.lanes,zr(i,s,m)}return $m(i,s,o,u,m)}function G_(i,s,o){var u=s.pendingProps,m=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(m=s.child=i.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return K_(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&ph(s,g!==null?g.cachePool:null),g!==null?q0(s,g):Rm(),P_(s);else return s.lanes=s.childLanes=536870912,K_(i,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(ph(s,g.cachePool),q0(s,g),Ts(),s.memoizedState=null):(i!==null&&ph(s,null),Rm(),Ts());return fn(i,s,m,o),s.child}function K_(i,s,o,u){var m=Em();return m=m===null?null:{parent:Wt._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},i!==null&&ph(s,null),Rm(),P_(s),i!==null&&Wl(i,s,u,!0),null}function Ph(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function $m(i,s,o,u,m){return Va(s),o=xm(i,s,o,u,void 0,m),u=Dm(),i!==null&&!rn?(Mm(i,s,m),zr(i,s,m)):(ht&&u&&fm(s),s.flags|=1,fn(i,s,o,m),s.child)}function $_(i,s,o,u,m,g){return Va(s),s.updateQueue=null,o=K0(s,u,o,m),G0(i),u=Dm(),i!==null&&!rn?(Mm(i,s,g),zr(i,s,g)):(ht&&u&&fm(s),s.flags|=1,fn(i,s,o,g),s.child)}function Y_(i,s,o,u,m){if(Va(s),s.stateNode===null){var g=Ao,S=o.contextType;typeof S=="object"&&S!==null&&(g=Sn(S)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Gm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Sm(s),S=o.contextType,g.context=typeof S=="object"&&S!==null?Sn(S):Ao,g.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(qm(s,o,S,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&Gm.enqueueReplaceState(g,g.state,null),ru(s,u,g,m),iu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var b=s.memoizedProps,N=ka(o,b);g.props=N;var Q=g.context,re=o.contextType;S=Ao,typeof re=="object"&&re!==null&&(S=Sn(re));var ue=o.getDerivedStateFromProps;re=typeof ue=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||Q!==S)&&V_(s,g,u,S),gs=!1;var W=s.memoizedState;g.state=W,ru(s,u,g,m),iu(),Q=s.memoizedState,b||W!==Q||gs?(typeof ue=="function"&&(qm(s,o,ue,u),Q=s.memoizedState),(N=gs||O_(s,o,N,u,W,Q,S))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=S,u=N):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,wm(i,s),S=s.memoizedProps,re=ka(o,S),g.props=re,ue=s.pendingProps,W=g.context,Q=o.contextType,N=Ao,typeof Q=="object"&&Q!==null&&(N=Sn(Q)),b=o.getDerivedStateFromProps,(Q=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==ue||W!==N)&&V_(s,g,u,N),gs=!1,W=s.memoizedState,g.state=W,ru(s,u,g,m),iu();var J=s.memoizedState;S!==ue||W!==J||gs||i!==null&&i.dependencies!==null&&dh(i.dependencies)?(typeof b=="function"&&(qm(s,o,b,u),J=s.memoizedState),(re=gs||O_(s,o,re,u,W,J,N)||i!==null&&i.dependencies!==null&&dh(i.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,J,N),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,J,N)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=J),g.props=u,g.state=J,g.context=N,u=re):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,Ph(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=No(s,i.child,null,m),s.child=No(s,null,o,m)):fn(i,s,o,m),s.memoizedState=g.state,i=s.child):i=zr(i,s,m),i}function Q_(i,s,o,u){return Ql(),s.flags|=256,fn(i,s,o,u),s.child}var Ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qm(i){return{baseLanes:i,cachePool:L0()}}function Xm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=wi),i}function X_(i,s,o){var u=s.pendingProps,m=!1,g=(s.flags&128)!==0,S;if((S=g)||(S=i!==null&&i.memoizedState===null?!1:(Zt.current&2)!==0),S&&(m=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(ht){if(m?Es(s):Ts(),ht){var b=Pt,N;if(N=b){e:{for(N=b,b=ir;N.nodeType!==8;){if(!b){b=null;break e}if(N=Li(N.nextSibling),N===null){b=null;break e}}b=N}b!==null?(s.memoizedState={dehydrated:b,treeContext:xa!==null?{id:Nr,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},N=Zn(18,null,null,0),N.stateNode=b,N.return=s,s.child=N,Ln=s,Pt=null,N=!0):N=!1}N||Pa(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Op(b)?s.lanes=32:s.lanes=536870912,null;Br(s)}return b=u.children,u=u.fallback,m?(Ts(),m=s.mode,b=Oh({mode:"hidden",children:b},m),u=Ia(u,m,o,null),b.return=s,u.return=s,b.sibling=u,s.child=b,m=s.child,m.memoizedState=Qm(o),m.childLanes=Xm(i,S,o),s.memoizedState=Ym,u):(Es(s),Wm(s,b))}if(N=i.memoizedState,N!==null&&(b=N.dehydrated,b!==null)){if(g)s.flags&256?(Es(s),s.flags&=-257,s=Zm(i,s,o)):s.memoizedState!==null?(Ts(),s.child=i.child,s.flags|=128,s=null):(Ts(),m=u.fallback,b=s.mode,u=Oh({mode:"visible",children:u.children},b),m=Ia(m,b,o,null),m.flags|=2,u.return=s,m.return=s,u.sibling=m,s.child=u,No(s,i.child,null,o),u=s.child,u.memoizedState=Qm(o),u.childLanes=Xm(i,S,o),s.memoizedState=Ym,s=m);else if(Es(s),Op(b)){if(S=b.nextSibling&&b.nextSibling.dataset,S)var Q=S.dgst;S=Q,u=Error(r(419)),u.stack="",u.digest=S,Xl({value:u,source:null,stack:null}),s=Zm(i,s,o)}else if(rn||Wl(i,s,o,!1),S=(o&i.childLanes)!==0,rn||S){if(S=bt,S!==null&&(u=o&-o,u=(u&42)!==0?1:$i(u),u=(u&(S.suspendedLanes|o))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,bo(i,u),ii(S,i,u),z_;b.data==="$?"||gp(),s=Zm(i,s,o)}else b.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=N.treeContext,Pt=Li(b.nextSibling),Ln=s,ht=!0,Ma=null,ir=!1,i!==null&&(Ei[Ti++]=Nr,Ei[Ti++]=Lr,Ei[Ti++]=xa,Nr=i.id,Lr=i.overflow,xa=s),s=Wm(s,u.children),s.flags|=4096);return s}return m?(Ts(),m=u.fallback,b=s.mode,N=i.child,Q=N.sibling,u=Vr(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,Q!==null?m=Vr(Q,m):(m=Ia(m,b,o,null),m.flags|=2),m.return=s,u.return=s,u.sibling=m,s.child=u,u=m,m=s.child,b=i.child.memoizedState,b===null?b=Qm(o):(N=b.cachePool,N!==null?(Q=Wt._currentValue,N=N.parent!==Q?{parent:Q,pool:Q}:N):N=L0(),b={baseLanes:b.baseLanes|o,cachePool:N}),m.memoizedState=b,m.childLanes=Xm(i,S,o),s.memoizedState=Ym,u):(Es(s),o=i.child,i=o.sibling,o=Vr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=o,s.memoizedState=null,o)}function Wm(i,s){return s=Oh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Oh(i,s){return i=Zn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Zm(i,s,o){return No(s,i.child,null,o),i=Wm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function W_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),gm(i.return,s,o)}function Jm(i,s,o,u,m){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=m)}function Z_(i,s,o){var u=s.pendingProps,m=u.revealOrder,g=u.tail;if(fn(i,s,u.children,o),u=Zt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&W_(i,o,s);else if(i.tag===19)W_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(fe(Zt,u),m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&xh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Jm(s,!1,m,o,g);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&xh(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Jm(s,!0,o,null,g);break;case"together":Jm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function zr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Rs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Wl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Vr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Vr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function ep(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&dh(i)))}function uI(i,s,o){switch(s.tag){case 3:yt(s,s.stateNode.containerInfo),ps(s,Wt,i.memoizedState.cache),Ql();break;case 27:case 5:Rt(s);break;case 4:yt(s,s.stateNode.containerInfo);break;case 10:ps(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Es(s),s.flags|=128,null):(o&s.child.childLanes)!==0?X_(i,s,o):(Es(s),i=zr(i,s,o),i!==null?i.sibling:null);Es(s);break;case 19:var m=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Wl(i,s,o,!1),u=(o&s.childLanes)!==0),m){if(u)return Z_(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),fe(Zt,Zt.current),u)break;return null;case 22:case 23:return s.lanes=0,G_(i,s,o);case 24:ps(s,Wt,i.memoizedState.cache)}return zr(i,s,o)}function J_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)rn=!0;else{if(!ep(i,o)&&(s.flags&128)===0)return rn=!1,uI(i,s,o);rn=(i.flags&131072)!==0}else rn=!1,ht&&(s.flags&1048576)!==0&&x0(s,fh,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var u=s.elementType,m=u._init;if(u=m(u._payload),s.type=u,typeof u=="function")um(u)?(i=ka(u,i),s.tag=1,s=Y_(null,s,u,i,o)):(s.tag=0,s=$m(null,s,u,i,o));else{if(u!=null){if(m=u.$$typeof,m===ee){s.tag=11,s=F_(null,s,u,i,o);break e}else if(m===M){s.tag=14,s=H_(null,s,u,i,o);break e}}throw s=De(u)||u,Error(r(306,s,""))}}return s;case 0:return $m(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,m=ka(u,s.pendingProps),Y_(i,s,u,m,o);case 3:e:{if(yt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;m=g.element,wm(i,s),ru(s,u,null,o);var S=s.memoizedState;if(u=S.cache,ps(s,Wt,u),u!==g.cache&&ym(s,[Wt],o,!0),iu(),u=S.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Q_(i,s,u,o);break e}else if(u!==m){m=vi(Error(r(424)),s),Xl(m),s=Q_(i,s,u,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Pt=Li(i.firstChild),Ln=s,ht=!0,Ma=null,ir=!0,o=M_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ql(),u===m){s=zr(i,s,o);break e}fn(i,s,u,o)}s=s.child}return s;case 26:return Ph(i,s),i===null?(o=iT(s.type,null,s.pendingProps,null))?s.memoizedState=o:ht||(o=s.type,i=s.pendingProps,u=$h(Ce.current).createElement(o),u[le]=s,u[de]=i,mn(u,o,i),it(u),s.stateNode=u):s.memoizedState=iT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Rt(s),i===null&&ht&&(u=s.stateNode=eT(s.type,s.pendingProps,Ce.current),Ln=s,ir=!0,m=Pt,Ds(s.type)?(Vp=m,Pt=Li(u.firstChild)):Pt=m),fn(i,s,s.pendingProps.children,o),Ph(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ht&&((m=u=Pt)&&(u=kI(u,s.type,s.pendingProps,ir),u!==null?(s.stateNode=u,Ln=s,Pt=Li(u.firstChild),ir=!1,m=!0):m=!1),m||Pa(s)),Rt(s),m=s.type,g=s.pendingProps,S=i!==null?i.memoizedProps:null,u=g.children,Dp(m,g)?u=null:S!==null&&Dp(m,S)&&(s.flags|=32),s.memoizedState!==null&&(m=xm(i,s,tI,null,null,o),Ru._currentValue=m),Ph(i,s),fn(i,s,u,o),s.child;case 6:return i===null&&ht&&((i=o=Pt)&&(o=UI(o,s.pendingProps,ir),o!==null?(s.stateNode=o,Ln=s,Pt=null,i=!0):i=!1),i||Pa(s)),null;case 13:return X_(i,s,o);case 4:return yt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=No(s,null,u,o):fn(i,s,u,o),s.child;case 11:return F_(i,s,s.type,s.pendingProps,o);case 7:return fn(i,s,s.pendingProps,o),s.child;case 8:return fn(i,s,s.pendingProps.children,o),s.child;case 12:return fn(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,ps(s,s.type,u.value),fn(i,s,u.children,o),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,Va(s),m=Sn(m),u=u(m),s.flags|=1,fn(i,s,u,o),s.child;case 14:return H_(i,s,s.type,s.pendingProps,o);case 15:return q_(i,s,s.type,s.pendingProps,o);case 19:return Z_(i,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},i===null?(o=Oh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Vr(i.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return G_(i,s,o);case 24:return Va(s),u=Sn(Wt),i===null?(m=Em(),m===null&&(m=bt,g=vm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:u,cache:m},Sm(s),ps(s,Wt,m)):((i.lanes&o)!==0&&(wm(i,s),ru(s,null,null,o),iu()),m=i.memoizedState,g=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),ps(s,Wt,u)):(u=g.cache,ps(s,Wt,u),u!==m.cache&&ym(s,[Wt],o,!0))),fn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Fr(i){i.flags|=4}function eE(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!lT(s)){if(s=Si.current,s!==null&&((at&4194048)===at?rr!==null:(at&62914560)!==at&&(at&536870912)===0||s!==rr))throw tu=Tm,k0;i.flags|=8192}}function Vh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?ma():536870912,i.lanes|=s,jo|=s)}function hu(i,s){if(!ht)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function It(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function cI(i,s,o){var u=s.pendingProps;switch(dm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(s),null;case 1:return It(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ur(Wt),oi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Yl(s)?Fr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,P0())),It(s),null;case 26:return o=s.memoizedState,i===null?(Fr(s),o!==null?(It(s),eE(s,o)):(It(s),s.flags&=-16777217)):o?o!==i.memoizedState?(Fr(s),It(s),eE(s,o)):(It(s),s.flags&=-16777217):(i.memoizedProps!==u&&Fr(s),It(s),s.flags&=-16777217),null;case 27:_n(s),o=Ce.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Fr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return It(s),null}i=be.current,Yl(s)?D0(s):(i=eT(m,u,o),s.stateNode=i,Fr(s))}return It(s),null;case 5:if(_n(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Fr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return It(s),null}if(i=be.current,Yl(s))D0(s);else{switch(m=$h(Ce.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?m.createElement(o,{is:u.is}):m.createElement(o)}}i[le]=s,i[de]=u;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;e:switch(mn(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Fr(s)}}return It(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&Fr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ce.current,Yl(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,m=Ln,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[le]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||$E(i.nodeValue,o)),i||Pa(s)}else i=$h(i).createTextNode(u),i[le]=s,s.stateNode=i}return It(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Yl(s),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[le]=s}else Ql(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;It(s),m=!1}else m=P0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Br(s),s):(Br(s),null)}if(Br(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),Vh(s,s.updateQueue),It(s),null;case 4:return oi(),i===null&&Ap(s.stateNode.containerInfo),It(s),null;case 10:return Ur(s.type),It(s),null;case 19:if(me(Zt),m=s.memoizedState,m===null)return It(s),null;if(u=(s.flags&128)!==0,g=m.rendering,g===null)if(u)hu(m,!1);else{if(Ot!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=xh(i),g!==null){for(s.flags|=128,hu(m,!1),i=g.updateQueue,s.updateQueue=i,Vh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)I0(o,i),o=o.sibling;return fe(Zt,Zt.current&1|2),s.child}i=i.sibling}m.tail!==null&&Mn()>kh&&(s.flags|=128,u=!0,hu(m,!1),s.lanes=4194304)}else{if(!u)if(i=xh(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,Vh(s,i),hu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!ht)return It(s),null}else 2*Mn()-m.renderingStartTime>kh&&o!==536870912&&(s.flags|=128,u=!0,hu(m,!1),s.lanes=4194304);m.isBackwards?(g.sibling=s.child,s.child=g):(i=m.last,i!==null?i.sibling=g:s.child=g,m.last=g)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Mn(),s.sibling=null,i=Zt.current,fe(Zt,u?i&1|2:i&1),s):(It(s),null);case 22:case 23:return Br(s),Cm(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(It(s),s.subtreeFlags&6&&(s.flags|=8192)):It(s),o=s.updateQueue,o!==null&&Vh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&me(Na),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ur(Wt),It(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function hI(i,s){switch(dm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ur(Wt),oi(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return _n(s),null;case 13:if(Br(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ql()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return me(Zt),null;case 4:return oi(),null;case 10:return Ur(s.type),null;case 22:case 23:return Br(s),Cm(),i!==null&&me(Na),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ur(Wt),null;case 25:return null;default:return null}}function tE(i,s){switch(dm(s),s.tag){case 3:Ur(Wt),oi();break;case 26:case 27:case 5:_n(s);break;case 4:oi();break;case 13:Br(s);break;case 19:me(Zt);break;case 10:Ur(s.type);break;case 22:case 23:Br(s),Cm(),i!==null&&me(Na);break;case 24:Ur(Wt)}}function fu(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&i)===i){u=void 0;var g=o.create,S=o.inst;u=g(),S.destroy=u}o=o.next}while(o!==m)}}catch(b){wt(s,s.return,b)}}function Ss(i,s,o){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&i)===i){var S=u.inst,b=S.destroy;if(b!==void 0){S.destroy=void 0,m=s;var N=o,Q=b;try{Q()}catch(re){wt(m,N,re)}}}u=u.next}while(u!==g)}}catch(re){wt(s,s.return,re)}}function nE(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{H0(s,o)}catch(u){wt(i,i.return,u)}}}function iE(i,s,o){o.props=ka(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){wt(i,s,u)}}function du(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(m){wt(i,s,m)}}function sr(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){wt(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){wt(i,s,m)}else o.current=null}function rE(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){wt(i,i.return,m)}}function tp(i,s,o){try{var u=i.stateNode;PI(u,i.type,o,s),u[de]=s}catch(m){wt(i,i.return,m)}}function sE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ds(i.type)||i.tag===4}function np(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||sE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ds(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ip(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Kh));else if(u!==4&&(u===27&&Ds(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(ip(i,s,o),i=i.sibling;i!==null;)ip(i,s,o),i=i.sibling}function Nh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&Ds(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Nh(i,s,o),i=i.sibling;i!==null;)Nh(i,s,o),i=i.sibling}function aE(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);mn(s,u,o),s[le]=i,s[de]=o}catch(g){wt(i,i.return,g)}}var Hr=!1,Lt=!1,rp=!1,oE=typeof WeakSet=="function"?WeakSet:Set,sn=null;function fI(i,s){if(i=i.containerInfo,Ip=Jh,i=v0(i),nm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var S=0,b=-1,N=-1,Q=0,re=0,ue=i,W=null;t:for(;;){for(var J;ue!==o||m!==0&&ue.nodeType!==3||(b=S+m),ue!==g||u!==0&&ue.nodeType!==3||(N=S+u),ue.nodeType===3&&(S+=ue.nodeValue.length),(J=ue.firstChild)!==null;)W=ue,ue=J;for(;;){if(ue===i)break t;if(W===o&&++Q===m&&(b=S),W===g&&++re===u&&(N=S),(J=ue.nextSibling)!==null)break;ue=W,W=ue.parentNode}ue=J}o=b===-1||N===-1?null:{start:b,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(xp={focusedElem:i,selectionRange:o},Jh=!1,sn=s;sn!==null;)if(s=sn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,sn=i;else for(;sn!==null;){switch(s=sn,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ue=ka(o.type,m,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(Ue,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Oe){wt(o,o.return,Oe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Pp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Pp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,sn=i;break}sn=s.return}}function lE(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ws(i,o),u&4&&fu(5,o);break;case 1:if(ws(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(S){wt(o,o.return,S)}else{var m=ka(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(S){wt(o,o.return,S)}}u&64&&nE(o),u&512&&du(o,o.return);break;case 3:if(ws(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{H0(i,s)}catch(S){wt(o,o.return,S)}}break;case 27:s===null&&u&4&&aE(o);case 26:case 5:ws(i,o),s===null&&u&4&&rE(o),u&512&&du(o,o.return);break;case 12:ws(i,o);break;case 13:ws(i,o),u&4&&hE(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=TI.bind(null,o),jI(i,o))));break;case 22:if(u=o.memoizedState!==null||Hr,!u){s=s!==null&&s.memoizedState!==null||Lt,m=Hr;var g=Lt;Hr=u,(Lt=s)&&!g?bs(i,o,(o.subtreeFlags&8772)!==0):ws(i,o),Hr=m,Lt=g}break;case 30:break;default:ws(i,o)}}function uE(i){var s=i.alternate;s!==null&&(i.alternate=null,uE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&we(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ct=null,zn=!1;function qr(i,s,o){for(o=o.child;o!==null;)cE(i,s,o),o=o.sibling}function cE(i,s,o){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ct,o)}catch{}switch(o.tag){case 26:Lt||sr(o,s),qr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Lt||sr(o,s);var u=Ct,m=zn;Ds(o.type)&&(Ct=o.stateNode,zn=!1),qr(i,s,o),Su(o.stateNode),Ct=u,zn=m;break;case 5:Lt||sr(o,s);case 6:if(u=Ct,m=zn,Ct=null,qr(i,s,o),Ct=u,zn=m,Ct!==null)if(zn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(o.stateNode)}catch(g){wt(o,s,g)}else try{Ct.removeChild(o.stateNode)}catch(g){wt(o,s,g)}break;case 18:Ct!==null&&(zn?(i=Ct,ZE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Du(i)):ZE(Ct,o.stateNode));break;case 4:u=Ct,m=zn,Ct=o.stateNode.containerInfo,zn=!0,qr(i,s,o),Ct=u,zn=m;break;case 0:case 11:case 14:case 15:Lt||Ss(2,o,s),Lt||Ss(4,o,s),qr(i,s,o);break;case 1:Lt||(sr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&iE(o,s,u)),qr(i,s,o);break;case 21:qr(i,s,o);break;case 22:Lt=(u=Lt)||o.memoizedState!==null,qr(i,s,o),Lt=u;break;default:qr(i,s,o)}}function hE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Du(i)}catch(o){wt(s,s.return,o)}}function dI(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new oE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new oE),s;default:throw Error(r(435,i.tag))}}function sp(i,s){var o=dI(i);s.forEach(function(u){var m=SI.bind(null,i,u);o.has(u)||(o.add(u),u.then(m,m))})}function Jn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],g=i,S=s,b=S;e:for(;b!==null;){switch(b.tag){case 27:if(Ds(b.type)){Ct=b.stateNode,zn=!1;break e}break;case 5:Ct=b.stateNode,zn=!1;break e;case 3:case 4:Ct=b.stateNode.containerInfo,zn=!0;break e}b=b.return}if(Ct===null)throw Error(r(160));cE(g,S,m),Ct=null,zn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)fE(s,i),s=s.sibling}var Ni=null;function fE(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Jn(s,i),ei(i),u&4&&(Ss(3,i,i.return),fu(3,i),Ss(5,i,i.return));break;case 1:Jn(s,i),ei(i),u&512&&(Lt||o===null||sr(o,o.return)),u&64&&Hr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=Ni;if(Jn(s,i),ei(i),u&512&&(Lt||o===null||sr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Pe]||g[le]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),mn(g,u,o),g[le]=i,it(g),u=g;break e;case"link":var S=aT("link","href",m).get(u+(o.href||""));if(S){for(var b=0;b<S.length;b++)if(g=S[b],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(b,1);break t}}g=m.createElement(u),mn(g,u,o),m.head.appendChild(g);break;case"meta":if(S=aT("meta","content",m).get(u+(o.content||""))){for(b=0;b<S.length;b++)if(g=S[b],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(b,1);break t}}g=m.createElement(u),mn(g,u,o),m.head.appendChild(g);break;default:throw Error(r(468,u))}g[le]=i,it(g),u=g}i.stateNode=u}else oT(m,i.type,i.stateNode);else i.stateNode=sT(m,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?oT(m,i.type,i.stateNode):sT(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&tp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Jn(s,i),ei(i),u&512&&(Lt||o===null||sr(o,o.return)),o!==null&&u&4&&tp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Jn(s,i),ei(i),u&512&&(Lt||o===null||sr(o,o.return)),i.flags&32){m=i.stateNode;try{mi(m,"")}catch(J){wt(i,i.return,J)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,tp(i,m,o!==null?o.memoizedProps:m)),u&1024&&(rp=!0);break;case 6:if(Jn(s,i),ei(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(J){wt(i,i.return,J)}}break;case 3:if(Xh=null,m=Ni,Ni=Yh(s.containerInfo),Jn(s,i),Ni=m,ei(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Du(s.containerInfo)}catch(J){wt(i,i.return,J)}rp&&(rp=!1,dE(i));break;case 4:u=Ni,Ni=Yh(i.stateNode.containerInfo),Jn(s,i),ei(i),Ni=u;break;case 12:Jn(s,i),ei(i);break;case 13:Jn(s,i),ei(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(hp=Mn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,sp(i,u)));break;case 22:m=i.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,Q=Hr,re=Lt;if(Hr=Q||m,Lt=re||N,Jn(s,i),Lt=re,Hr=Q,ei(i),u&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||N||Hr||Lt||Ua(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){N=o=s;try{if(g=N.stateNode,m)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{b=N.stateNode;var ue=N.memoizedProps.style,W=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;b.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(J){wt(N,N.return,J)}}}else if(s.tag===6){if(o===null){N=s;try{N.stateNode.nodeValue=m?"":N.memoizedProps}catch(J){wt(N,N.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,sp(i,o))));break;case 19:Jn(s,i),ei(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,sp(i,u)));break;case 30:break;case 21:break;default:Jn(s,i),ei(i)}}function ei(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(sE(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,g=np(i);Nh(i,g,m);break;case 5:var S=o.stateNode;o.flags&32&&(mi(S,""),o.flags&=-33);var b=np(i);Nh(i,b,S);break;case 3:case 4:var N=o.stateNode.containerInfo,Q=np(i);ip(i,Q,N);break;default:throw Error(r(161))}}catch(re){wt(i,i.return,re)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function dE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;dE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ws(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)lE(i,s.alternate,s),s=s.sibling}function Ua(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ss(4,s,s.return),Ua(s);break;case 1:sr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&iE(s,s.return,o),Ua(s);break;case 27:Su(s.stateNode);case 26:case 5:sr(s,s.return),Ua(s);break;case 22:s.memoizedState===null&&Ua(s);break;case 30:Ua(s);break;default:Ua(s)}i=i.sibling}}function bs(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=i,g=s,S=g.flags;switch(g.tag){case 0:case 11:case 15:bs(m,g,o),fu(4,g);break;case 1:if(bs(m,g,o),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){wt(u,u.return,Q)}if(u=g,m=u.updateQueue,m!==null){var b=u.stateNode;try{var N=m.shared.hiddenCallbacks;if(N!==null)for(m.shared.hiddenCallbacks=null,m=0;m<N.length;m++)F0(N[m],b)}catch(Q){wt(u,u.return,Q)}}o&&S&64&&nE(g),du(g,g.return);break;case 27:aE(g);case 26:case 5:bs(m,g,o),o&&u===null&&S&4&&rE(g),du(g,g.return);break;case 12:bs(m,g,o);break;case 13:bs(m,g,o),o&&S&4&&hE(m,g);break;case 22:g.memoizedState===null&&bs(m,g,o),du(g,g.return);break;case 30:break;default:bs(m,g,o)}s=s.sibling}}function ap(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Zl(o))}function op(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Zl(i))}function ar(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)mE(i,s,o,u),s=s.sibling}function mE(i,s,o,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:ar(i,s,o,u),m&2048&&fu(9,s);break;case 1:ar(i,s,o,u);break;case 3:ar(i,s,o,u),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Zl(i)));break;case 12:if(m&2048){ar(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,S=g.id,b=g.onPostCommit;typeof b=="function"&&b(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){wt(s,s.return,N)}}else ar(i,s,o,u);break;case 13:ar(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,S=s.alternate,s.memoizedState!==null?g._visibility&2?ar(i,s,o,u):mu(i,s):g._visibility&2?ar(i,s,o,u):(g._visibility|=2,Lo(i,s,o,u,(s.subtreeFlags&10256)!==0)),m&2048&&ap(S,s);break;case 24:ar(i,s,o,u),m&2048&&op(s.alternate,s);break;default:ar(i,s,o,u)}}function Lo(i,s,o,u,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,S=s,b=o,N=u,Q=S.flags;switch(S.tag){case 0:case 11:case 15:Lo(g,S,b,N,m),fu(8,S);break;case 23:break;case 22:var re=S.stateNode;S.memoizedState!==null?re._visibility&2?Lo(g,S,b,N,m):mu(g,S):(re._visibility|=2,Lo(g,S,b,N,m)),m&&Q&2048&&ap(S.alternate,S);break;case 24:Lo(g,S,b,N,m),m&&Q&2048&&op(S.alternate,S);break;default:Lo(g,S,b,N,m)}s=s.sibling}}function mu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,m=u.flags;switch(u.tag){case 22:mu(o,u),m&2048&&ap(u.alternate,u);break;case 24:mu(o,u),m&2048&&op(u.alternate,u);break;default:mu(o,u)}s=s.sibling}}var pu=8192;function ko(i){if(i.subtreeFlags&pu)for(i=i.child;i!==null;)pE(i),i=i.sibling}function pE(i){switch(i.tag){case 26:ko(i),i.flags&pu&&i.memoizedState!==null&&ZI(Ni,i.memoizedState,i.memoizedProps);break;case 5:ko(i);break;case 3:case 4:var s=Ni;Ni=Yh(i.stateNode.containerInfo),ko(i),Ni=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=pu,pu=16777216,ko(i),pu=s):ko(i));break;default:ko(i)}}function gE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function gu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];sn=u,vE(u,i)}gE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)yE(i),i=i.sibling}function yE(i){switch(i.tag){case 0:case 11:case 15:gu(i),i.flags&2048&&Ss(9,i,i.return);break;case 3:gu(i);break;case 12:gu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Lh(i)):gu(i);break;default:gu(i)}}function Lh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];sn=u,vE(u,i)}gE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ss(8,s,s.return),Lh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Lh(s));break;default:Lh(s)}i=i.sibling}}function vE(i,s){for(;sn!==null;){var o=sn;switch(o.tag){case 0:case 11:case 15:Ss(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Zl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,sn=u;else e:for(o=i;sn!==null;){u=sn;var m=u.sibling,g=u.return;if(uE(u),u===o){sn=null;break e}if(m!==null){m.return=g,sn=m;break e}sn=g}}}var mI={getCacheForType:function(i){var s=Sn(Wt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},pI=typeof WeakMap=="function"?WeakMap:Map,pt=0,bt=null,Ze=null,at=0,gt=0,ti=null,As=!1,Uo=!1,lp=!1,Gr=0,Ot=0,Rs=0,ja=0,up=0,wi=0,jo=0,yu=null,Fn=null,cp=!1,hp=0,kh=1/0,Uh=null,Cs=null,dn=0,Is=null,Bo=null,zo=0,fp=0,dp=null,_E=null,vu=0,mp=null;function ni(){if((pt&2)!==0&&at!==0)return at&-at;if(X.T!==null){var i=Io;return i!==0?i:Tp()}return k()}function EE(){wi===0&&(wi=(at&536870912)===0||ht?Ar():536870912);var i=Si.current;return i!==null&&(i.flags|=32),wi}function ii(i,s,o){(i===bt&&(gt===2||gt===9)||i.cancelPendingCommit!==null)&&(Fo(i,0),xs(i,at,wi,!1)),Pi(i,o),((pt&2)===0||i!==bt)&&(i===bt&&((pt&2)===0&&(ja|=o),Ot===4&&xs(i,at,wi,!1)),or(i))}function TE(i,s,o){if((pt&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&i.expiredLanes)===0||ci(i,s),m=u?vI(i,s):yp(i,s,!0),g=u;do{if(m===0){Uo&&!u&&xs(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!gI(o)){m=yp(i,s,!1),g=!1;continue}if(m===2){if(g=s,i.errorRecoveryDisabledLanes&g)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var b=i;m=yu;var N=b.current.memoizedState.isDehydrated;if(N&&(Fo(b,S).flags|=256),S=yp(b,S,!1),S!==2){if(lp&&!N){b.errorRecoveryDisabledLanes|=g,ja|=g,m=4;break e}g=Fn,Fn=m,g!==null&&(Fn===null?Fn=g:Fn.push.apply(Fn,g))}m=S}if(g=!1,m!==2)continue}}if(m===1){Fo(i,0),xs(i,s,0,!0);break}e:{switch(u=i,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:xs(u,s,wi,!As);break e;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=hp+300-Mn(),10<m)){if(xs(u,s,wi,!As),br(u,0,!0)!==0)break e;u.timeoutHandle=XE(SE.bind(null,u,o,Fn,Uh,cp,s,wi,ja,jo,As,g,2,-0,0),m);break e}SE(u,o,Fn,Uh,cp,s,wi,ja,jo,As,g,0,-0,0)}}break}while(!0);or(i)}function SE(i,s,o,u,m,g,S,b,N,Q,re,ue,W,J){if(i.timeoutHandle=-1,ue=s.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Au={stylesheets:null,count:0,unsuspend:WI},pE(s),ue=JI(),ue!==null)){i.cancelPendingCommit=ue(xE.bind(null,i,s,g,o,u,m,S,b,N,re,1,W,J)),xs(i,g,S,!Q);return}xE(i,s,g,o,u,m,S,b,N)}function gI(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],g=m.getSnapshot;m=m.value;try{if(!Wn(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xs(i,s,o,u){s&=~up,s&=~ja,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var m=s;0<m;){var g=31-zt(m),S=1<<g;u[g]=-1,m&=~S}o!==0&&Pn(i,o,s)}function jh(){return(pt&6)===0?(_u(0),!1):!0}function pp(){if(Ze!==null){if(gt===0)var i=Ze.return;else i=Ze,kr=Oa=null,Pm(i),Vo=null,uu=0,i=Ze;for(;i!==null;)tE(i.alternate,i),i=i.return;Ze=null}}function Fo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,VI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),pp(),bt=i,Ze=o=Vr(i.current,null),at=s,gt=0,ti=null,As=!1,Uo=ci(i,s),lp=!1,jo=wi=up=ja=Rs=Ot=0,Fn=yu=null,cp=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var m=31-zt(u),g=1<<m;s|=i[m],u&=~g}return Gr=s,oh(),o}function wE(i,s){$e=null,X.H=Rh,s===eu||s===gh?(s=B0(),gt=3):s===k0?(s=B0(),gt=4):gt=s===z_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ti=s,Ze===null&&(Ot=1,Mh(i,vi(s,i.current)))}function bE(){var i=X.H;return X.H=Rh,i===null?Rh:i}function AE(){var i=X.A;return X.A=mI,i}function gp(){Ot=4,As||(at&4194048)!==at&&Si.current!==null||(Uo=!0),(Rs&134217727)===0&&(ja&134217727)===0||bt===null||xs(bt,at,wi,!1)}function yp(i,s,o){var u=pt;pt|=2;var m=bE(),g=AE();(bt!==i||at!==s)&&(Uh=null,Fo(i,s)),s=!1;var S=Ot;e:do try{if(gt!==0&&Ze!==null){var b=Ze,N=ti;switch(gt){case 8:pp(),S=6;break e;case 3:case 2:case 9:case 6:Si.current===null&&(s=!0);var Q=gt;if(gt=0,ti=null,Ho(i,b,N,Q),o&&Uo){S=0;break e}break;default:Q=gt,gt=0,ti=null,Ho(i,b,N,Q)}}yI(),S=Ot;break}catch(re){wE(i,re)}while(!0);return s&&i.shellSuspendCounter++,kr=Oa=null,pt=u,X.H=m,X.A=g,Ze===null&&(bt=null,at=0,oh()),S}function yI(){for(;Ze!==null;)RE(Ze)}function vI(i,s){var o=pt;pt|=2;var u=bE(),m=AE();bt!==i||at!==s?(Uh=null,kh=Mn()+500,Fo(i,s)):Uo=ci(i,s);e:do try{if(gt!==0&&Ze!==null){s=Ze;var g=ti;t:switch(gt){case 1:gt=0,ti=null,Ho(i,s,g,1);break;case 2:case 9:if(U0(g)){gt=0,ti=null,CE(s);break}s=function(){gt!==2&&gt!==9||bt!==i||(gt=7),or(i)},g.then(s,s);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:U0(g)?(gt=0,ti=null,CE(s)):(gt=0,ti=null,Ho(i,s,g,7));break;case 5:var S=null;switch(Ze.tag){case 26:S=Ze.memoizedState;case 5:case 27:var b=Ze;if(!S||lT(S)){gt=0,ti=null;var N=b.sibling;if(N!==null)Ze=N;else{var Q=b.return;Q!==null?(Ze=Q,Bh(Q)):Ze=null}break t}}gt=0,ti=null,Ho(i,s,g,5);break;case 6:gt=0,ti=null,Ho(i,s,g,6);break;case 8:pp(),Ot=6;break e;default:throw Error(r(462))}}_I();break}catch(re){wE(i,re)}while(!0);return kr=Oa=null,X.H=u,X.A=m,pt=o,Ze!==null?0:(bt=null,at=0,oh(),Ot)}function _I(){for(;Ze!==null&&!fa();)RE(Ze)}function RE(i){var s=J_(i.alternate,i,Gr);i.memoizedProps=i.pendingProps,s===null?Bh(i):Ze=s}function CE(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=$_(o,s,s.pendingProps,s.type,void 0,at);break;case 11:s=$_(o,s,s.pendingProps,s.type.render,s.ref,at);break;case 5:Pm(s);default:tE(o,s),s=Ze=I0(s,Gr),s=J_(o,s,Gr)}i.memoizedProps=i.pendingProps,s===null?Bh(i):Ze=s}function Ho(i,s,o,u){kr=Oa=null,Pm(s),Vo=null,uu=0;var m=s.return;try{if(lI(i,m,s,o,at)){Ot=1,Mh(i,vi(o,i.current)),Ze=null;return}}catch(g){if(m!==null)throw Ze=m,g;Ot=1,Mh(i,vi(o,i.current)),Ze=null;return}s.flags&32768?(ht||u===1?i=!0:Uo||(at&536870912)!==0?i=!1:(As=i=!0,(u===2||u===9||u===3||u===6)&&(u=Si.current,u!==null&&u.tag===13&&(u.flags|=16384))),IE(s,i)):Bh(s)}function Bh(i){var s=i;do{if((s.flags&32768)!==0){IE(s,As);return}i=s.return;var o=cI(s.alternate,s,Gr);if(o!==null){Ze=o;return}if(s=s.sibling,s!==null){Ze=s;return}Ze=s=i}while(s!==null);Ot===0&&(Ot=5)}function IE(i,s){do{var o=hI(i.alternate,i);if(o!==null){o.flags&=32767,Ze=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Ze=i;return}Ze=i=o}while(i!==null);Ot=6,Ze=null}function xE(i,s,o,u,m,g,S,b,N){i.cancelPendingCommit=null;do zh();while(dn!==0);if((pt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=om,cs(i,o,g,S,b,N),i===bt&&(Ze=bt=null,at=0),Bo=s,Is=i,zo=o,fp=g,dp=m,_E=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,wI(wr,function(){return VE(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,m=oe.p,oe.p=2,S=pt,pt|=4;try{fI(i,s,o)}finally{pt=S,oe.p=m,X.T=u}}dn=1,DE(),ME(),PE()}}function DE(){if(dn===1){dn=0;var i=Is,s=Bo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=oe.p;oe.p=2;var m=pt;pt|=4;try{fE(s,i);var g=xp,S=v0(i.containerInfo),b=g.focusedElem,N=g.selectionRange;if(S!==b&&b&&b.ownerDocument&&y0(b.ownerDocument.documentElement,b)){if(N!==null&&nm(b)){var Q=N.start,re=N.end;if(re===void 0&&(re=Q),"selectionStart"in b)b.selectionStart=Q,b.selectionEnd=Math.min(re,b.value.length);else{var ue=b.ownerDocument||document,W=ue&&ue.defaultView||window;if(W.getSelection){var J=W.getSelection(),Ue=b.textContent.length,Oe=Math.min(N.start,Ue),Tt=N.end===void 0?Oe:Math.min(N.end,Ue);!J.extend&&Oe>Tt&&(S=Tt,Tt=Oe,Oe=S);var q=g0(b,Oe),B=g0(b,Tt);if(q&&B&&(J.rangeCount!==1||J.anchorNode!==q.node||J.anchorOffset!==q.offset||J.focusNode!==B.node||J.focusOffset!==B.offset)){var $=ue.createRange();$.setStart(q.node,q.offset),J.removeAllRanges(),Oe>Tt?(J.addRange($),J.extend(B.node,B.offset)):($.setEnd(B.node,B.offset),J.addRange($))}}}}for(ue=[],J=b;J=J.parentNode;)J.nodeType===1&&ue.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ue.length;b++){var se=ue[b];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Jh=!!Ip,xp=Ip=null}finally{pt=m,oe.p=u,X.T=o}}i.current=s,dn=2}}function ME(){if(dn===2){dn=0;var i=Is,s=Bo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=oe.p;oe.p=2;var m=pt;pt|=4;try{lE(i,s.alternate,s)}finally{pt=m,oe.p=u,X.T=o}}dn=3}}function PE(){if(dn===4||dn===3){dn=0,lo();var i=Is,s=Bo,o=zo,u=_E;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?dn=5:(dn=0,Bo=Is=null,OE(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Cs=null),hs(o),s=s.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ct,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=X.T,m=oe.p,oe.p=2,X.T=null;try{for(var g=i.onRecoverableError,S=0;S<u.length;S++){var b=u[S];g(b.value,{componentStack:b.stack})}}finally{X.T=s,oe.p=m}}(zo&3)!==0&&zh(),or(i),m=i.pendingLanes,(o&4194090)!==0&&(m&42)!==0?i===mp?vu++:(vu=0,mp=i):vu=0,_u(0)}}function OE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Zl(s)))}function zh(i){return DE(),ME(),PE(),VE()}function VE(){if(dn!==5)return!1;var i=Is,s=fp;fp=0;var o=hs(zo),u=X.T,m=oe.p;try{oe.p=32>o?32:o,X.T=null,o=dp,dp=null;var g=Is,S=zo;if(dn=0,Bo=Is=null,zo=0,(pt&6)!==0)throw Error(r(331));var b=pt;if(pt|=4,yE(g.current),mE(g,g.current,S,o),pt=b,_u(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ct,g)}catch{}return!0}finally{oe.p=m,X.T=u,OE(i,s)}}function NE(i,s,o){s=vi(o,s),s=Km(i.stateNode,s,2),i=vs(i,s,2),i!==null&&(Pi(i,2),or(i))}function wt(i,s,o){if(i.tag===3)NE(i,i,o);else for(;s!==null;){if(s.tag===3){NE(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Cs===null||!Cs.has(u))){i=vi(o,i),o=j_(2),u=vs(s,o,2),u!==null&&(B_(o,u,s,i),Pi(u,2),or(u));break}}s=s.return}}function vp(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new pI;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(o)||(lp=!0,m.add(o),i=EI.bind(null,i,s,o),s.then(i,i))}function EI(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,bt===i&&(at&o)===o&&(Ot===4||Ot===3&&(at&62914560)===at&&300>Mn()-hp?(pt&2)===0&&Fo(i,0):up|=o,jo===at&&(jo=0)),or(i)}function LE(i,s){s===0&&(s=ma()),i=bo(i,s),i!==null&&(Pi(i,s),or(i))}function TI(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),LE(i,o)}function SI(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),LE(i,o)}function wI(i,s){return Sr(i,s)}var Fh=null,qo=null,_p=!1,Hh=!1,Ep=!1,Ba=0;function or(i){i!==qo&&i.next===null&&(qo===null?Fh=qo=i:qo=qo.next=i),Hh=!0,_p||(_p=!0,AI())}function _u(i,s){if(!Ep&&Hh){Ep=!0;do for(var o=!1,u=Fh;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var S=u.suspendedLanes,b=u.pingedLanes;g=(1<<31-zt(42|i)+1)-1,g&=m&~(S&~b),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,BE(u,g))}else g=at,g=br(u,u===bt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ci(u,g)||(o=!0,BE(u,g));u=u.next}while(o);Ep=!1}}function bI(){kE()}function kE(){Hh=_p=!1;var i=0;Ba!==0&&(OI()&&(i=Ba),Ba=0);for(var s=Mn(),o=null,u=Fh;u!==null;){var m=u.next,g=UE(u,s);g===0?(u.next=null,o===null?Fh=m:o.next=m,m===null&&(qo=o)):(o=u,(i!==0||(g&3)!==0)&&(Hh=!0)),u=m}_u(i)}function UE(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var S=31-zt(g),b=1<<S,N=m[S];N===-1?((b&o)===0||(b&u)!==0)&&(m[S]=us(b,s)):N<=s&&(i.expiredLanes|=b),g&=~b}if(s=bt,o=at,o=br(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(gt===2||gt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Dn(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ci(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Dn(u),hs(o)){case 2:case 8:o=as;break;case 32:o=wr;break;case 268435456:o=li;break;default:o=wr}return u=jE.bind(null,i),o=Sr(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Dn(u),i.callbackPriority=2,i.callbackNode=null,2}function jE(i,s){if(dn!==0&&dn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(zh()&&i.callbackNode!==o)return null;var u=at;return u=br(i,i===bt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(TE(i,u,s),UE(i,Mn()),i.callbackNode!=null&&i.callbackNode===o?jE.bind(null,i):null)}function BE(i,s){if(zh())return null;TE(i,s,!0)}function AI(){NI(function(){(pt&6)!==0?Sr(da,bI):kE()})}function Tp(){return Ba===0&&(Ba=Ar()),Ba}function zE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ho(""+i)}function FE(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function RI(i,s,o,u,m){if(s==="submit"&&o&&o.stateNode===m){var g=zE((m[de]||null).action),S=u.submitter;S&&(s=(s=S[de]||null)?zE(s.formAction):S.getAttribute("formAction"),s!==null&&(g=s,S=null));var b=new fo("action","action",null,u,m);i.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ba!==0){var N=S?FE(m,S):new FormData(m);zm(o,{pending:!0,data:N,method:m.method,action:g},null,N)}}else typeof g=="function"&&(b.preventDefault(),N=S?FE(m,S):new FormData(m),zm(o,{pending:!0,data:N,method:m.method,action:g},g,N))},currentTarget:m}]})}}for(var Sp=0;Sp<am.length;Sp++){var wp=am[Sp],CI=wp.toLowerCase(),II=wp[0].toUpperCase()+wp.slice(1);Vi(CI,"on"+II)}Vi(T0,"onAnimationEnd"),Vi(S0,"onAnimationIteration"),Vi(w0,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(G2,"onTransitionRun"),Vi(K2,"onTransitionStart"),Vi($2,"onTransitionCancel"),Vi(b0,"onTransitionEnd"),On("onMouseEnter",["mouseout","mouseover"]),On("onMouseLeave",["mouseout","mouseover"]),On("onPointerEnter",["pointerout","pointerover"]),On("onPointerLeave",["pointerout","pointerover"]),Yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eu));function HE(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],m=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var S=u.length-1;0<=S;S--){var b=u[S],N=b.instance,Q=b.currentTarget;if(b=b.listener,N!==g&&m.isPropagationStopped())break e;g=b,m.currentTarget=Q;try{g(m)}catch(re){Dh(re)}m.currentTarget=null,g=N}else for(S=0;S<u.length;S++){if(b=u[S],N=b.instance,Q=b.currentTarget,b=b.listener,N!==g&&m.isPropagationStopped())break e;g=b,m.currentTarget=Q;try{g(m)}catch(re){Dh(re)}m.currentTarget=null,g=N}}}}function Je(i,s){var o=s[xe];o===void 0&&(o=s[xe]=new Set);var u=i+"__bubble";o.has(u)||(qE(s,i,2,!1),o.add(u))}function bp(i,s,o){var u=0;s&&(u|=4),qE(o,i,u,s)}var qh="_reactListening"+Math.random().toString(36).slice(2);function Ap(i){if(!i[qh]){i[qh]=!0,Qe.forEach(function(o){o!=="selectionchange"&&(xI.has(o)||bp(o,!1,i),bp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[qh]||(s[qh]=!0,bp("selectionchange",!1,s))}}function qE(i,s,o,u){switch(mT(s)){case 2:var m=nx;break;case 8:m=ix;break;default:m=jp}o=m.bind(null,s,o,i),m=void 0,!gi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function Rp(i,s,o,u,m){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var b=u.stateNode.containerInfo;if(b===m)break;if(S===4)for(S=u.return;S!==null;){var N=S.tag;if((N===3||N===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;b!==null;){if(S=Ve(b),S===null)return;if(N=S.tag,N===5||N===6||N===26||N===27){u=g=S;continue e}b=b.parentNode}}u=u.return}Kc(function(){var Q=g,re=pi(o),ue=[];e:{var W=A0.get(i);if(W!==void 0){var J=fo,Ue=i;switch(i){case"keypress":if(Zi(o)===0)break e;case"keydown":case"keyup":J=_o;break;case"focusin":Ue="focus",J=go;break;case"focusout":Ue="blur",J=go;break;case"beforeblur":case"afterblur":J=go;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=yi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Zd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=eh;break;case T0:case S0:case w0:J=yo;break;case b0:J=nh;break;case"scroll":case"scrollend":J=$c;break;case"wheel":J=Eo;break;case"copy":case"cut":case"paste":J=vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=ql;break;case"toggle":case"beforetoggle":J=rh}var Oe=(s&4)!==0,Tt=!Oe&&(i==="scroll"||i==="scrollend"),q=Oe?W!==null?W+"Capture":null:W;Oe=[];for(var B=Q,$;B!==null;){var se=B;if($=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||$===null||q===null||(se=_a(B,q),se!=null&&Oe.push(Tu(B,se,$))),Tt)break;B=B.return}0<Oe.length&&(W=new J(W,Ue,null,o,re),ue.push({event:W,listeners:Oe}))}}if((s&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",W&&o!==Ir&&(Ue=o.relatedTarget||o.fromElement)&&(Ve(Ue)||Ue[ye]))break e;if((J||W)&&(W=re.window===re?re:(W=re.ownerDocument)?W.defaultView||W.parentWindow:window,J?(Ue=o.relatedTarget||o.toElement,J=Q,Ue=Ue?Ve(Ue):null,Ue!==null&&(Tt=l(Ue),Oe=Ue.tag,Ue!==Tt||Oe!==5&&Oe!==27&&Oe!==6)&&(Ue=null)):(J=null,Ue=Q),J!==Ue)){if(Oe=yi,se="onMouseLeave",q="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=ql,se="onPointerLeave",q="onPointerEnter",B="pointer"),Tt=J==null?W:ft(J),$=Ue==null?W:ft(Ue),W=new Oe(se,B+"leave",J,o,re),W.target=Tt,W.relatedTarget=$,se=null,Ve(re)===Q&&(Oe=new Oe(q,B+"enter",Ue,o,re),Oe.target=$,Oe.relatedTarget=Tt,se=Oe),Tt=se,J&&Ue)t:{for(Oe=J,q=Ue,B=0,$=Oe;$;$=Go($))B++;for($=0,se=q;se;se=Go(se))$++;for(;0<B-$;)Oe=Go(Oe),B--;for(;0<$-B;)q=Go(q),$--;for(;B--;){if(Oe===q||q!==null&&Oe===q.alternate)break t;Oe=Go(Oe),q=Go(q)}Oe=null}else Oe=null;J!==null&&GE(ue,W,J,Oe,!1),Ue!==null&&Tt!==null&&GE(ue,Tt,Ue,Oe,!0)}}e:{if(W=Q?ft(Q):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var Te=c0;else if(Xt(W))if(h0)Te=F2;else{Te=B2;var Xe=j2}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Q&&kl(Q.elementType)&&(Te=c0):Te=z2;if(Te&&(Te=Te(i,Q))){Or(ue,Te,o,re);break e}Xe&&Xe(i,W,Q),i==="focusout"&&Q&&W.type==="number"&&Q.memoizedProps.value!=null&&ds(W,"number",W.value)}switch(Xe=Q?ft(Q):window,i){case"focusin":(Xt(Xe)||Xe.contentEditable==="true")&&(To=Xe,im=Q,$l=null);break;case"focusout":$l=im=To=null;break;case"mousedown":rm=!0;break;case"contextmenu":case"mouseup":case"dragend":rm=!1,_0(ue,o,re);break;case"selectionchange":if(q2)break;case"keydown":case"keyup":_0(ue,o,re)}var Re;if(tr)e:{switch(i){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else rt?ne(i,o)&&(Ne="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ne="onCompositionStart");Ne&&(T&&o.locale!=="ko"&&(rt||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&rt&&(Re=jl()):(Wi=re,ms="value"in Wi?Wi.value:Wi.textContent,rt=!0)),Xe=Gh(Q,Ne),0<Xe.length&&(Ne=new Fl(Ne,i,null,o,re),ue.push({event:Ne,listeners:Xe}),Re?Ne.data=Re:(Re=pe(o),Re!==null&&(Ne.data=Re)))),(Re=v?Qt(i,o):st(i,o))&&(Ne=Gh(Q,"onBeforeInput"),0<Ne.length&&(Xe=new Fl("onBeforeInput","beforeinput",null,o,re),ue.push({event:Xe,listeners:Ne}),Xe.data=Re)),RI(ue,i,Q,o,re)}HE(ue,s)})}function Tu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Gh(i,s){for(var o=s+"Capture",u=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=_a(i,o),m!=null&&u.unshift(Tu(i,m,g)),m=_a(i,s),m!=null&&u.push(Tu(i,m,g))),i.tag===3)return u;i=i.return}return[]}function Go(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function GE(i,s,o,u,m){for(var g=s._reactName,S=[];o!==null&&o!==u;){var b=o,N=b.alternate,Q=b.stateNode;if(b=b.tag,N!==null&&N===u)break;b!==5&&b!==26&&b!==27||Q===null||(N=Q,m?(Q=_a(o,g),Q!=null&&S.unshift(Tu(o,Q,N))):m||(Q=_a(o,g),Q!=null&&S.push(Tu(o,Q,N)))),o=o.return}S.length!==0&&i.push({event:s,listeners:S})}var DI=/\r\n?/g,MI=/\u0000|\uFFFD/g;function KE(i){return(typeof i=="string"?i:""+i).replace(DI,`
`).replace(MI,"")}function $E(i,s){return s=KE(s),KE(i)===s}function Kh(){}function Et(i,s,o,u,m,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||mi(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&mi(i,""+u);break;case"className":Vn(i,"class",u);break;case"tabIndex":Vn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(i,o,u);break;case"style":Ll(i,u,g);break;case"data":if(s!=="object"){Vn(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ho(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Et(i,s,"name",m.name,m,null),Et(i,s,"formEncType",m.formEncType,m,null),Et(i,s,"formMethod",m.formMethod,m,null),Et(i,s,"formTarget",m.formTarget,m,null)):(Et(i,s,"encType",m.encType,m,null),Et(i,s,"method",m.method,m,null),Et(i,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ho(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Kh);break;case"onScroll":u!=null&&Je("scroll",i);break;case"onScrollEnd":u!=null&&Je("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=ho(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Je("beforetoggle",i),Je("toggle",i),Tn(i,"popover",u);break;case"xlinkActuate":ze(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ze(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ze(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ze(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ze(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ze(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ze(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ze(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ze(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Tn(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Xd.get(o)||o,Tn(i,o,u))}}function Cp(i,s,o,u,m,g){switch(o){case"style":Ll(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?mi(i,u):(typeof u=="number"||typeof u=="bigint")&&mi(i,""+u);break;case"onScroll":u!=null&&Je("scroll",i);break;case"onScrollEnd":u!=null&&Je("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Kh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fi.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=i[de]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,m);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Tn(i,o,u)}}}function mn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",i),Je("load",i);var u=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var S=o[g];if(S!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Et(i,s,g,S,o,null)}}m&&Et(i,s,"srcSet",o.srcSet,o,null),u&&Et(i,s,"src",o.src,o,null);return;case"input":Je("invalid",i);var b=g=S=m=null,N=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var re=o[u];if(re!=null)switch(u){case"name":m=re;break;case"type":S=re;break;case"checked":N=re;break;case"defaultChecked":Q=re;break;case"value":g=re;break;case"defaultValue":b=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:Et(i,s,u,re,o,null)}}ga(i,g,b,N,Q,S,m,!1),co(i);return;case"select":Je("invalid",i),u=S=g=null;for(m in o)if(o.hasOwnProperty(m)&&(b=o[m],b!=null))switch(m){case"value":g=b;break;case"defaultValue":S=b;break;case"multiple":u=b;default:Et(i,s,m,b,o,null)}s=g,o=S,i.multiple=!!u,s!=null?Cr(i,!!u,s,!1):o!=null&&Cr(i,!!u,o,!0);return;case"textarea":Je("invalid",i),g=m=u=null;for(S in o)if(o.hasOwnProperty(S)&&(b=o[S],b!=null))switch(S){case"value":u=b;break;case"defaultValue":m=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:Et(i,s,S,b,o,null)}ya(i,u,m,g),co(i);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Et(i,s,N,u,o,null)}return;case"dialog":Je("beforetoggle",i),Je("toggle",i),Je("cancel",i),Je("close",i);break;case"iframe":case"object":Je("load",i);break;case"video":case"audio":for(u=0;u<Eu.length;u++)Je(Eu[u],i);break;case"image":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"embed":case"source":case"link":Je("error",i),Je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Et(i,s,Q,u,o,null)}return;default:if(kl(s)){for(re in o)o.hasOwnProperty(re)&&(u=o[re],u!==void 0&&Cp(i,s,re,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&Et(i,s,b,u,o,null))}function PI(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,S=null,b=null,N=null,Q=null,re=null;for(J in o){var ue=o[J];if(o.hasOwnProperty(J)&&ue!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":N=ue;default:u.hasOwnProperty(J)||Et(i,s,J,null,u,ue)}}for(var W in u){var J=u[W];if(ue=o[W],u.hasOwnProperty(W)&&(J!=null||ue!=null))switch(W){case"type":g=J;break;case"name":m=J;break;case"checked":Q=J;break;case"defaultChecked":re=J;break;case"value":S=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==ue&&Et(i,s,W,J,u,ue)}}Xn(i,S,b,N,Q,re,g,m);return;case"select":J=S=b=W=null;for(g in o)if(N=o[g],o.hasOwnProperty(g)&&N!=null)switch(g){case"value":break;case"multiple":J=N;default:u.hasOwnProperty(g)||Et(i,s,g,null,u,N)}for(m in u)if(g=u[m],N=o[m],u.hasOwnProperty(m)&&(g!=null||N!=null))switch(m){case"value":W=g;break;case"defaultValue":b=g;break;case"multiple":S=g;default:g!==N&&Et(i,s,m,g,u,N)}s=b,o=S,u=J,W!=null?Cr(i,!!o,W,!1):!!u!=!!o&&(s!=null?Cr(i,!!o,s,!0):Cr(i,!!o,o?[]:"",!1));return;case"textarea":J=W=null;for(b in o)if(m=o[b],o.hasOwnProperty(b)&&m!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Et(i,s,b,null,u,m)}for(S in u)if(m=u[S],g=o[S],u.hasOwnProperty(S)&&(m!=null||g!=null))switch(S){case"value":W=m;break;case"defaultValue":J=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&Et(i,s,S,m,u,g)}vt(i,W,J);return;case"option":for(var Ue in o)if(W=o[Ue],o.hasOwnProperty(Ue)&&W!=null&&!u.hasOwnProperty(Ue))switch(Ue){case"selected":i.selected=!1;break;default:Et(i,s,Ue,null,u,W)}for(N in u)if(W=u[N],J=o[N],u.hasOwnProperty(N)&&W!==J&&(W!=null||J!=null))switch(N){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Et(i,s,N,W,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in o)W=o[Oe],o.hasOwnProperty(Oe)&&W!=null&&!u.hasOwnProperty(Oe)&&Et(i,s,Oe,null,u,W);for(Q in u)if(W=u[Q],J=o[Q],u.hasOwnProperty(Q)&&W!==J&&(W!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:Et(i,s,Q,W,u,J)}return;default:if(kl(s)){for(var Tt in o)W=o[Tt],o.hasOwnProperty(Tt)&&W!==void 0&&!u.hasOwnProperty(Tt)&&Cp(i,s,Tt,void 0,u,W);for(re in u)W=u[re],J=o[re],!u.hasOwnProperty(re)||W===J||W===void 0&&J===void 0||Cp(i,s,re,W,u,J);return}}for(var q in o)W=o[q],o.hasOwnProperty(q)&&W!=null&&!u.hasOwnProperty(q)&&Et(i,s,q,null,u,W);for(ue in u)W=u[ue],J=o[ue],!u.hasOwnProperty(ue)||W===J||W==null&&J==null||Et(i,s,ue,W,u,J)}var Ip=null,xp=null;function $h(i){return i.nodeType===9?i:i.ownerDocument}function YE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function QE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Dp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Mp=null;function OI(){var i=window.event;return i&&i.type==="popstate"?i===Mp?!1:(Mp=i,!0):(Mp=null,!1)}var XE=typeof setTimeout=="function"?setTimeout:void 0,VI=typeof clearTimeout=="function"?clearTimeout:void 0,WE=typeof Promise=="function"?Promise:void 0,NI=typeof queueMicrotask=="function"?queueMicrotask:typeof WE<"u"?function(i){return WE.resolve(null).then(i).catch(LI)}:XE;function LI(i){setTimeout(function(){throw i})}function Ds(i){return i==="head"}function ZE(i,s){var o=s,u=0,m=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var S=i.ownerDocument;if(o&1&&Su(S.documentElement),o&2&&Su(S.body),o&4)for(o=S.head,Su(o),S=o.firstChild;S;){var b=S.nextSibling,N=S.nodeName;S[Pe]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=b}}if(m===0){i.removeChild(g),Du(s);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Du(s)}function Pp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Pp(o),we(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function kI(i,s,o,u){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Pe])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Li(i.nextSibling),i===null)break}return null}function UI(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Li(i.nextSibling),i===null))return null;return i}function Op(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function jI(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Li(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Vp=null;function JE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function eT(i,s,o){switch(s=$h(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Su(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);we(i)}var bi=new Map,tT=new Set;function Yh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Kr=oe.d;oe.d={f:BI,r:zI,D:FI,C:HI,L:qI,m:GI,X:$I,S:KI,M:YI};function BI(){var i=Kr.f(),s=jh();return i||s}function zI(i){var s=We(i);s!==null&&s.tag===5&&s.type==="form"?T_(s):Kr.r(i)}var Ko=typeof document>"u"?null:document;function nT(i,s,o){var u=Ko;if(u&&typeof s=="string"&&s){var m=Ht(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),tT.has(m)||(tT.add(m),i={rel:i,crossOrigin:o,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),mn(s,"link",i),it(s),u.head.appendChild(s)))}}function FI(i){Kr.D(i),nT("dns-prefetch",i,null)}function HI(i,s){Kr.C(i,s),nT("preconnect",i,s)}function qI(i,s,o){Kr.L(i,s,o);var u=Ko;if(u&&i&&s){var m='link[rel="preload"][as="'+Ht(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Ht(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Ht(o.imageSizes)+'"]')):m+='[href="'+Ht(i)+'"]';var g=m;switch(s){case"style":g=$o(i);break;case"script":g=Yo(i)}bi.has(g)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),bi.set(g,i),u.querySelector(m)!==null||s==="style"&&u.querySelector(wu(g))||s==="script"&&u.querySelector(bu(g))||(s=u.createElement("link"),mn(s,"link",i),it(s),u.head.appendChild(s)))}}function GI(i,s){Kr.m(i,s);var o=Ko;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Ht(u)+'"][href="'+Ht(i)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Yo(i)}if(!bi.has(g)&&(i=y({rel:"modulepreload",href:i},s),bi.set(g,i),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(bu(g)))return}u=o.createElement("link"),mn(u,"link",i),it(u),o.head.appendChild(u)}}}function KI(i,s,o){Kr.S(i,s,o);var u=Ko;if(u&&i){var m=lt(u).hoistableStyles,g=$o(i);s=s||"default";var S=m.get(g);if(!S){var b={loading:0,preload:null};if(S=u.querySelector(wu(g)))b.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=bi.get(g))&&Np(i,o);var N=S=u.createElement("link");it(N),mn(N,"link",i),N._p=new Promise(function(Q,re){N.onload=Q,N.onerror=re}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Qh(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:b},m.set(g,S)}}}function $I(i,s){Kr.X(i,s);var o=Ko;if(o&&i){var u=lt(o).hoistableScripts,m=Yo(i),g=u.get(m);g||(g=o.querySelector(bu(m)),g||(i=y({src:i,async:!0},s),(s=bi.get(m))&&Lp(i,s),g=o.createElement("script"),it(g),mn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function YI(i,s){Kr.M(i,s);var o=Ko;if(o&&i){var u=lt(o).hoistableScripts,m=Yo(i),g=u.get(m);g||(g=o.querySelector(bu(m)),g||(i=y({src:i,async:!0,type:"module"},s),(s=bi.get(m))&&Lp(i,s),g=o.createElement("script"),it(g),mn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function iT(i,s,o,u){var m=(m=Ce.current)?Yh(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=$o(o.href),o=lt(m).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=$o(o.href);var g=lt(m).hoistableStyles,S=g.get(i);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,S),(g=m.querySelector(wu(i)))&&!g._p&&(S.instance=g,S.state.loading=5),bi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},bi.set(i,o),g||QI(m,i,o,S.state))),s&&u===null)throw Error(r(528,""));return S}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Yo(o),o=lt(m).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function $o(i){return'href="'+Ht(i)+'"'}function wu(i){return'link[rel="stylesheet"]['+i+"]"}function rT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function QI(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),mn(s,"link",o),it(s),i.head.appendChild(s))}function Yo(i){return'[src="'+Ht(i)+'"]'}function bu(i){return"script[async]"+i}function sT(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Ht(o.href)+'"]');if(u)return s.instance=u,it(u),u;var m=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),it(u),mn(u,"style",m),Qh(u,o.precedence,i),s.instance=u;case"stylesheet":m=$o(o.href);var g=i.querySelector(wu(m));if(g)return s.state.loading|=4,s.instance=g,it(g),g;u=rT(o),(m=bi.get(m))&&Np(u,m),g=(i.ownerDocument||i).createElement("link"),it(g);var S=g;return S._p=new Promise(function(b,N){S.onload=b,S.onerror=N}),mn(g,"link",u),s.state.loading|=4,Qh(g,o.precedence,i),s.instance=g;case"script":return g=Yo(o.src),(m=i.querySelector(bu(g)))?(s.instance=m,it(m),m):(u=o,(m=bi.get(g))&&(u=y({},o),Lp(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),it(m),mn(m,"link",u),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Qh(u,o.precedence,i));return s.instance}function Qh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,S=0;S<u.length;S++){var b=u[S];if(b.dataset.precedence===s)g=b;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Np(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Lp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Xh=null;function aT(i,s,o){if(Xh===null){var u=new Map,m=Xh=new Map;m.set(o,u)}else m=Xh,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[Pe]||g[le]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(s)||"";S=i+S;var b=u.get(S);b?b.push(g):u.set(S,[g])}}return u}function oT(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function XI(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function lT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Au=null;function WI(){}function ZI(i,s,o){if(Au===null)throw Error(r(475));var u=Au;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=$o(o.href),g=i.querySelector(wu(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Wh.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,it(g);return}g=i.ownerDocument||i,o=rT(o),(m=bi.get(m))&&Np(o,m),g=g.createElement("link"),it(g);var S=g;S._p=new Promise(function(b,N){S.onload=b,S.onerror=N}),mn(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Wh.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function JI(){if(Au===null)throw Error(r(475));var i=Au;return i.stylesheets&&i.count===0&&kp(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&kp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Wh(){if(this.count--,this.count===0){if(this.stylesheets)kp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Zh=null;function kp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Zh=new Map,s.forEach(ex,i),Zh=null,Wh.call(i))}function ex(i,s){if(!(s.state.loading&4)){var o=Zh.get(i);if(o)var u=o.get(null);else{o=new Map,Zh.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var S=m[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}m=s.instance,S=m.getAttribute("data-precedence"),g=o.get(S)||u,g===u&&o.set(null,m),o.set(S,m),this.count++,u=Wh.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Ru={$$typeof:F,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function tx(i,s,o,u,m,g,S,b){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function uT(i,s,o,u,m,g,S,b,N,Q,re,ue){return i=new tx(i,s,o,S,b,N,Q,ue),s=1,g===!0&&(s|=24),g=Zn(3,null,null,s),i.current=g,g.stateNode=i,s=vm(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Sm(g),i}function cT(i){return i?(i=Ao,i):Ao}function hT(i,s,o,u,m,g){m=cT(m),u.context===null?u.context=m:u.pendingContext=m,u=ys(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=vs(i,u,s),o!==null&&(ii(o,i,s),nu(o,i,s))}function fT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Up(i,s){fT(i,s),(i=i.alternate)&&fT(i,s)}function dT(i){if(i.tag===13){var s=bo(i,67108864);s!==null&&ii(s,i,67108864),Up(i,67108864)}}var Jh=!0;function nx(i,s,o,u){var m=X.T;X.T=null;var g=oe.p;try{oe.p=2,jp(i,s,o,u)}finally{oe.p=g,X.T=m}}function ix(i,s,o,u){var m=X.T;X.T=null;var g=oe.p;try{oe.p=8,jp(i,s,o,u)}finally{oe.p=g,X.T=m}}function jp(i,s,o,u){if(Jh){var m=Bp(u);if(m===null)Rp(i,s,u,ef,o),pT(i,u);else if(sx(m,i,s,o,u))u.stopPropagation();else if(pT(i,u),s&4&&-1<rx.indexOf(i)){for(;m!==null;){var g=We(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=$n(g.pendingLanes);if(S!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;S;){var N=1<<31-zt(S);b.entanglements[1]|=N,S&=~N}or(g),(pt&6)===0&&(kh=Mn()+500,_u(0))}}break;case 13:b=bo(g,2),b!==null&&ii(b,g,2),jh(),Up(g,2)}if(g=Bp(u),g===null&&Rp(i,s,u,ef,o),g===m)break;m=g}m!==null&&u.stopPropagation()}else Rp(i,s,u,null,o)}}function Bp(i){return i=pi(i),zp(i)}var ef=null;function zp(i){if(ef=null,i=Ve(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return ef=i,null}function mT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ol()){case da:return 2;case as:return 8;case wr:case Mi:return 32;case li:return 268435456;default:return 32}default:return 32}}var Fp=!1,Ms=null,Ps=null,Os=null,Cu=new Map,Iu=new Map,Vs=[],rx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pT(i,s){switch(i){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":Cu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(s.pointerId)}}function xu(i,s,o,u,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},s!==null&&(s=We(s),s!==null&&dT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function sx(i,s,o,u,m){switch(s){case"focusin":return Ms=xu(Ms,i,s,o,u,m),!0;case"dragenter":return Ps=xu(Ps,i,s,o,u,m),!0;case"mouseover":return Os=xu(Os,i,s,o,u,m),!0;case"pointerover":var g=m.pointerId;return Cu.set(g,xu(Cu.get(g)||null,i,s,o,u,m)),!0;case"gotpointercapture":return g=m.pointerId,Iu.set(g,xu(Iu.get(g)||null,i,s,o,u,m)),!0}return!1}function gT(i){var s=Ve(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,G(i.priority,function(){if(o.tag===13){var u=ni();u=$i(u);var m=bo(o,u);m!==null&&ii(m,o,u),Up(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function tf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Bp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Ir=u,o.target.dispatchEvent(u),Ir=null}else return s=We(o),s!==null&&dT(s),i.blockedOn=o,!1;s.shift()}return!0}function yT(i,s,o){tf(i)&&o.delete(s)}function ax(){Fp=!1,Ms!==null&&tf(Ms)&&(Ms=null),Ps!==null&&tf(Ps)&&(Ps=null),Os!==null&&tf(Os)&&(Os=null),Cu.forEach(yT),Iu.forEach(yT)}function nf(i,s){i.blockedOn===s&&(i.blockedOn=null,Fp||(Fp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ax)))}var rf=null;function vT(i){rf!==i&&(rf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rf===i&&(rf=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],m=i[s+2];if(typeof u!="function"){if(zp(u||o)===null)continue;break}var g=We(o);g!==null&&(i.splice(s,3),s-=3,zm(g,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Du(i){function s(N){return nf(N,i)}Ms!==null&&nf(Ms,i),Ps!==null&&nf(Ps,i),Os!==null&&nf(Os,i),Cu.forEach(s),Iu.forEach(s);for(var o=0;o<Vs.length;o++){var u=Vs[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Vs.length&&(o=Vs[0],o.blockedOn===null);)gT(o),o.blockedOn===null&&Vs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],g=o[u+1],S=m[de]||null;if(typeof g=="function")S||vT(o);else if(S){var b=null;if(g&&g.hasAttribute("formAction")){if(m=g,S=g[de]||null)b=S.formAction;else if(zp(m)!==null)continue}else b=S.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),vT(o)}}}function Hp(i){this._internalRoot=i}sf.prototype.render=Hp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=ni();hT(o,u,i,s,null,null)},sf.prototype.unmount=Hp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;hT(i.current,2,null,i,null,null),jh(),s[ye]=null}};function sf(i){this._internalRoot=i}sf.prototype.unstable_scheduleHydration=function(i){if(i){var s=k();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Vs.length&&s!==0&&s<Vs[o].priority;o++);Vs.splice(o,0,i),o===0&&gT(i)}};var _T=e.version;if(_T!=="19.1.0")throw Error(r(527,_T,"19.1.0"));oe.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var ox={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{ct=af.inject(ox),Ke=af}catch{}}return Pu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",m=N_,g=L_,S=k_,b=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=uT(i,1,!1,null,null,o,u,m,g,S,b,null),i[ye]=s.current,Ap(i),new Hp(s)},Pu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,m="",g=N_,S=L_,b=k_,N=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),s=uT(i,1,!0,s,o??null,u,m,g,S,b,N,Q),s.context=cT(null),o=s.current,u=ni(),u=$i(u),m=ys(u),m.callback=null,vs(o,m,u),o=u,s.current.lanes=o,Pi(s,o),or(s),i[ye]=s.current,Ap(i),new sf(s)},Pu.version="19.1.0",Pu}var xT;function gx(){if(xT)return Kp.exports;xT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kp.exports=px(),Kp.exports}var yx=gx(),Ou={},DT;function vx(){if(DT)return Ou;DT=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.parse=c,Ou.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,w){const A=new l,D=E.length;if(D<2)return A;const x=(w==null?void 0:w.decode)||y;let V=0;do{const Z=E.indexOf("=",V);if(Z===-1)break;const F=E.indexOf(";",V),ee=F===-1?D:F;if(Z>ee){V=E.lastIndexOf(";",Z-1)+1;continue}const te=h(E,V,Z),j=d(E,Z,te),M=E.slice(te,j);if(A[M]===void 0){let C=h(E,Z+1,ee),I=d(E,ee,C);const P=x(E.slice(C,I));A[M]=P}V=ee+1}while(V<D);return A}function h(E,w,A){do{const D=E.charCodeAt(w);if(D!==32&&D!==9)return w}while(++w<A);return A}function d(E,w,A){for(;w>A;){const D=E.charCodeAt(--w);if(D!==32&&D!==9)return w+1}return A}function p(E,w,A){const D=(A==null?void 0:A.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const x=D(w);if(!e.test(x))throw new TypeError(`argument val is invalid: ${w}`);let V=E+"="+x;if(!A)return V;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);V+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);V+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);V+="; Path="+A.path}if(A.expires){if(!_(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);V+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(V+="; HttpOnly"),A.secure&&(V+="; Secure"),A.partitioned&&(V+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return V}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return Ou}vx();/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Jw=t=>{throw TypeError(t)},_x=(t,e,n)=>e.has(t)||Jw("Cannot "+n),Xp=(t,e,n)=>(_x(t,e,"read from private field"),n?n.call(t):e.get(t)),Ex=(t,e,n)=>e.has(t)?Jw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),MT="popstate";function Tx(t={}){function e(a,l){let{pathname:c="/",search:h="",hash:d=""}=is(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),oc("",{pathname:c,search:h,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let d=a.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof l=="string"?l:Ws(l))}function r(a,l){jt(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return wx(e,n,r,t)}function et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sx(){return Math.random().toString(36).substring(2,10)}function PT(t,e){return{usr:t.state,key:t.key,idx:e}}function oc(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?is(e):e,state:n,key:e&&e.key||r||Sx()}}function Ws({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function is(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function wx(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,h="POP",d=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){h="POP";let x=y(),V=x==null?null:x-p;p=x,d&&d({action:h,location:D.location,delta:V})}function E(x,V){h="PUSH";let Z=oc(D.location,x,V);n&&n(Z,x),p=y()+1;let F=PT(Z,p),ee=D.createHref(Z);try{c.pushState(F,"",ee)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(ee)}l&&d&&d({action:h,location:D.location,delta:1})}function w(x,V){h="REPLACE";let Z=oc(D.location,x,V);n&&n(Z,x),p=y();let F=PT(Z,p),ee=D.createHref(Z);c.replaceState(F,"",ee),l&&d&&d({action:h,location:D.location,delta:0})}function A(x){return eb(x)}let D={get action(){return h},get location(){return t(a,c)},listen(x){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(MT,_),d=x,()=>{a.removeEventListener(MT,_),d=null}},createHref(x){return e(a,x)},createURL:A,encodeLocation(x){let V=A(x);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:E,replace:w,go(x){return c.go(x)}};return D}function eb(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),et(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ws(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var ju,OT=class{constructor(t){if(Ex(this,ju,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Xp(this,ju).has(t))return Xp(this,ju).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Xp(this,ju).set(t,e)}};ju=new WeakMap;var bx=new Set(["lazy","caseSensitive","path","id","index","children"]);function Ax(t){return bx.has(t)}var Rx=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function Cx(t){return Rx.has(t)}function Ix(t){return t.index===!0}function Ff(t,e,n=[],r={}){return t.map((a,l)=>{let c=[...n,String(l)],h=typeof a.id=="string"?a.id:c.join("-");if(et(a.index!==!0||!a.children,"Cannot specify children on an index route"),et(!r[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),Ix(a)){let d={...a,...e(a),id:h};return r[h]=d,d}else{let d={...a,...e(a),id:h,children:void 0};return r[h]=d,a.children&&(d.children=Ff(a.children,e,c,r)),d}})}function js(t,e,n="/"){return Af(t,e,n,!1)}function Af(t,e,n,r){let a=typeof e=="string"?is(e):e,l=Di(a.pathname||"/",n);if(l==null)return null;let c=tb(t);Dx(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let p=zx(l);h=jx(c[d],p,r)}return h}function xx(t,e){let{route:n,pathname:r,params:a}=t;return{id:n.id,pathname:r,params:a,data:e[n.id],handle:n.handle}}function tb(t,e=[],n=[],r=""){let a=(l,c,h)=>{let d={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};d.relativePath.startsWith("/")&&(et(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=hr([r,d.relativePath]),y=n.concat(d);l.children&&l.children.length>0&&(et(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),tb(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:kx(p,l.index),routesMeta:y})};return t.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,c);else for(let d of nb(l.path))a(l,c,d)}),e}function nb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=nb(r.join("/")),h=[];return h.push(...c.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function Dx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ux(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Mx=/^:[\w-]+$/,Px=3,Ox=2,Vx=1,Nx=10,Lx=-2,VT=t=>t==="*";function kx(t,e){let n=t.split("/"),r=n.length;return n.some(VT)&&(r+=Lx),e&&(r+=Ox),n.filter(a=>!VT(a)).reduce((a,l)=>a+(Mx.test(l)?Px:l===""?Vx:Nx),r)}function Ux(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function jx(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",c=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Hf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),E=d.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Hf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:hr([l,_.pathname]),pathnameBase:qx(hr([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=hr([l,_.pathnameBase]))}return c}function Hf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Bx(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let A=h[E]||"";c=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const w=h[E];return _&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function Bx(t,e=!1,n=!0){jt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function zx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Di(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Fx(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?is(t):t;return{pathname:n?n.startsWith("/")?n:Hx(n,e):e,search:Gx(r),hash:Kx(a)}}function Hx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Wp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ib(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ay(t){let e=ib(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ry(t,e,n,r=!1){let a;typeof t=="string"?a=is(t):(a={...t},et(!a.pathname||!a.pathname.includes("?"),Wp("?","pathname","search",a)),et(!a.pathname||!a.pathname.includes("#"),Wp("#","pathname","hash",a)),et(!a.search||!a.search.includes("#"),Wp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let _=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}h=_>=0?e[_]:"/"}let d=Fx(a,h),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var hr=t=>t.join("/").replace(/\/\/+/g,"/"),qx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Gx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Kx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,qf=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function lc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var rb=["POST","PUT","PATCH","DELETE"],$x=new Set(rb),Yx=["GET",...rb],Qx=new Set(Yx),Xx=new Set([301,302,303,307,308]),Wx=new Set([307,308]),Zp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Zx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Cy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jx=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),sb="remix-router-transitions",ab=Symbol("ResetLoaderData");function eD(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";et(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],a=t.mapRouteProperties||Jx,l={},c=Ff(t.routes,a,void 0,l),h,d=t.basename||"/",p=t.dataStrategy||sD,y={unstable_middleware:!1,...t.future},_=null,E=new Set,w=null,A=null,D=null,x=t.hydrationData!=null,V=js(c,t.history.location,d),Z=!1,F=null,ee;if(V==null&&!t.patchRoutesOnNavigation){let k=Ci(404,{pathname:t.history.location.pathname}),{matches:G,route:Y}=KT(c);ee=!0,V=G,F={[Y.id]:k}}else if(V&&!t.hydrationData&&Pn(V,c,t.history.location.pathname).active&&(V=null),V)if(V.some(k=>k.route.lazy))ee=!1;else if(!V.some(k=>k.route.loader))ee=!0;else{let k=t.hydrationData?t.hydrationData.loaderData:null,G=t.hydrationData?t.hydrationData.errors:null;if(G){let Y=V.findIndex(le=>G[le.route.id]!==void 0);ee=V.slice(0,Y+1).every(le=>!Ag(le.route,k,G))}else ee=V.every(Y=>!Ag(Y.route,k,G))}else{ee=!1,V=[];let k=Pn(null,c,t.history.location.pathname);k.active&&k.matches&&(Z=!0,V=k.matches)}let te,j={historyAction:t.history.action,location:t.history.location,matches:V,initialized:ee,navigation:Zp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||F,fetchers:new Map,blockers:new Map},M="POP",C=!1,I,P=!1,U=new Map,H=null,O=!1,De=!1,Be=new Set,X=new Map,oe=0,ge=-1,Me=new Map,L=new Set,ae=new Map,me=new Map,fe=new Set,be=new Map,qe,Ce=null;function Bt(){if(_=t.history.listen(({action:k,location:G,delta:Y})=>{if(qe){qe(),qe=void 0;return}jt(be.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=us({currentLocation:j.location,nextLocation:G,historyAction:k});if(le&&Y!=null){let de=new Promise(ye=>{qe=ye});t.history.go(Y*-1),ci(le,{state:"blocked",location:G,proceed(){ci(le,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),de.then(()=>t.history.go(Y))},reset(){let ye=new Map(j.blockers);ye.set(le,Vu),Rt({blockers:ye})}});return}return Dn(k,G)}),n){gD(e,U);let k=()=>yD(e,U);e.addEventListener("pagehide",k),H=()=>e.removeEventListener("pagehide",k)}return j.initialized||Dn("POP",j.location,{initialHydration:!0}),te}function yt(){_&&_(),H&&H(),E.clear(),I&&I.abort(),j.fetchers.forEach((k,G)=>zt(G)),j.blockers.forEach((k,G)=>br(G))}function oi(k){return E.add(k),()=>E.delete(k)}function Rt(k,G={}){j={...j,...k};let Y=[],le=[];j.fetchers.forEach((de,ye)=>{de.state==="idle"&&(fe.has(ye)?Y.push(ye):le.push(ye))}),fe.forEach(de=>{!j.fetchers.has(de)&&!X.has(de)&&Y.push(de)}),[...E].forEach(de=>de(j,{deletedFetchers:Y,viewTransitionOpts:G.viewTransitionOpts,flushSync:G.flushSync===!0})),Y.forEach(de=>zt(de)),le.forEach(de=>j.fetchers.delete(de))}function _n(k,G,{flushSync:Y}={}){var Ae,Pe;let le=j.actionData!=null&&j.navigation.formMethod!=null&&si(j.navigation.formMethod)&&j.navigation.state==="loading"&&((Ae=k.state)==null?void 0:Ae._isRedirect)!==!0,de;G.actionData?Object.keys(G.actionData).length>0?de=G.actionData:de=null:le?de=j.actionData:de=null;let ye=G.loaderData?qT(j.loaderData,G.loaderData,G.matches||[],G.errors):j.loaderData,xe=j.blockers;xe.size>0&&(xe=new Map(xe),xe.forEach((we,Ve)=>xe.set(Ve,Vu)));let _e=C===!0||j.navigation.formMethod!=null&&si(j.navigation.formMethod)&&((Pe=k.state)==null?void 0:Pe._isRedirect)!==!0;h&&(c=h,h=void 0),O||M==="POP"||(M==="PUSH"?t.history.push(k,k.state):M==="REPLACE"&&t.history.replace(k,k.state));let Se;if(M==="POP"){let we=U.get(j.location.pathname);we&&we.has(k.pathname)?Se={currentLocation:j.location,nextLocation:k}:U.has(k.pathname)&&(Se={currentLocation:k,nextLocation:j.location})}else if(P){let we=U.get(j.location.pathname);we?we.add(k.pathname):(we=new Set([k.pathname]),U.set(j.location.pathname,we)),Se={currentLocation:j.location,nextLocation:k}}Rt({...G,actionData:de,loaderData:ye,historyAction:M,location:k,initialized:!0,navigation:Zp,revalidation:"idle",restoreScrollPosition:cs(k,G.matches||j.matches),preventScrollReset:_e,blockers:xe},{viewTransitionOpts:Se,flushSync:Y===!0}),M="POP",C=!1,P=!1,O=!1,De=!1,Ce==null||Ce.resolve(),Ce=null}async function Fi(k,G){if(typeof k=="number"){t.history.go(k);return}let Y=bg(j.location,j.matches,d,k,G==null?void 0:G.fromRouteId,G==null?void 0:G.relative),{path:le,submission:de,error:ye}=NT(!1,Y,G),xe=j.location,_e=oc(j.location,le,G&&G.state);_e={..._e,...t.history.encodeLocation(_e)};let Se=G&&G.replace!=null?G.replace:void 0,Ae="PUSH";Se===!0?Ae="REPLACE":Se===!1||de!=null&&si(de.formMethod)&&de.formAction===j.location.pathname+j.location.search&&(Ae="REPLACE");let Pe=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,we=(G&&G.flushSync)===!0,Ve=us({currentLocation:xe,nextLocation:_e,historyAction:Ae});if(Ve){ci(Ve,{state:"blocked",location:_e,proceed(){ci(Ve,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),Fi(k,G)},reset(){let We=new Map(j.blockers);We.set(Ve,Vu),Rt({blockers:We})}});return}await Dn(Ae,_e,{submission:de,pendingError:ye,preventScrollReset:Pe,replace:G&&G.replace,enableViewTransition:G&&G.viewTransition,flushSync:we})}function Sr(){Ce||(Ce=vD()),ls(),Rt({revalidation:"loading"});let k=Ce.promise;return j.navigation.state==="submitting"?k:j.navigation.state==="idle"?(Dn(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),k):(Dn(M||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:P===!0}),k)}async function Dn(k,G,Y){I&&I.abort(),I=null,M=k,O=(Y&&Y.startUninterruptedRevalidation)===!0,Pi(j.location,j.matches),C=(Y&&Y.preventScrollReset)===!0,P=(Y&&Y.enableViewTransition)===!0;let le=h||c,de=Y&&Y.overrideNavigation,ye=Y!=null&&Y.initialHydration&&j.matches&&j.matches.length>0&&!Z?j.matches:js(le,G,d),xe=(Y&&Y.flushSync)===!0;if(ye&&j.initialized&&!De&&hD(j.location,G)&&!(Y&&Y.submission&&si(Y.submission.formMethod))){_n(G,{matches:ye},{flushSync:xe});return}let _e=Pn(ye,le,G.pathname);if(_e.active&&_e.matches&&(ye=_e.matches),!ye){let{error:lt,notFoundMatches:it,route:Qe}=Ar(G.pathname);_n(G,{matches:it,loaderData:{},errors:{[Qe.id]:lt}},{flushSync:xe});return}I=new AbortController;let Se=Qo(t.history,G,I.signal,Y&&Y.submission),Ae=new OT(t.unstable_getContext?await t.unstable_getContext():void 0),Pe;if(Y&&Y.pendingError)Pe=[qa(ye).route.id,{type:"error",error:Y.pendingError}];else if(Y&&Y.submission&&si(Y.submission.formMethod)){let lt=await fa(Se,G,Y.submission,ye,Ae,_e.active,Y&&Y.initialHydration===!0,{replace:Y.replace,flushSync:xe});if(lt.shortCircuited)return;if(lt.pendingActionResult){let[it,Qe]=lt.pendingActionResult;if(ri(Qe)&&lc(Qe.error)&&Qe.error.status===404){I=null,_n(G,{matches:lt.matches,loaderData:{},errors:{[it]:Qe.error}});return}}ye=lt.matches||ye,Pe=lt.pendingActionResult,de=Jp(G,Y.submission),xe=!1,_e.active=!1,Se=Qo(t.history,Se.url,Se.signal)}let{shortCircuited:we,matches:Ve,loaderData:We,errors:ft}=await lo(Se,G,ye,Ae,_e.active,de,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,xe,Pe);we||(I=null,_n(G,{matches:Ve||ye,...GT(Pe),loaderData:We,errors:ft}))}async function fa(k,G,Y,le,de,ye,xe,_e={}){ls();let Se=mD(G,Y);if(Rt({navigation:Se},{flushSync:_e.flushSync===!0}),ye){let we=await Ki(le,G.pathname,k.signal);if(we.type==="aborted")return{shortCircuited:!0};if(we.type==="error"){let Ve=qa(we.partialMatches).route.id;return{matches:we.partialMatches,pendingActionResult:[Ve,{type:"error",error:we.error}]}}else if(we.matches)le=we.matches;else{let{notFoundMatches:Ve,error:We,route:ft}=Ar(G.pathname);return{matches:Ve,pendingActionResult:[ft.id,{type:"error",error:We}]}}}let Ae,Pe=Bu(le,G);if(!Pe.route.action&&!Pe.route.lazy)Ae={type:"error",error:Ci(405,{method:k.method,pathname:G.pathname,routeId:Pe.route.id})};else{let we=al(a,l,k,le,Pe,xe?[]:r,de),Ve=await li(k,we,de,null);if(Ae=Ve[Pe.route.id],!Ae){for(let We of le)if(Ve[We.route.id]){Ae=Ve[We.route.id];break}}if(k.signal.aborted)return{shortCircuited:!0}}if(Ga(Ae)){let we;return _e&&_e.replace!=null?we=_e.replace:we=zT(Ae.response.headers.get("Location"),new URL(k.url),d)===j.location.pathname+j.location.search,await Mi(k,Ae,!0,{submission:Y,replace:we}),{shortCircuited:!0}}if(ri(Ae)){let we=qa(le,Pe.route.id);return(_e&&_e.replace)!==!0&&(M="PUSH"),{matches:le,pendingActionResult:[we.route.id,Ae,Pe.route.id]}}return{matches:le,pendingActionResult:[Pe.route.id,Ae]}}async function lo(k,G,Y,le,de,ye,xe,_e,Se,Ae,Pe,we){let Ve=ye||Jp(G,xe),We=xe||_e||YT(Ve),ft=!O&&!Ae;if(de){if(ft){let Ft=Mn(we);Rt({navigation:Ve,...Ft!==void 0?{actionData:Ft}:{}},{flushSync:Pe})}let ze=await Ki(Y,G.pathname,k.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let Ft=qa(ze.partialMatches).route.id;return{matches:ze.partialMatches,loaderData:{},errors:{[Ft]:ze.error}}}else if(ze.matches)Y=ze.matches;else{let{error:Ft,notFoundMatches:Qn,route:jn}=Ar(G.pathname);return{matches:Qn,loaderData:{},errors:{[jn.id]:Ft}}}}let lt=h||c,{dsMatches:it,revalidatingFetchers:Qe}=LT(k,le,a,l,t.history,j,Y,We,G,Ae?[]:r,Ae===!0,De,Be,fe,ae,L,lt,d,t.patchRoutesOnNavigation!=null,we);if(ge=++oe,!t.dataStrategy&&!it.some(ze=>ze.shouldLoad)&&Qe.length===0){let ze=qi();return _n(G,{matches:Y,loaderData:{},errors:we&&ri(we[1])?{[we[0]]:we[1].error}:null,...GT(we),...ze?{fetchers:new Map(j.fetchers)}:{}},{flushSync:Pe}),{shortCircuited:!0}}if(ft){let ze={};if(!de){ze.navigation=Ve;let Ft=Mn(we);Ft!==void 0&&(ze.actionData=Ft)}Qe.length>0&&(ze.fetchers=Ol(Qe)),Rt(ze,{flushSync:Pe})}Qe.forEach(ze=>{ui(ze.key),ze.controller&&X.set(ze.key,ze.controller)});let fi=()=>Qe.forEach(ze=>ui(ze.key));I&&I.signal.addEventListener("abort",fi);let{loaderResults:Yt,fetcherResults:On}=await os(it,Qe,k,le);if(k.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",fi),Qe.forEach(ze=>X.delete(ze.key));let un=of(Yt);if(un)return await Mi(k,un.result,!0,{replace:Se}),{shortCircuited:!0};if(un=of(On),un)return L.add(un.key),await Mi(k,un.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:Yi,errors:Yn}=HT(j,Y,Yt,we,Qe,On);Ae&&j.errors&&(Yn={...j.errors,...Yn});let fs=qi(),Tn=Gi(ge),Vn=fs||Tn||Qe.length>0;return{matches:Y,loaderData:Yi,errors:Yn,...Vn?{fetchers:new Map(j.fetchers)}:{}}}function Mn(k){if(k&&!ri(k[1]))return{[k[0]]:k[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function Ol(k){return k.forEach(G=>{let Y=j.fetchers.get(G.key),le=Nu(void 0,Y?Y.data:void 0);j.fetchers.set(G.key,le)}),new Map(j.fetchers)}async function da(k,G,Y,le){ui(k);let de=(le&&le.flushSync)===!0,ye=h||c,xe=bg(j.location,j.matches,d,Y,G,le==null?void 0:le.relative),_e=js(ye,xe,d),Se=Pn(_e,ye,xe);if(Se.active&&Se.matches&&(_e=Se.matches),!_e){Ke(k,G,Ci(404,{pathname:xe}),{flushSync:de});return}let{path:Ae,submission:Pe,error:we}=NT(!0,xe,le);if(we){Ke(k,G,we,{flushSync:de});return}let Ve=Bu(_e,Ae),We=new OT(t.unstable_getContext?await t.unstable_getContext():void 0),ft=(le&&le.preventScrollReset)===!0;if(Pe&&si(Pe.formMethod)){await as(k,G,Ae,Ve,_e,We,Se.active,de,ft,Pe);return}ae.set(k,{routeId:G,path:Ae}),await wr(k,G,Ae,Ve,_e,We,Se.active,de,ft,Pe)}async function as(k,G,Y,le,de,ye,xe,_e,Se,Ae){ls(),ae.delete(k);function Pe(St){if(!St.route.action&&!St.route.lazy){let di=Ci(405,{method:Ae.formMethod,pathname:Y,routeId:G});return Ke(k,G,di,{flushSync:_e}),!0}return!1}if(!xe&&Pe(le))return;let we=j.fetchers.get(k);ct(k,pD(Ae,we),{flushSync:_e});let Ve=new AbortController,We=Qo(t.history,Y,Ve.signal,Ae);if(xe){let St=await Ki(de,Y,We.signal,k);if(St.type==="aborted")return;if(St.type==="error"){Ke(k,G,St.error,{flushSync:_e});return}else if(St.matches){if(de=St.matches,le=Bu(de,Y),Pe(le))return}else{Ke(k,G,Ci(404,{pathname:Y}),{flushSync:_e});return}}X.set(k,Ve);let ft=oe,lt=al(a,l,We,de,le,r,ye),Qe=(await li(We,lt,ye,k))[le.route.id];if(We.signal.aborted){X.get(k)===Ve&&X.delete(k);return}if(fe.has(k)){if(Ga(Qe)||ri(Qe)){ct(k,ks(void 0));return}}else{if(Ga(Qe))if(X.delete(k),ge>ft){ct(k,ks(void 0));return}else return L.add(k),ct(k,Nu(Ae)),Mi(We,Qe,!1,{fetcherSubmission:Ae,preventScrollReset:Se});if(ri(Qe)){Ke(k,G,Qe.error);return}}let fi=j.navigation.location||j.location,Yt=Qo(t.history,fi,Ve.signal),On=h||c,un=j.navigation.state!=="idle"?js(On,j.navigation.location,d):j.matches;et(un,"Didn't find any matches after fetcher action");let Yi=++oe;Me.set(k,Yi);let Yn=Nu(Ae,Qe.data);j.fetchers.set(k,Yn);let{dsMatches:fs,revalidatingFetchers:Tn}=LT(Yt,ye,a,l,t.history,j,un,Ae,fi,r,!1,De,Be,fe,ae,L,On,d,t.patchRoutesOnNavigation!=null,[le.route.id,Qe]);Tn.filter(St=>St.key!==k).forEach(St=>{let di=St.key,Rr=j.fetchers.get(di),cn=Nu(void 0,Rr?Rr.data:void 0);j.fetchers.set(di,cn),ui(di),St.controller&&X.set(di,St.controller)}),Rt({fetchers:new Map(j.fetchers)});let Vn=()=>Tn.forEach(St=>ui(St.key));Ve.signal.addEventListener("abort",Vn);let{loaderResults:ze,fetcherResults:Ft}=await os(fs,Tn,Yt,ye);if(Ve.signal.aborted)return;if(Ve.signal.removeEventListener("abort",Vn),Me.delete(k),X.delete(k),Tn.forEach(St=>X.delete(St.key)),j.fetchers.has(k)){let St=ks(Qe.data);j.fetchers.set(k,St)}let Qn=of(ze);if(Qn)return Mi(Yt,Qn.result,!1,{preventScrollReset:Se});if(Qn=of(Ft),Qn)return L.add(Qn.key),Mi(Yt,Qn.result,!1,{preventScrollReset:Se});let{loaderData:jn,errors:Qi}=HT(j,un,ze,void 0,Tn,Ft);Gi(Yi),j.navigation.state==="loading"&&Yi>ge?(et(M,"Expected pending action"),I&&I.abort(),_n(j.navigation.location,{matches:un,loaderData:jn,errors:Qi,fetchers:new Map(j.fetchers)})):(Rt({errors:Qi,loaderData:qT(j.loaderData,jn,un,Qi),fetchers:new Map(j.fetchers)}),De=!1)}async function wr(k,G,Y,le,de,ye,xe,_e,Se,Ae){let Pe=j.fetchers.get(k);ct(k,Nu(Ae,Pe?Pe.data:void 0),{flushSync:_e});let we=new AbortController,Ve=Qo(t.history,Y,we.signal);if(xe){let Qe=await Ki(de,Y,Ve.signal,k);if(Qe.type==="aborted")return;if(Qe.type==="error"){Ke(k,G,Qe.error,{flushSync:_e});return}else if(Qe.matches)de=Qe.matches,le=Bu(de,Y);else{Ke(k,G,Ci(404,{pathname:Y}),{flushSync:_e});return}}X.set(k,we);let We=oe,ft=al(a,l,Ve,de,le,r,ye),it=(await li(Ve,ft,ye,k))[le.route.id];if(X.get(k)===we&&X.delete(k),!Ve.signal.aborted){if(fe.has(k)){ct(k,ks(void 0));return}if(Ga(it))if(ge>We){ct(k,ks(void 0));return}else{L.add(k),await Mi(Ve,it,!1,{preventScrollReset:Se});return}if(ri(it)){Ke(k,G,it.error);return}ct(k,ks(it.data))}}async function Mi(k,G,Y,{submission:le,fetcherSubmission:de,preventScrollReset:ye,replace:xe}={}){G.response.headers.has("X-Remix-Revalidate")&&(De=!0);let _e=G.response.headers.get("Location");et(_e,"Expected a Location header on the redirect Response"),_e=zT(_e,new URL(k.url),d);let Se=oc(j.location,_e,{_isRedirect:!0});if(n){let ft=!1;if(G.response.headers.has("X-Remix-Reload-Document"))ft=!0;else if(Cy.test(_e)){const lt=eb(_e,!0);ft=lt.origin!==e.location.origin||Di(lt.pathname,d)==null}if(ft){xe?e.location.replace(_e):e.location.assign(_e);return}}I=null;let Ae=xe===!0||G.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pe,formAction:we,formEncType:Ve}=j.navigation;!le&&!de&&Pe&&we&&Ve&&(le=YT(j.navigation));let We=le||de;if(Wx.has(G.response.status)&&We&&si(We.formMethod))await Dn(Ae,Se,{submission:{...We,formAction:_e},preventScrollReset:ye||C,enableViewTransition:Y?P:void 0});else{let ft=Jp(Se,le);await Dn(Ae,Se,{overrideNavigation:ft,fetcherSubmission:de,preventScrollReset:ye||C,enableViewTransition:Y?P:void 0})}}async function li(k,G,Y,le){let de,ye={};try{de=await aD(p,k,G,le,Y,!1)}catch(xe){return G.filter(_e=>_e.shouldLoad).forEach(_e=>{ye[_e.route.id]={type:"error",error:xe}}),ye}if(k.signal.aborted)return ye;for(let[xe,_e]of Object.entries(de))if(fD(_e)){let Se=_e.result;ye[xe]={type:"redirect",response:uD(Se,k,xe,G,d)}}else ye[xe]=await lD(_e);return ye}async function os(k,G,Y,le){let de=li(Y,k,le,null),ye=Promise.all(G.map(async Se=>{if(Se.matches&&Se.match&&Se.request&&Se.controller){let Pe=(await li(Se.request,Se.matches,le,Se.key))[Se.match.route.id];return{[Se.key]:Pe}}else return Promise.resolve({[Se.key]:{type:"error",error:Ci(404,{pathname:Se.path})}})})),xe=await de,_e=(await ye).reduce((Se,Ae)=>Object.assign(Se,Ae),{});return{loaderResults:xe,fetcherResults:_e}}function ls(){De=!0,ae.forEach((k,G)=>{X.has(G)&&Be.add(G),ui(G)})}function ct(k,G,Y={}){j.fetchers.set(k,G),Rt({fetchers:new Map(j.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function Ke(k,G,Y,le={}){let de=qa(j.matches,G);zt(k),Rt({errors:{[de.route.id]:Y},fetchers:new Map(j.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function En(k){return me.set(k,(me.get(k)||0)+1),fe.has(k)&&fe.delete(k),j.fetchers.get(k)||Zx}function zt(k){let G=j.fetchers.get(k);X.has(k)&&!(G&&G.state==="loading"&&Me.has(k))&&ui(k),ae.delete(k),Me.delete(k),L.delete(k),fe.delete(k),Be.delete(k),j.fetchers.delete(k)}function uo(k){let G=(me.get(k)||0)-1;G<=0?(me.delete(k),fe.add(k)):me.set(k,G),Rt({fetchers:new Map(j.fetchers)})}function ui(k){let G=X.get(k);G&&(G.abort(),X.delete(k))}function Hi(k){for(let G of k){let Y=En(G),le=ks(Y.data);j.fetchers.set(G,le)}}function qi(){let k=[],G=!1;for(let Y of L){let le=j.fetchers.get(Y);et(le,`Expected fetcher: ${Y}`),le.state==="loading"&&(L.delete(Y),k.push(Y),G=!0)}return Hi(k),G}function Gi(k){let G=[];for(let[Y,le]of Me)if(le<k){let de=j.fetchers.get(Y);et(de,`Expected fetcher: ${Y}`),de.state==="loading"&&(ui(Y),Me.delete(Y),G.push(Y))}return Hi(G),G.length>0}function $n(k,G){let Y=j.blockers.get(k)||Vu;return be.get(k)!==G&&be.set(k,G),Y}function br(k){j.blockers.delete(k),be.delete(k)}function ci(k,G){let Y=j.blockers.get(k)||Vu;et(Y.state==="unblocked"&&G.state==="blocked"||Y.state==="blocked"&&G.state==="blocked"||Y.state==="blocked"&&G.state==="proceeding"||Y.state==="blocked"&&G.state==="unblocked"||Y.state==="proceeding"&&G.state==="unblocked",`Invalid blocker state transition: ${Y.state} -> ${G.state}`);let le=new Map(j.blockers);le.set(k,G),Rt({blockers:le})}function us({currentLocation:k,nextLocation:G,historyAction:Y}){if(be.size===0)return;be.size>1&&jt(!1,"A router only supports one blocker at a time");let le=Array.from(be.entries()),[de,ye]=le[le.length-1],xe=j.blockers.get(de);if(!(xe&&xe.state==="proceeding")&&ye({currentLocation:k,nextLocation:G,historyAction:Y}))return de}function Ar(k){let G=Ci(404,{pathname:k}),Y=h||c,{matches:le,route:de}=KT(Y);return{notFoundMatches:le,route:de,error:G}}function ma(k,G,Y){if(w=k,D=G,A=Y||null,!x&&j.navigation===Zp){x=!0;let le=cs(j.location,j.matches);le!=null&&Rt({restoreScrollPosition:le})}return()=>{w=null,D=null,A=null}}function hi(k,G){return A&&A(k,G.map(le=>xx(le,j.loaderData)))||k.key}function Pi(k,G){if(w&&D){let Y=hi(k,G);w[Y]=D()}}function cs(k,G){if(w){let Y=hi(k,G),le=w[Y];if(typeof le=="number")return le}return null}function Pn(k,G,Y){if(t.patchRoutesOnNavigation)if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:Af(G,Y,d,!0)}}else return{active:!0,matches:Af(G,Y,d,!0)||[]};return{active:!1,matches:null}}async function Ki(k,G,Y,le){if(!t.patchRoutesOnNavigation)return{type:"success",matches:k};let de=k;for(;;){let ye=h==null,xe=h||c,_e=l;try{await t.patchRoutesOnNavigation({signal:Y,path:G,matches:de,fetcherKey:le,patch:(Pe,we)=>{Y.aborted||kT(Pe,we,xe,_e,a)}})}catch(Pe){return{type:"error",error:Pe,partialMatches:de}}finally{ye&&!Y.aborted&&(c=[...c])}if(Y.aborted)return{type:"aborted"};let Se=js(xe,G,d);if(Se)return{type:"success",matches:Se};let Ae=Af(xe,G,d,!0);if(!Ae||de.length===Ae.length&&de.every((Pe,we)=>Pe.route.id===Ae[we].route.id))return{type:"success",matches:null};de=Ae}}function $i(k){l={},h=Ff(k,a,void 0,l)}function hs(k,G){let Y=h==null;kT(k,G,h||c,l,a),Y&&(c=[...c],Rt({}))}return te={get basename(){return d},get future(){return y},get state(){return j},get routes(){return c},get window(){return e},initialize:Bt,subscribe:oi,enableScrollRestoration:ma,navigate:Fi,fetch:da,revalidate:Sr,createHref:k=>t.history.createHref(k),encodeLocation:k=>t.history.encodeLocation(k),getFetcher:En,deleteFetcher:uo,dispose:yt,getBlocker:$n,deleteBlocker:br,patchRoutes:hs,_internalFetchControllers:X,_internalSetRoutes:$i},te}function tD(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function bg(t,e,n,r,a,l){let c,h;if(a){c=[];for(let p of e)if(c.push(p),p.route.id===a){h=p;break}}else c=e,h=e[e.length-1];let d=Ry(r||".",Ay(c),Di(t.pathname,n)||t.pathname,l==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&h){let p=Iy(d.search);if(h.route.index&&!p)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&p){let y=new URLSearchParams(d.search),_=y.getAll("index");y.delete("index"),_.filter(w=>w).forEach(w=>y.append("index",w));let E=y.toString();d.search=E?`?${E}`:""}}return n!=="/"&&(d.pathname=d.pathname==="/"?n:hr([n,d.pathname])),Ws(d)}function NT(t,e,n){if(!n||!tD(n))return{path:e};if(n.formMethod&&!dD(n.formMethod))return{path:e,error:Ci(405,{method:n.formMethod})};let r=()=>({path:e,error:Ci(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),c=fb(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!si(l))return r();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((E,[w,A])=>`${E}${w}=${A}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!si(l))return r();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return r()}}}et(typeof FormData=="function","FormData is not available in this environment");let h,d;if(n.formData)h=Cg(n.formData),d=n.formData;else if(n.body instanceof FormData)h=Cg(n.body),d=n.body;else if(n.body instanceof URLSearchParams)h=n.body,d=FT(h);else if(n.body==null)h=new URLSearchParams,d=new FormData;else try{h=new URLSearchParams(n.body),d=FT(h)}catch{return r()}let p={formMethod:l,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(si(p.formMethod))return{path:e,submission:p};let y=is(e);return t&&y.search&&Iy(y.search)&&h.append("index",""),y.search=`?${h}`,{path:Ws(y),submission:p}}function LT(t,e,n,r,a,l,c,h,d,p,y,_,E,w,A,D,x,V,Z,F){var O;let ee=F?ri(F[1])?F[1].error:F[1].data:void 0,te=a.createURL(l.location),j=a.createURL(d),M;if(y&&l.errors){let De=Object.keys(l.errors)[0];M=c.findIndex(Be=>Be.route.id===De)}else if(F&&ri(F[1])){let De=F[0];M=c.findIndex(Be=>Be.route.id===De)-1}let C=F?F[1].statusCode:void 0,I=C&&C>=400,P={currentUrl:te,currentParams:((O=l.matches[0])==null?void 0:O.params)||{},nextUrl:j,nextParams:c[0].params,...h,actionResult:ee,actionStatus:C},U=c.map((De,Be)=>{let{route:X}=De,oe=null;if(M!=null&&Be>M?oe=!1:X.lazy?oe=!0:X.loader==null?oe=!1:y?oe=Ag(X,l.loaderData,l.errors):nD(l.loaderData,l.matches[Be],De)&&(oe=!0),oe!==null)return Rg(n,r,t,De,p,e,oe);let ge=I?!1:_||te.pathname+te.search===j.pathname+j.search||te.search!==j.search||iD(l.matches[Be],De),Me={...P,defaultShouldRevalidate:ge},L=Gf(De,Me);return Rg(n,r,t,De,p,e,L,Me)}),H=[];return A.forEach((De,Be)=>{if(y||!c.some(fe=>fe.route.id===De.routeId)||w.has(Be))return;let X=l.fetchers.get(Be),oe=X&&X.state!=="idle"&&X.data===void 0,ge=js(x,De.path,V);if(!ge){if(Z&&oe)return;H.push({key:Be,routeId:De.routeId,path:De.path,matches:null,match:null,request:null,controller:null});return}if(D.has(Be))return;let Me=Bu(ge,De.path),L=new AbortController,ae=Qo(a,De.path,L.signal),me=null;if(E.has(Be))E.delete(Be),me=al(n,r,ae,ge,Me,p,e);else if(oe)_&&(me=al(n,r,ae,ge,Me,p,e));else{let fe={...P,defaultShouldRevalidate:I?!1:_};Gf(Me,fe)&&(me=al(n,r,ae,ge,Me,p,e,fe))}me&&H.push({key:Be,routeId:De.routeId,path:De.path,matches:me,match:Me,request:ae,controller:L})}),{dsMatches:U,revalidatingFetchers:H}}function Ag(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,a=n!=null&&n[t.id]!==void 0;return!r&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!a}function nD(t,e,n){let r=!e||n.route.id!==e.route.id,a=!t.hasOwnProperty(n.route.id);return r||a}function iD(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Gf(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function kT(t,e,n,r,a){let l;if(t){let d=r[t];et(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),l=d.children}else l=n;let c=e.filter(d=>!l.some(p=>ob(d,p))),h=Ff(c,a,[t||"_","patch",String((l==null?void 0:l.length)||"0")],r);l.push(...h)}function ob(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var a;return(a=e.children)==null?void 0:a.some(l=>ob(n,l))}):!1}var UT=new WeakMap,lb=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let a=n[e.id];if(et(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let l=a.lazy[t];if(!l)return;let c=UT.get(a);c||(c={},UT.set(a,c));let h=c[t];if(h)return h;let d=(async()=>{let p=Ax(t),_=a[t]!==void 0&&t!=="hasErrorBoundary";if(p)jt(!p,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),c[t]=Promise.resolve();else if(_)jt(!1,`Route "${a.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let E=await l();E!=null&&(Object.assign(a,{[t]:E}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[t]=void 0,Object.values(a.lazy).every(E=>E===void 0)&&(a.lazy=void 0))})();return c[t]=d,d},jT=new WeakMap;function rD(t,e,n,r,a){let l=n[t.id];if(et(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let y=jT.get(l);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let _=(async()=>{et(typeof t.lazy=="function","No lazy route function found");let E=await t.lazy(),w={};for(let A in E){let D=E[A];if(D===void 0)continue;let x=Cx(A),Z=l[A]!==void 0&&A!=="hasErrorBoundary";x?jt(!x,"Route property "+A+" is not a supported property to be returned from a lazy route function. This property will be ignored."):Z?jt(!Z,`Route "${l.id}" has a static property "${A}" defined but its lazy function is also returning a value for this property. The lazy route property "${A}" will be ignored.`):w[A]=D}Object.assign(l,w),Object.assign(l,{...r(l),lazy:void 0})})();return jT.set(l,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let c=Object.keys(t.lazy),h=[],d;for(let y of c){if(a&&a.includes(y))continue;let _=lb({key:y,route:t,manifest:n,mapRouteProperties:r});_&&(h.push(_),y===e&&(d=_))}let p=h.length>0?Promise.all(h).then(()=>{}):void 0;return p==null||p.catch(()=>{}),d==null||d.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:d}}async function BT(t){let e=t.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,l)=>{n[e[l].route.id]=a}),n}async function sD(t){return t.matches.some(e=>e.route.unstable_middleware)?ub(t,!1,()=>BT(t),(e,n)=>({[n]:{type:"error",result:e}})):BT(t)}async function ub(t,e,n,r){let{matches:a,request:l,params:c,context:h}=t,d={handlerResult:void 0};try{let p=a.flatMap(_=>_.route.unstable_middleware?_.route.unstable_middleware.map(E=>[_.route.id,E]):[]),y=await cb({request:l,params:c,context:h},p,e,d,n);return e?y:d.handlerResult}catch(p){if(!d.middlewareError)throw p;let y=await r(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,y):y}}async function cb(t,e,n,r,a,l=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let h=e[l];if(!h)return r.handlerResult=await a(),r.handlerResult;let[d,p]=h,y=!1,_,E=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await cb(t,e,n,r,a,l+1)};try{let w=await p({request:t.request,params:t.params,context:t.context},E);return y?w===void 0?_:w:E()}catch(w){throw r.middlewareError?r.middlewareError.error!==w&&(r.middlewareError={routeId:d,error:w}):r.middlewareError={routeId:d,error:w},w}}function hb(t,e,n,r,a){let l=lb({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),c=rD(r.route,si(n.method)?"action":"loader",e,t,a);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function Rg(t,e,n,r,a,l,c,h=null){let d=!1,p=hb(t,e,n,r,a);return{...r,_lazyPromises:p,shouldLoad:c,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler(y){return d=!0,h?typeof y=="boolean"?Gf(r,{...h,defaultShouldRevalidate:y}):Gf(r,h):c},resolve(y){return d||c||y&&n.method==="GET"&&(r.route.lazy||r.route.loader)?oD({request:n,match:r,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:y,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function al(t,e,n,r,a,l,c,h=null){return r.map(d=>d.route.id!==a.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler:()=>!1,_lazyPromises:hb(t,e,n,d,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Rg(t,e,n,d,l,c,!0,h))}async function aD(t,e,n,r,a,l){n.some(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(n.map(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware}));let c={request:e,params:n[0].params,context:a,matches:n},d=await t({...c,fetcherKey:r,unstable_runClientMiddleware:p=>{let y=c;return ub(y,!1,()=>p({...y,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(_,E)=>({[E]:{type:"error",result:_}}))}});try{await Promise.all(n.flatMap(p=>{var y,_;return[(y=p._lazyPromises)==null?void 0:y.handler,(_=p._lazyPromises)==null?void 0:_.route]}))}catch{}return d}async function oD({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:a,scopedContext:l}){let c,h,d=si(t.method),p=d?"action":"loader",y=_=>{let E,w=new Promise((x,V)=>E=V);h=()=>E(),t.signal.addEventListener("abort",h);let A=x=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):_({request:t,params:e.params,context:l},...x!==void 0?[x]:[]),D=(async()=>{try{return{type:"data",result:await(a?a(V=>A(V)):A())}}catch(x){return{type:"error",result:x}}})();return Promise.race([D,w])};try{let _=d?e.route.action:e.route.loader;if(n||r)if(_){let E,[w]=await Promise.all([y(_).catch(A=>{E=A}),n,r]);if(E!==void 0)throw E;c=w}else{await n;let E=d?e.route.action:e.route.loader;if(E)[c]=await Promise.all([y(E),r]);else if(p==="action"){let w=new URL(t.url),A=w.pathname+w.search;throw Ci(405,{method:t.method,pathname:A,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)c=await y(_);else{let E=new URL(t.url),w=E.pathname+E.search;throw Ci(404,{pathname:w})}}catch(_){return{type:"error",result:_}}finally{h&&t.signal.removeEventListener("abort",h)}return c}async function lD(t){var r,a,l,c,h,d;let{result:e,type:n}=t;if(db(e)){let p;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(y){return{type:"error",error:y}}return n==="error"?{type:"error",error:new qf(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return n==="error"?$T(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new qf(((l=e.init)==null?void 0:l.status)||500,void 0,e.data),statusCode:lc(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:lc(e)?e.status:void 0}:$T(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function uD(t,e,n,r,a){let l=t.headers.get("Location");if(et(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Cy.test(l)){let c=r.slice(0,r.findIndex(h=>h.route.id===n)+1);l=bg(new URL(e.url),c,a,l),t.headers.set("Location",l)}return t}function zT(t,e,n){if(Cy.test(t)){let r=t,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),l=Di(a.pathname,n)!=null;if(a.origin===e.origin&&l)return a.pathname+a.search+a.hash}return t}function Qo(t,e,n,r){let a=t.createURL(fb(e)).toString(),l={signal:n};if(r&&si(r.formMethod)){let{formMethod:c,formEncType:h}=r;l.method=c.toUpperCase(),h==="application/json"?(l.headers=new Headers({"Content-Type":h}),l.body=JSON.stringify(r.json)):h==="text/plain"?l.body=r.text:h==="application/x-www-form-urlencoded"&&r.formData?l.body=Cg(r.formData):l.body=r.formData}return new Request(a,l)}function Cg(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function FT(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function cD(t,e,n,r=!1,a=!1){let l={},c=null,h,d=!1,p={},y=n&&ri(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let E=_.route.id,w=e[E];if(et(!Ga(w),"Cannot handle redirect results in processLoaderData"),ri(w)){let A=w.error;if(y!==void 0&&(A=y,y=void 0),c=c||{},a)c[E]=A;else{let D=qa(t,E);c[D.route.id]==null&&(c[D.route.id]=A)}r||(l[E]=ab),d||(d=!0,h=lc(w.error)?w.error.status:500),w.headers&&(p[E]=w.headers)}else l[E]=w.data,w.statusCode&&w.statusCode!==200&&!d&&(h=w.statusCode),w.headers&&(p[E]=w.headers)}),y!==void 0&&n&&(c={[n[0]]:y},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:c,statusCode:h||200,loaderHeaders:p}}function HT(t,e,n,r,a,l){let{loaderData:c,errors:h}=cD(e,n,r);return a.filter(d=>!d.matches||d.matches.some(p=>p.shouldLoad)).forEach(d=>{let{key:p,match:y,controller:_}=d,E=l[p];if(et(E,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(ri(E)){let w=qa(t.matches,y==null?void 0:y.route.id);h&&h[w.route.id]||(h={...h,[w.route.id]:E.error}),t.fetchers.delete(p)}else if(Ga(E))et(!1,"Unhandled fetcher revalidation redirect");else{let w=ks(E.data);t.fetchers.set(p,w)}}),{loaderData:c,errors:h}}function qT(t,e,n,r){let a=Object.entries(e).filter(([,l])=>l!==ab).reduce((l,[c,h])=>(l[c]=h,l),{});for(let l of n){let c=l.route.id;if(!e.hasOwnProperty(c)&&t.hasOwnProperty(c)&&l.route.loader&&(a[c]=t[c]),r&&r.hasOwnProperty(c))break}return a}function GT(t){return t?ri(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function qa(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function KT(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ci(t,{pathname:e,routeId:n,method:r,type:a,message:l}={}){let c="Unknown Server Error",h="Unknown @remix-run/router error";return t===400?(c="Bad Request",r&&e&&n?h=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(h="Unable to encode submission body")):t===403?(c="Forbidden",h=`Route "${n}" does not match URL "${e}"`):t===404?(c="Not Found",h=`No route matches URL "${e}"`):t===405&&(c="Method Not Allowed",r&&e&&n?h=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(h=`Invalid request method "${r.toUpperCase()}"`)),new qf(t||500,c,new Error(h),!0)}function of(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,a]=e[n];if(Ga(a))return{key:r,result:a}}}function fb(t){let e=typeof t=="string"?is(t):t;return Ws({...e,hash:""})}function hD(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function fD(t){return db(t.result)&&Xx.has(t.result.status)}function ri(t){return t.type==="error"}function Ga(t){return(t&&t.type)==="redirect"}function $T(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function db(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function dD(t){return Qx.has(t.toUpperCase())}function si(t){return $x.has(t.toUpperCase())}function Iy(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Bu(t,e){let n=typeof e=="string"?is(e).search:e.search;if(t[t.length-1].route.index&&Iy(n||""))return t[t.length-1];let r=ib(t);return r[r.length-1]}function YT(t){let{formMethod:e,formAction:n,formEncType:r,text:a,formData:l,json:c}=t;if(!(!e||!n||!r)){if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:e,formAction:n,formEncType:r,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:c,text:void 0}}}function Jp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function mD(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Nu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function pD(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ks(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function gD(t,e){try{let n=t.sessionStorage.getItem(sb);if(n){let r=JSON.parse(n);for(let[a,l]of Object.entries(r||{}))l&&Array.isArray(l)&&e.set(a,new Set(l||[]))}}catch{}}function yD(t,e){if(e.size>0){let n={};for(let[r,a]of e)n[r]=[...a];try{t.sessionStorage.setItem(sb,JSON.stringify(n))}catch(r){jt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function vD(){let t,e,n=new Promise((r,a)=>{t=async l=>{r(l);try{await n}catch{}},e=async l=>{a(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var io=z.createContext(null);io.displayName="DataRouter";var Ac=z.createContext(null);Ac.displayName="DataRouterState";var xy=z.createContext({isTransitioning:!1});xy.displayName="ViewTransition";var mb=z.createContext(new Map);mb.displayName="Fetchers";var _D=z.createContext(null);_D.displayName="Await";var Tr=z.createContext(null);Tr.displayName="Navigation";var Sd=z.createContext(null);Sd.displayName="Location";var rs=z.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var Dy=z.createContext(null);Dy.displayName="RouteError";function ED(t,{relative:e}={}){et(Rc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=z.useContext(Tr),{hash:a,pathname:l,search:c}=Cc(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:hr([n,l])),r.createHref({pathname:h,search:c,hash:a})}function Rc(){return z.useContext(Sd)!=null}function ro(){return et(Rc(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Sd).location}var pb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gb(t){z.useContext(Tr).static||z.useLayoutEffect(t)}function aa(){let{isDataRoute:t}=z.useContext(rs);return t?OD():TD()}function TD(){et(Rc(),"useNavigate() may be used only in the context of a <Router> component.");let t=z.useContext(io),{basename:e,navigator:n}=z.useContext(Tr),{matches:r}=z.useContext(rs),{pathname:a}=ro(),l=JSON.stringify(Ay(r)),c=z.useRef(!1);return gb(()=>{c.current=!0}),z.useCallback((d,p={})=>{if(jt(c.current,pb),!c.current)return;if(typeof d=="number"){n.go(d);return}let y=Ry(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:hr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}z.createContext(null);function Cc(t,{relative:e}={}){let{matches:n}=z.useContext(rs),{pathname:r}=ro(),a=JSON.stringify(Ay(n));return z.useMemo(()=>Ry(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function SD(t,e,n,r){et(Rc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=z.useContext(Tr),{matches:l}=z.useContext(rs),c=l[l.length-1],h=c?c.params:{},d=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let V=y&&y.path||"";yb(d,!y||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let _=ro(),E;E=_;let w=E.pathname||"/",A=w;if(p!=="/"){let V=p.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(V.length).join("/")}let D=js(t,{pathname:A});return jt(y||D!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),jt(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),CD(D&&D.map(V=>Object.assign({},V,{params:Object.assign({},h,V.params),pathname:hr([p,a.encodeLocation?a.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?p:hr([p,a.encodeLocation?a.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),l,n,r)}function wD(){let t=PD(),e=lc(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:l},"ErrorBoundary")," or"," ",z.createElement("code",{style:l},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:a},n):null,c)}var bD=z.createElement(wD,null),AD=class extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?z.createElement(rs.Provider,{value:this.props.routeContext},z.createElement(Dy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RD({routeContext:t,match:e,children:n}){let r=z.useContext(io);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(rs.Provider,{value:t},n)}function CD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let d=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);et(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,h=-1;if(n)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:y,errors:_}=n,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,p,y)=>{let _,E=!1,w=null,A=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||bD,c&&(h<0&&y===0?(yb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):h===y&&(E=!0,A=p.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,y+1)),x=()=>{let V;return _?V=w:E?V=A:p.route.Component?V=z.createElement(p.route.Component,null):p.route.element?V=p.route.element:V=d,z.createElement(RD,{match:p,routeContext:{outlet:d,matches:D,isDataRoute:n!=null},children:V})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?z.createElement(AD,{location:n.location,revalidation:n.revalidation,component:w,error:_,children:x(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):x()},null)}function My(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ID(t){let e=z.useContext(io);return et(e,My(t)),e}function xD(t){let e=z.useContext(Ac);return et(e,My(t)),e}function DD(t){let e=z.useContext(rs);return et(e,My(t)),e}function Py(t){let e=DD(t),n=e.matches[e.matches.length-1];return et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function MD(){return Py("useRouteId")}function PD(){var r;let t=z.useContext(Dy),e=xD("useRouteError"),n=Py("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function OD(){let{router:t}=ID("useNavigate"),e=Py("useNavigate"),n=z.useRef(!1);return gb(()=>{n.current=!0}),z.useCallback(async(a,l={})=>{jt(n.current,pb),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var QT={};function yb(t,e,n){!e&&!QT[t]&&(QT[t]=!0,jt(!1,n))}var XT={};function WT(t,e){!t&&!XT[e]&&(XT[e]=!0,console.warn(e))}function VD(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&jt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:z.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&jt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:z.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&jt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:z.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var ND=["HydrateFallback","hydrateFallbackElement"],LD=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function kD({router:t,flushSync:e}){let[n,r]=z.useState(t.state),[a,l]=z.useState(),[c,h]=z.useState({isTransitioning:!1}),[d,p]=z.useState(),[y,_]=z.useState(),[E,w]=z.useState(),A=z.useRef(new Map),D=z.useCallback((F,{deletedFetchers:ee,flushSync:te,viewTransitionOpts:j})=>{F.fetchers.forEach((C,I)=>{C.data!==void 0&&A.current.set(I,C.data)}),ee.forEach(C=>A.current.delete(C)),WT(te===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(WT(j==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!j||!M){e&&te?e(()=>r(F)):z.startTransition(()=>r(F));return}if(e&&te){e(()=>{y&&(d&&d.resolve(),y.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation})});let C=t.window.document.startViewTransition(()=>{e(()=>r(F))});C.finished.finally(()=>{e(()=>{p(void 0),_(void 0),l(void 0),h({isTransitioning:!1})})}),e(()=>_(C));return}y?(d&&d.resolve(),y.skipTransition(),w({state:F,currentLocation:j.currentLocation,nextLocation:j.nextLocation})):(l(F),h({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}))},[t.window,e,y,d]);z.useLayoutEffect(()=>t.subscribe(D),[t,D]),z.useEffect(()=>{c.isTransitioning&&!c.flushSync&&p(new LD)},[c]),z.useEffect(()=>{if(d&&a&&t.window){let F=a,ee=d.promise,te=t.window.document.startViewTransition(async()=>{z.startTransition(()=>r(F)),await ee});te.finished.finally(()=>{p(void 0),_(void 0),l(void 0),h({isTransitioning:!1})}),_(te)}},[a,d,t.window]),z.useEffect(()=>{d&&a&&n.location.key===a.location.key&&d.resolve()},[d,y,n.location,a]),z.useEffect(()=>{!c.isTransitioning&&E&&(l(E.state),h({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),w(void 0))},[c.isTransitioning,E]);let x=z.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:F=>t.navigate(F),push:(F,ee,te)=>t.navigate(F,{state:ee,preventScrollReset:te==null?void 0:te.preventScrollReset}),replace:(F,ee,te)=>t.navigate(F,{replace:!0,state:ee,preventScrollReset:te==null?void 0:te.preventScrollReset})}),[t]),V=t.basename||"/",Z=z.useMemo(()=>({router:t,navigator:x,static:!1,basename:V}),[t,x,V]);return z.createElement(z.Fragment,null,z.createElement(io.Provider,{value:Z},z.createElement(Ac.Provider,{value:n},z.createElement(mb.Provider,{value:A.current},z.createElement(xy.Provider,{value:c},z.createElement(BD,{basename:V,location:n.location,navigationType:n.historyAction,navigator:x},z.createElement(UD,{routes:t.routes,future:t.future,state:n})))))),null)}var UD=z.memo(jD);function jD({routes:t,future:e,state:n}){return SD(t,void 0,n,e)}function BD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){et(!Rc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=z.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=is(n));let{pathname:d="/",search:p="",hash:y="",state:_=null,key:E="default"}=n,w=z.useMemo(()=>{let A=Di(d,c);return A==null?null:{location:{pathname:A,search:p,hash:y,state:_,key:E},navigationType:r}},[c,d,p,y,_,E,r]);return jt(w!=null,`<Router basename="${c}"> is not able to match the URL "${d}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:z.createElement(Tr.Provider,{value:h},z.createElement(Sd.Provider,{children:e,value:w}))}var Rf="get",Cf="application/x-www-form-urlencoded";function wd(t){return t!=null&&typeof t.tagName=="string"}function zD(t){return wd(t)&&t.tagName.toLowerCase()==="button"}function FD(t){return wd(t)&&t.tagName.toLowerCase()==="form"}function HD(t){return wd(t)&&t.tagName.toLowerCase()==="input"}function qD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GD(t,e){return t.button===0&&(!e||e==="_self")&&!qD(t)}var lf=null;function KD(){if(lf===null)try{new FormData(document.createElement("form"),0),lf=!1}catch{lf=!0}return lf}var $D=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function eg(t){return t!=null&&!$D.has(t)?(jt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cf}"`),null):t}function YD(t,e){let n,r,a,l,c;if(FD(t)){let h=t.getAttribute("action");r=h?Di(h,e):null,n=t.getAttribute("method")||Rf,a=eg(t.getAttribute("enctype"))||Cf,l=new FormData(t)}else if(zD(t)||HD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Di(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Rf,a=eg(t.getAttribute("formenctype"))||eg(h.getAttribute("enctype"))||Cf,l=new FormData(h,t),!KD()){let{name:p,type:y,value:_}=t;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(wd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rf,r=null,a=Cf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}function Oy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function QD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function WD(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await QD(l,n);return c.links?c.links():[]}return[]}));return tM(r.flat(1).filter(XD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ZT(t,e,n,r,a,l){let c=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>{var y;return n[p].pathname!==d.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,p)=>c(d,p)||h(d,p)):l==="data"?e.filter((d,p)=>{var _;let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(c(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function ZD(t,e,{includeHydrateFallback:n}={}){return JD(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function JD(t){return[...new Set(t)]}function eM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function tM(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(eM(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nM=new Set([100,101,204,205]);function iM(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Di(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function vb(){let t=z.useContext(io);return Oy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function rM(){let t=z.useContext(Ac);return Oy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Vy=z.createContext(void 0);Vy.displayName="FrameworkContext";function _b(){let t=z.useContext(Vy);return Oy(t,"You must render this element inside a <HydratedRouter> element"),t}function sM(t,e){let n=z.useContext(Vy),[r,a]=z.useState(!1),[l,c]=z.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,E=z.useRef(null);z.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let D=V=>{V.forEach(Z=>{c(Z.isIntersecting)})},x=new IntersectionObserver(D,{threshold:.5});return E.current&&x.observe(E.current),()=>{x.disconnect()}}},[t]),z.useEffect(()=>{if(r){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[r]);let w=()=>{a(!0)},A=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:Lu(h,w),onBlur:Lu(d,A),onMouseEnter:Lu(p,w),onMouseLeave:Lu(y,A),onTouchStart:Lu(_,w)}]:[!1,E,{}]}function Lu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function aM({page:t,...e}){let{router:n}=vb(),r=z.useMemo(()=>js(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?z.createElement(lM,{page:t,matches:r,...e}):null}function oM(t){let{manifest:e,routeModules:n}=_b(),[r,a]=z.useState([]);return z.useEffect(()=>{let l=!1;return WD(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),r}function lM({page:t,matches:e,...n}){let r=ro(),{manifest:a,routeModules:l}=_b(),{basename:c}=vb(),{loaderData:h,matches:d}=rM(),p=z.useMemo(()=>ZT(t,e,d,a,r,"data"),[t,e,d,a,r]),y=z.useMemo(()=>ZT(t,e,d,a,r,"assets"),[t,e,d,a,r]),_=z.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,D=!1;if(e.forEach(V=>{var F;let Z=a.routes[V.route.id];!Z||!Z.hasLoader||(!p.some(ee=>ee.route.id===V.route.id)&&V.route.id in h&&((F=l[V.route.id])!=null&&F.shouldRevalidate)||Z.hasClientLoader?D=!0:A.add(V.route.id))}),A.size===0)return[];let x=iM(t,c);return D&&A.size>0&&x.searchParams.set("_routes",e.filter(V=>A.has(V.route.id)).map(V=>V.route.id).join(",")),[x.pathname+x.search]},[c,h,r,a,p,e,t,l]),E=z.useMemo(()=>ZD(y,a),[y,a]),w=oM(y);return z.createElement(z.Fragment,null,_.map(A=>z.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),E.map(A=>z.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),w.map(({key:A,link:D})=>z.createElement("link",{key:A,...D})))}function uM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Eb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Eb&&(window.__reactRouterVersion="7.6.1")}catch{}function cM(t,e){return eD({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:Tx({window:e==null?void 0:e.window}),hydrationData:hM(),routes:t,mapRouteProperties:VD,hydrationRouteProperties:ND,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function hM(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:fM(t.errors)}),t}function fM(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")n[r]=new qf(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let c=new l(a.message);c.stack="",n[r]=c}catch{}}if(n[r]==null){let l=new Error(a.message);l.stack="",n[r]=l}}else n[r]=a;return n}var Tb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sb=z.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:h,target:d,to:p,preventScrollReset:y,viewTransition:_,...E},w){let{basename:A}=z.useContext(Tr),D=typeof p=="string"&&Tb.test(p),x,V=!1;if(typeof p=="string"&&D&&(x=p,Eb))try{let I=new URL(window.location.href),P=p.startsWith("//")?new URL(I.protocol+p):new URL(p),U=Di(P.pathname,A);P.origin===I.origin&&U!=null?p=U+P.search+P.hash:V=!0}catch{jt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=ED(p,{relative:a}),[F,ee,te]=sM(r,E),j=gM(p,{replace:c,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:_});function M(I){e&&e(I),I.defaultPrevented||j(I)}let C=z.createElement("a",{...E,...te,href:x||Z,onClick:V||l?e:M,ref:uM(w,ee),target:d,"data-discover":!D&&n==="render"?"true":void 0});return F&&!D?z.createElement(z.Fragment,null,C,z.createElement(aM,{page:Z})):C});Sb.displayName="Link";var dM=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:h,children:d,...p},y){let _=Cc(c,{relative:p.relative}),E=ro(),w=z.useContext(Ac),{navigator:A,basename:D}=z.useContext(Tr),x=w!=null&&TM(_)&&h===!0,V=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,Z=E.pathname,F=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),F=F?F.toLowerCase():null,V=V.toLowerCase()),F&&D&&(F=Di(F,D)||F);const ee=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let te=Z===V||!a&&Z.startsWith(V)&&Z.charAt(ee)==="/",j=F!=null&&(F===V||!a&&F.startsWith(V)&&F.charAt(V.length)==="/"),M={isActive:te,isPending:j,isTransitioning:x},C=te?e:void 0,I;typeof r=="function"?I=r(M):I=[r,te?"active":null,j?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(M):l;return z.createElement(Sb,{...p,"aria-current":C,className:I,ref:y,style:P,to:c,viewTransition:h},typeof d=="function"?d(M):d)});dM.displayName="NavLink";var mM=z.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:c=Rf,action:h,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:_,...E},w)=>{let A=_M(),D=EM(h,{relative:p}),x=c.toLowerCase()==="get"?"get":"post",V=typeof h=="string"&&Tb.test(h),Z=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let ee=F.nativeEvent.submitter,te=(ee==null?void 0:ee.getAttribute("formmethod"))||c;A(ee||F.currentTarget,{fetcherKey:e,method:te,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return z.createElement("form",{ref:w,method:x,action:D,onSubmit:r?d:Z,...E,"data-discover":!V&&t==="render"?"true":void 0})});mM.displayName="Form";function pM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wb(t){let e=z.useContext(io);return et(e,pM(t)),e}function gM(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let h=aa(),d=ro(),p=Cc(t,{relative:l});return z.useCallback(y=>{if(GD(y,e)){y.preventDefault();let _=n!==void 0?n:Ws(d)===Ws(p);h(t,{replace:_,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[d,h,p,n,r,e,t,a,l,c])}var yM=0,vM=()=>`__${String(++yM)}__`;function _M(){let{router:t}=wb("useSubmit"),{basename:e}=z.useContext(Tr),n=MD();return z.useCallback(async(r,a={})=>{let{action:l,method:c,encType:h,formData:d,body:p}=YD(r,e);if(a.navigate===!1){let y=a.fetcherKey||vM();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function EM(t,{relative:e}={}){let{basename:n}=z.useContext(Tr),r=z.useContext(rs);et(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Cc(t||".",{relative:e})},c=ro();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:hr([n,l.pathname])),Ws(l)}function TM(t,e={}){let n=z.useContext(xy);et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wb("useViewTransitionState"),a=Cc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Di(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Di(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Hf(a.pathname,c)!=null||Hf(a.pathname,l)!=null}[...nM];var SM=Zw();/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wM(t){return z.createElement(kD,{flushSync:SM.flushSync,...t})}const bM=()=>{};var JT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},AM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Ab={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,y=l>>2,_=(l&3)<<4|h>>4;let E=(h&15)<<2|p>>6,w=p&63;d||(w=64,c||(E=64)),r.push(n[y],n[_],n[E],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||_==null)throw new RM;const E=l<<2|h>>4;if(r.push(E),p!==64){const w=h<<4&240|p>>2;if(r.push(w),_!==64){const A=p<<6&192|_;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CM=function(t){const e=bb(t);return Ab.encodeByteArray(e,!0)},Kf=function(t){return CM(t).replace(/\./g,"")},Rb=function(t){try{return Ab.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=()=>IM().__FIREBASE_DEFAULTS__,DM=()=>{if(typeof process>"u"||typeof JT>"u")return;const t=JT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rb(t[1]);return e&&JSON.parse(e)},bd=()=>{try{return bM()||xM()||DM()||MM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Cb=t=>{var e,n;return(n=(e=bd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},PM=t=>{const e=Cb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ib=()=>{var t;return(t=bd())===null||t===void 0?void 0:t.config},xb=t=>{var e;return(e=bd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t){return t.endsWith(".cloudworkstations.dev")}async function Db(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Kf(JSON.stringify(n)),Kf(JSON.stringify(c)),""].join(".")}const Yu={};function NM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Yu))Yu[e]?t.emulator.push(e):t.prod.push(e);return t}function LM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let e1=!1;function Mb(t,e){if(typeof window>"u"||typeof document>"u"||!Ic(window.location.host)||Yu[t]===e||Yu[t]||e1)return;Yu[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",l=NM().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{e1=!0,c()},E}function y(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=LM(r),w=n("text"),A=document.getElementById(w)||document.createElement("span"),D=n("learnmore"),x=document.getElementById(D)||document.createElement("a"),V=n("preprendIcon"),Z=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const F=E.element;h(F),y(x,D);const ee=p();d(Z,V),F.append(Z,A,x,ee),document.body.appendChild(F)}l?(A.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function UM(){var t;const e=(t=bd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FM(){const t=xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HM(){return!UM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qM(){try{return typeof indexedDB=="object"}catch{return!1}}function GM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM="FirebaseError";class ss extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KM,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xc.prototype.create)}}class xc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?$M(l,r):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new ss(a,h,r)}}function $M(t,e){return t.replace(YM,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const YM=/\{\$([^}]+)}/g;function QM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],c=e[a];if(t1(l)&&t1(c)){if(!Wa(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function t1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Fu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function XM(t,e){const n=new WM(t,e);return n.subscribe.bind(n)}class WM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZM(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=tg),a.error===void 0&&(a.error=tg),a.complete===void 0&&(a.complete=tg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t){return t&&t._delegate?t._delegate:t}class Za{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tP(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&c.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eP(t){return t===Fa?void 0:t}function tP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const iP={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},rP=tt.INFO,sP={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},aP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=sP[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ny{constructor(e){this.name=e,this._logLevel=rP,this._logHandler=aP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const oP=(t,e)=>e.some(n=>t instanceof n);let n1,i1;function lP(){return n1||(n1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uP(){return i1||(i1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pb=new WeakMap,Ig=new WeakMap,Ob=new WeakMap,ng=new WeakMap,Ly=new WeakMap;function cP(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Ks(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Pb.set(n,t)}).catch(()=>{}),Ly.set(e,t),e}function hP(t){if(Ig.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Ig.set(t,e)}let xg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ig.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ob.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fP(t){xg=t(xg)}function dP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ig(this),e,...n);return Ob.set(r,e.sort?e.sort():[e]),Ks(r)}:uP().includes(t)?function(...e){return t.apply(ig(this),e),Ks(Pb.get(this))}:function(...e){return Ks(t.apply(ig(this),e))}}function mP(t){return typeof t=="function"?dP(t):(t instanceof IDBTransaction&&hP(t),oP(t,lP())?new Proxy(t,xg):t)}function Ks(t){if(t instanceof IDBRequest)return cP(t);if(ng.has(t))return ng.get(t);const e=mP(t);return e!==t&&(ng.set(t,e),Ly.set(e,t)),e}const ig=t=>Ly.get(t);function pP(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=Ks(c);return r&&c.addEventListener("upgradeneeded",d=>{r(Ks(c.result),d.oldVersion,d.newVersion,Ks(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const gP=["get","getKey","getAll","getAllKeys","count"],yP=["put","add","delete","clear"],rg=new Map;function r1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rg.get(e))return rg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=yP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||gP.includes(n)))return;const l=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return rg.set(e,l),l}fP(t=>({...t,get:(e,n,r)=>r1(e,n)||t.get(e,n,r),has:(e,n)=>!!r1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_P(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _P(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dg="@firebase/app",s1="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Ny("@firebase/app"),EP="@firebase/app-compat",TP="@firebase/analytics-compat",SP="@firebase/analytics",wP="@firebase/app-check-compat",bP="@firebase/app-check",AP="@firebase/auth",RP="@firebase/auth-compat",CP="@firebase/database",IP="@firebase/data-connect",xP="@firebase/database-compat",DP="@firebase/functions",MP="@firebase/functions-compat",PP="@firebase/installations",OP="@firebase/installations-compat",VP="@firebase/messaging",NP="@firebase/messaging-compat",LP="@firebase/performance",kP="@firebase/performance-compat",UP="@firebase/remote-config",jP="@firebase/remote-config-compat",BP="@firebase/storage",zP="@firebase/storage-compat",FP="@firebase/firestore",HP="@firebase/ai",qP="@firebase/firestore-compat",GP="firebase",KP="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="[DEFAULT]",$P={[Dg]:"fire-core",[EP]:"fire-core-compat",[SP]:"fire-analytics",[TP]:"fire-analytics-compat",[bP]:"fire-app-check",[wP]:"fire-app-check-compat",[AP]:"fire-auth",[RP]:"fire-auth-compat",[CP]:"fire-rtdb",[IP]:"fire-data-connect",[xP]:"fire-rtdb-compat",[DP]:"fire-fn",[MP]:"fire-fn-compat",[PP]:"fire-iid",[OP]:"fire-iid-compat",[VP]:"fire-fcm",[NP]:"fire-fcm-compat",[LP]:"fire-perf",[kP]:"fire-perf-compat",[UP]:"fire-rc",[jP]:"fire-rc-compat",[BP]:"fire-gcs",[zP]:"fire-gcs-compat",[FP]:"fire-fst",[qP]:"fire-fst-compat",[HP]:"fire-vertex","fire-js":"fire-js",[GP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=new Map,YP=new Map,Pg=new Map;function a1(t,e){try{t.container.addComponent(e)}catch(n){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hl(t){const e=t.name;if(Pg.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;Pg.set(e,t);for(const n of $f.values())a1(n,t);for(const n of YP.values())a1(n,t);return!0}function ky(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ii(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$s=new xc("app","Firebase",QP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=KP;function Vb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mg,automaticDataCollectionEnabled:!0},e),a=r.name;if(typeof a!="string"||!a)throw $s.create("bad-app-name",{appName:String(a)});if(n||(n=Ib()),!n)throw $s.create("no-options");const l=$f.get(a);if(l){if(Wa(n,l.options)&&Wa(r,l.config))return l;throw $s.create("duplicate-app",{appName:a})}const c=new nP(a);for(const d of Pg.values())c.addComponent(d);const h=new XP(n,r,c);return $f.set(a,h),h}function Nb(t=Mg){const e=$f.get(t);if(!e&&t===Mg&&Ib())return Vb();if(!e)throw $s.create("no-app",{appName:t});return e}function Ys(t,e,n){var r;let a=(r=$P[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(h.join(" "));return}hl(new Za(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="firebase-heartbeat-database",ZP=1,uc="firebase-heartbeat-store";let sg=null;function Lb(){return sg||(sg=pP(WP,ZP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uc)}catch(n){console.warn(n)}}}}).catch(t=>{throw $s.create("idb-open",{originalErrorMessage:t.message})})),sg}async function JP(t){try{const n=(await Lb()).transaction(uc),r=await n.objectStore(uc).get(kb(t));return await n.done,r}catch(e){if(e instanceof ss)Wr.warn(e.message);else{const n=$s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(n.message)}}}async function o1(t,e){try{const r=(await Lb()).transaction(uc,"readwrite");await r.objectStore(uc).put(e,kb(t)),await r.done}catch(n){if(n instanceof ss)Wr.warn(n.message);else{const r=$s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wr.warn(r.message)}}}function kb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=1024,tO=30;class nO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=l1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>tO){const c=sO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Wr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=l1(),{heartbeatsToSend:r,unsentEntries:a}=iO(this._heartbeatsCache.heartbeats),l=Kf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Wr.warn(n),""}}}function l1(){return new Date().toISOString().substring(0,10)}function iO(t,e=eO){const n=[];let r=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),u1(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),u1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qM()?GM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return o1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return o1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function u1(t){return Kf(JSON.stringify({version:2,heartbeats:t})).length}function sO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){hl(new Za("platform-logger",e=>new vP(e),"PRIVATE")),hl(new Za("heartbeat",e=>new nO(e),"PRIVATE")),Ys(Dg,s1,t),Ys(Dg,s1,"esm2017"),Ys("fire-js","")}aO("");function Uy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function Ub(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oO=Ub,jb=new xc("auth","Firebase",Ub());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=new Ny("@firebase/auth");function lO(t,...e){Yf.logLevel<=tt.WARN&&Yf.warn(`Auth (${Sl}): ${t}`,...e)}function If(t,...e){Yf.logLevel<=tt.ERROR&&Yf.error(`Auth (${Sl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t,...e){throw jy(t,...e)}function fr(t,...e){return jy(t,...e)}function Bb(t,e,n){const r=Object.assign(Object.assign({},oO()),{[e]:n});return new xc("auth","Firebase",r).create(e,{appName:t.name})}function Qr(t){return Bb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jb.create(t,...e)}function Le(t,e,...n){if(!t)throw jy(e,...n)}function $r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw If(e),new Error(e)}function Zr(t,e){t||$r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function uO(){return c1()==="http:"||c1()==="https:"}function c1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uO()||BM()||"connection"in navigator)?navigator.onLine:!0}function hO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zr(n>e,"Short delay should be less than long delay!"),this.isMobile=kM()||zM()}get(){return cO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t,e){Zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mO=new Mc(3e4,6e4);function oa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function la(t,e,n,r,a={}){return Fb(t,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const h=Dc(Object.assign({key:t.config.apiKey},c)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},l);return jM()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Ic(t.emulatorConfig.host)&&(p.credentials="include"),zb.fetch()(await Hb(t,t.config.apiHost,n,h),p)})}async function Fb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},fO),e);try{const a=new gO(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw uf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw uf(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw uf(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw uf(t,"user-disabled",c);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Bb(t,y,p);Bi(t,y)}}catch(a){if(a instanceof ss)throw a;Bi(t,"network-request-failed",{message:String(a)})}}async function Pc(t,e,n,r,a={}){const l=await la(t,e,n,r,a);return"mfaPendingCredential"in l&&Bi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function Hb(t,e,n,r){const a=`${e}${n}?${r}`,l=t,c=l.config.emulator?By(t.config,a):`${t.config.apiScheme}://${a}`;return dO.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function pO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fr(this.auth,"network-request-failed")),mO.get())})}}function uf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=fr(t,e,r);return a.customData._tokenResponse=n,a}function h1(t){return t!==void 0&&t.enterprise!==void 0}class yO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vO(t,e){return la(t,"GET","/v2/recaptchaConfig",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t,e){return la(t,"POST","/v1/accounts:delete",e)}async function Qf(t,e){return la(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EO(t,e=!1){const n=ln(t),r=await n.getIdToken(e),a=zy(r);Le(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Qu(ag(a.auth_time)),issuedAtTime:Qu(ag(a.iat)),expirationTime:Qu(ag(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ag(t){return Number(t)*1e3}function zy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return If("JWT malformed, contained fewer than 3 sections"),null;try{const a=Rb(n);return a?JSON.parse(a):(If("Failed to decode base64 JWT payload"),null)}catch(a){return If("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function f1(t){const e=zy(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ss&&TO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function TO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qu(this.lastLoginAt),this.creationTime=Qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xf(t){var e;const n=t.auth,r=await t.getIdToken(),a=await cc(t,Qf(n,{idToken:r}));Le(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?qb(l.providerUserInfo):[],h=bO(t.providerData,c),d=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(h!=null&&h.length),y=d?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Vg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function wO(t){const e=ln(t);await Xf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bO(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function qb(t){return t.map(e=>{var{providerId:n}=e,r=Uy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(t,e){const n=await Fb(t,{},async()=>{const r=Dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await Hb(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",zb.fetch()(c,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RO(t,e){return la(t,"POST","/v2/accounts:revokeToken",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=f1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await AO(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new ol;return r&&(Le(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Le(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Le(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ui{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,l=Uy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Vg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await cc(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return EO(this,e)}reload(){return wO(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ii(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await cc(this,_O(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,l,c,h,d,p,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(a=n.email)!==null&&a!==void 0?a:void 0,w=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,A=(c=n.photoURL)!==null&&c!==void 0?c:void 0,D=(h=n.tenantId)!==null&&h!==void 0?h:void 0,x=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,V=(p=n.createdAt)!==null&&p!==void 0?p:void 0,Z=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:F,emailVerified:ee,isAnonymous:te,providerData:j,stsTokenManager:M}=n;Le(F&&M,e,"internal-error");const C=ol.fromJSON(this.name,M);Le(typeof F=="string",e,"internal-error"),Ls(_,e.name),Ls(E,e.name),Le(typeof ee=="boolean",e,"internal-error"),Le(typeof te=="boolean",e,"internal-error"),Ls(w,e.name),Ls(A,e.name),Ls(D,e.name),Ls(x,e.name),Ls(V,e.name),Ls(Z,e.name);const I=new Ui({uid:F,auth:e,email:E,emailVerified:ee,displayName:_,isAnonymous:te,photoURL:A,phoneNumber:w,tenantId:D,stsTokenManager:C,createdAt:V,lastLoginAt:Z});return j&&Array.isArray(j)&&(I.providerData=j.map(P=>Object.assign({},P))),x&&(I._redirectEventId=x),I}static async _fromIdTokenResponse(e,n,r=!1){const a=new ol;a.updateFromServerResponse(n);const l=new Ui({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Xf(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Le(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?qb(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new ol;h.updateFromIdToken(r);const d=new Ui({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Vg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=new Map;function Yr(t){Zr(t instanceof Function,"Expected a class definition");let e=d1.get(t);return e?(Zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,d1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Gb.type="NONE";const m1=Gb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t,e,n){return`firebase:${t}:${e}:${n}`}class ll{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=xf(this.userKey,a.apiKey,l),this.fullPersistenceKey=xf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qf(this.auth,{idToken:e}).catch(()=>{});return n?Ui._fromGetAccountInfoResponse(this.auth,n,e):null}return Ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ll(Yr(m1),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Yr(m1);const c=xf(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const E=await Qf(e,{idToken:y}).catch(()=>{});if(!E)break;_=await Ui._fromGetAccountInfoResponse(e,E,y)}else _=Ui._fromJSON(e,y);p!==l&&(h=_),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new ll(l,e,r):(l=d[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new ll(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wb(e))return"Blackberry";if(Zb(e))return"Webos";if($b(e))return"Safari";if((e.includes("chrome/")||Yb(e))&&!e.includes("edge/"))return"Chrome";if(Xb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Kb(t=xn()){return/firefox\//i.test(t)}function $b(t=xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yb(t=xn()){return/crios\//i.test(t)}function Qb(t=xn()){return/iemobile/i.test(t)}function Xb(t=xn()){return/android/i.test(t)}function Wb(t=xn()){return/blackberry/i.test(t)}function Zb(t=xn()){return/webos/i.test(t)}function Fy(t=xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CO(t=xn()){var e;return Fy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IO(){return FM()&&document.documentMode===10}function Jb(t=xn()){return Fy(t)||Xb(t)||Zb(t)||Wb(t)||/windows phone/i.test(t)||Qb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t,e=[]){let n;switch(t){case"Browser":n=p1(xn());break;case"Worker":n=`${p1(xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,h)=>{try{const d=e(l);c(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(t,e={}){return la(t,"GET","/v2/passwordPolicy",oa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=6;class PO{constructor(e){var n,r,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:MO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,l,c,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g1(this),this.idTokenSubscription=new g1(this),this.beforeStateQueue=new xO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qf(this,{idToken:e}),r=await Ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===h)&&(d!=null&&d.user)&&(a=d.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ii(this.app))return Promise.reject(Qr(this));const n=e?ln(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ii(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ii(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DO(this),n=new PO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await RO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yr(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[Yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&lO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function so(t){return ln(t)}class g1{constructor(e){this.auth=e,this.observer=null,this.addObserver=XM(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VO(t){Ad=t}function tA(t){return Ad.loadJS(t)}function NO(){return Ad.recaptchaEnterpriseScript}function LO(){return Ad.gapiScript}function kO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class UO{constructor(){this.enterprise=new jO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class jO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const BO="recaptcha-enterprise",nA="NO_RECAPTCHA";class zO{constructor(e){this.type=BO,this.auth=so(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{vO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new yO(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(d=>{h(d)})})}function a(l,c,h){const d=window.grecaptcha;h1(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(nA)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new UO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(h=>{if(!n&&h1(window.grecaptcha))a(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=NO();d.length!==0&&(d+=h),tA(d).then(()=>{a(h,l,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function y1(t,e,n,r=!1,a=!1){const l=new zO(t);let c;if(a)c=nA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ng(t,e,n,r,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await y1(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await y1(t,e,n,n==="getOobCode");return r(t,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t,e){const n=ky(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Wa(l,e??{}))return a;Bi(a,"already-initialized")}return n.initialize({options:e})}function HO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qO(t,e,n){const r=so(t);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=iA(e),{host:c,port:h}=GO(e),d=h===null?"":`:${h}`,p={url:`${l}//${c}${d}/`},y=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(Wa(p,r.config.emulator)&&Wa(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Ic(c)?(Db(`${l}//${c}${d}`),Mb("Auth",!0)):KO()}function iA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GO(t){const e=iA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:v1(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:v1(c)}}}function v1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function KO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}async function $O(t,e){return la(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(t,e){return Pc(t,"POST","/v1/accounts:signInWithPassword",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(t,e){return Pc(t,"POST","/v1/accounts:signInWithEmailLink",oa(t,e))}async function XO(t,e){return Pc(t,"POST","/v1/accounts:signInWithEmailLink",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends Hy{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new hc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new hc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ng(e,n,"signInWithPassword",YO);case"emailLink":return QO(e,{email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ng(e,r,"signUpPassword",$O);case"emailLink":return XO(e,{idToken:n,email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(t,e){return Pc(t,"POST","/v1/accounts:signInWithIdp",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="http://localhost";class Ja extends Hy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,l=Uy(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new Ja(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ul(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ul(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ul(e,n)}buildRequest(){const e={requestUri:WO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Dc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JO(t){const e=zu(Fu(t)).link,n=e?zu(Fu(e)).deep_link_id:null,r=zu(Fu(t)).deep_link_id;return(r?zu(Fu(r)).link:null)||r||n||e||t}class qy{constructor(e){var n,r,a,l,c,h;const d=zu(Fu(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,y=(r=d.oobCode)!==null&&r!==void 0?r:null,_=ZO((a=d.mode)!==null&&a!==void 0?a:null);Le(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=d.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=JO(e);try{return new qy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.providerId=wl.PROVIDER_ID}static credential(e,n){return hc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qy.parseLink(n);return Le(r,"argument-error"),hc._fromEmailAndCode(e,r.code,r.tenantId)}}wl.PROVIDER_ID="password";wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends rA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Oc{constructor(){super("facebook.com")}static credential(e){return Ja._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ja._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zs.credential(n,r)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Oc{constructor(){super("github.com")}static credential(e){return Ja._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Oc{constructor(){super("twitter.com")}static credential(e,n){return Ja._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hs.credential(n,r)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t,e){return Pc(t,"POST","/v1/accounts:signUp",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await Ui._fromIdTokenResponse(e,r,a),c=_1(r);return new eo({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=_1(r);return new eo({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function _1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends ss{constructor(e,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Wf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Wf(e,n,r,a)}}function sA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wf._fromErrorAndOperation(t,l,e,r):l})}async function tV(t,e,n=!1){const r=await cc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return eo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(t,e,n=!1){const{auth:r}=t;if(Ii(r.app))return Promise.reject(Qr(r));const a="reauthenticate";try{const l=await cc(t,sA(r,a,e,t),n);Le(l.idToken,r,"internal-error");const c=zy(l.idToken);Le(c,r,"internal-error");const{sub:h}=c;return Le(t.uid===h,r,"user-mismatch"),eo._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Bi(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aA(t,e,n=!1){if(Ii(t.app))return Promise.reject(Qr(t));const r="signIn",a=await sA(t,r,e),l=await eo._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function iV(t,e){return aA(so(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(t){const e=so(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rV(t,e,n){if(Ii(t.app))return Promise.reject(Qr(t));const r=so(t),c=await Ng(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eV).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&oA(t),d}),h=await eo._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function sV(t,e,n){return Ii(t.app)?Promise.reject(Qr(t)):iV(ln(t),wl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oA(t),r})}function aV(t,e,n,r){return ln(t).onIdTokenChanged(e,n,r)}function oV(t,e,n){return ln(t).beforeAuthStateChanged(e,n)}function lA(t,e,n,r){return ln(t).onAuthStateChanged(e,n,r)}function lV(t){return ln(t).signOut()}const Zf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zf,"1"),this.storage.removeItem(Zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=1e3,cV=10;class cA extends uA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);IO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,cV):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cA.type="LOCAL";const hV=cA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA extends uA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hA.type="SESSION";const fA=hA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Rd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(c).map(async p=>p(n.origin,l)),d=await fV(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,d)=>{const p=Gy("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function mV(t){dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function pV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yV(){return dA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="firebaseLocalStorageDb",vV=1,Jf="firebaseLocalStorage",pA="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cd(t,e){return t.transaction([Jf],e?"readwrite":"readonly").objectStore(Jf)}function _V(){const t=indexedDB.deleteDatabase(mA);return new Vc(t).toPromise()}function Lg(){const t=indexedDB.open(mA,vV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jf,{keyPath:pA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jf)?e(r):(r.close(),await _V(),e(await Lg()))})})}async function E1(t,e,n){const r=Cd(t,!0).put({[pA]:e,value:n});return new Vc(r).toPromise()}async function EV(t,e){const n=Cd(t,!1).get(e),r=await new Vc(n).toPromise();return r===void 0?null:r.value}function T1(t,e){const n=Cd(t,!0).delete(e);return new Vc(n).toPromise()}const TV=800,SV=3;class gA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rd._getInstance(yV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await pV(),!this.activeServiceWorker)return;this.sender=new dV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lg();return await E1(e,Zf,"1"),await T1(e,Zf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>E1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>EV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>T1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Cd(a,!1).getAll();return new Vc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gA.type="LOCAL";const wV=gA;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t,e){return e?Yr(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky extends Hy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AV(t){return aA(t.auth,new Ky(t),t.bypassAuthState)}function RV(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),nV(n,new Ky(t),t.bypassAuthState)}async function CV(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),tV(n,new Ky(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AV;case"linkViaPopup":case"linkViaRedirect":return CV;case"reauthViaPopup":case"reauthViaRedirect":return RV;default:Bi(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new Mc(2e3,1e4);class el extends yA{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,el.currentPopupAction&&el.currentPopupAction.cancel(),el.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=Gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,el.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IV.get())};e()}}el.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="pendingRedirect",Df=new Map;class DV extends yA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Df.get(this.auth._key());if(!e){try{const r=await MV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Df.set(this.auth._key(),e)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MV(t,e){const n=VV(e),r=OV(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function PV(t,e){Df.set(t._key(),e)}function OV(t){return Yr(t._redirectPersistence)}function VV(t){return xf(xV,t.config.apiKey,t.name)}async function NV(t,e,n=!1){if(Ii(t.app))return Promise.reject(Qr(t));const r=so(t),a=bV(r,e),c=await new DV(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=10*60*1e3;class kV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vA(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LV&&this.cachedEventUids.clear(),this.cachedEventUids.has(S1(e))}saveEventToCache(e){this.cachedEventUids.add(S1(e)),this.lastProcessedEventTime=Date.now()}}function S1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e={}){return la(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zV=/^https?/;async function FV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jV(t);for(const n of e)try{if(HV(n))return}catch{}Bi(t,"unauthorized-domain")}function HV(t){const e=Og(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!zV.test(n))return!1;if(BV.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new Mc(3e4,6e4);function w1(){const t=dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GV(t){return new Promise((e,n)=>{var r,a,l;function c(){w1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w1(),n(fr(t,"network-request-failed"))},timeout:qV.get()})}if(!((a=(r=dr().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=dr().gapi)===null||l===void 0)&&l.load)c();else{const h=kO("iframefcb");return dr()[h]=()=>{gapi.load?c():n(fr(t,"network-request-failed"))},tA(`${LO()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw Mf=null,e})}let Mf=null;function KV(t){return Mf=Mf||GV(t),Mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=new Mc(5e3,15e3),YV="__/auth/iframe",QV="emulator/auth/iframe",XV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZV(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?By(e,QV):`https://${t.config.authDomain}/${YV}`,r={apiKey:e.apiKey,appName:t.name,v:Sl},a=WV.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Dc(r).slice(1)}`}async function JV(t){const e=await KV(t),n=dr().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:ZV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XV,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=fr(t,"network-request-failed"),h=dr().setTimeout(()=>{l(c)},$V.get());function d(){dr().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t4=500,n4=600,i4="_blank",r4="http://localhost";class b1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s4(t,e,n,r=t4,a=n4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},e4),{width:r.toString(),height:a.toString(),top:l,left:c}),p=xn().toLowerCase();n&&(h=Yb(p)?i4:n),Kb(p)&&(e=e||r4,d.scrollbars="yes");const y=Object.entries(d).reduce((E,[w,A])=>`${E}${w}=${A},`,"");if(CO(p)&&h!=="_self")return a4(e||"",h),new b1(null);const _=window.open(e||"",h,y);Le(_,t,"popup-blocked");try{_.focus()}catch{}return new b1(_)}function a4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="__/auth/handler",l4="emulator/auth/handler",u4=encodeURIComponent("fac");async function A1(t,e,n,r,a,l){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sl,eventId:a};if(e instanceof rA){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",QM(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof Oc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),p=d?`#${u4}=${encodeURIComponent(d)}`:"";return`${c4(t)}?${Dc(h).slice(1)}${p}`}function c4({config:t}){return t.emulator?By(t,l4):`https://${t.authDomain}/${o4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="webStorageSupport";class h4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fA,this._completeRedirectFn=NV,this._overrideRedirectResult=PV}async _openPopup(e,n,r,a){var l;Zr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await A1(e,n,r,Og(),a);return s4(e,c,Gy())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await A1(e,n,r,Og(),a);return mV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Zr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await JV(e),r=new kV(e);return n.register("authEvent",a=>(Le(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(og,{type:og},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[og];c!==void 0&&n(!!c),Bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Jb()||$b()||Fy()}}const f4=h4;var R1="@firebase/auth",C1="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p4(t){hl(new Za("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Le(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eA(t)},p=new OO(r,a,l,d);return HO(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hl(new Za("auth-internal",e=>{const n=so(e.getProvider("auth").getImmediate());return(r=>new d4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(R1,C1,m4(t)),Ys(R1,C1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=5*60,y4=xb("authIdTokenMaxAge")||g4;let I1=null;const v4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>y4)return;const a=n==null?void 0:n.token;I1!==a&&(I1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function _4(t=Nb()){const e=ky(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FO(t,{popupRedirectResolver:f4,persistence:[wV,hV,fA]}),r=xb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=v4(l.toString());oV(n,c,()=>c(n.currentUser)),aV(n,h=>c(h))}}const a=Cb("auth");return a&&qO(n,`http://${a}`),n}function E4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}VO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=fr("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",E4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p4("Browser");function fl({to:t,children:e,onClick:n,...r}){const a=aa(),l=c=>{n&&n(c),t&&a(t)};return ie.jsx("button",{...r,onClick:l,children:e})}const _A=z.createContext({});function T4(t){const e=z.useRef(null);return e.current===null&&(e.current=t()),e.current}const $y=typeof window<"u",S4=$y?z.useLayoutEffect:z.useEffect,Yy=z.createContext(null),EA=z.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function TA(t){return typeof t=="object"&&t!==null}function SA(t){return TA(t)&&"offsetHeight"in t}function w4(t=!0){const e=z.useContext(Yy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=z.useId();z.useEffect(()=>{if(t)return a(l)},[t]);const c=z.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const cf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],x1={value:null};function b4(t,e){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function p(_){c.has(_)&&(y.schedule(_),t()),d++,_(h)}const y={schedule:(_,E=!1,w=!1)=>{const D=w&&a?n:r;return E&&c.add(_),D.has(_)||D.add(_),_},cancel:_=>{r.delete(_),c.delete(_)},process:_=>{if(h=_,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(p),e&&x1.value&&x1.value.frameloop[e].push(d),d=0,n.clear(),a=!1,l&&(l=!1,y.process(_))}};return y}const Jr={},A4=40;function wA(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=cf.reduce((F,ee)=>(F[ee]=b4(l,e?ee:void 0),F),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:y,update:_,preRender:E,render:w,postRender:A}=c,D=()=>{const F=Jr.useManualTiming?a.timestamp:performance.now();n=!1,Jr.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(F-a.timestamp,A4),1)),a.timestamp=F,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),_.process(a),E.process(a),w.process(a),A.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(D))},x=()=>{n=!0,r=!0,a.isProcessing||t(D)};return{schedule:cf.reduce((F,ee)=>{const te=c[ee];return F[ee]=(j,M=!1,C=!1)=>(n||x(),te.schedule(j,M,C)),F},{}),cancel:F=>{for(let ee=0;ee<cf.length;ee++)c[cf[ee]].cancel(F)},state:a,steps:c}}const xi=t=>t,{schedule:Dt,cancel:Zs,state:pn,steps:lg}=wA(typeof requestAnimationFrame<"u"?requestAnimationFrame:xi,!0),bA=z.createContext({strict:!1}),D1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dl={};for(const t in D1)dl[t]={isEnabled:e=>D1[t].some(n=>!!e[n])};function R4(t){for(const e in t)dl[e]={...dl[e],...t[e]}}const C4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ed(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||C4.has(t)}let AA=t=>!ed(t);function I4(t){t&&(AA=e=>e.startsWith("on")?!ed(e):t(e))}try{I4(require("@emotion/is-prop-valid").default)}catch{}function x4(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(AA(a)||n===!0&&ed(a)||!e&&!ed(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}function D4(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Id=z.createContext({});function xd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function fc(t){return typeof t=="string"||Array.isArray(t)}const Qy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xy=["initial",...Qy];function Dd(t){return xd(t.animate)||Xy.some(e=>fc(t[e]))}function RA(t){return!!(Dd(t)||t.variants)}function M4(t,e){if(Dd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||fc(n)?n:void 0,animate:fc(r)?r:void 0}}return t.inherit!==!1?e:{}}function P4(t){const{initial:e,animate:n}=M4(t,z.useContext(Id));return z.useMemo(()=>({initial:e,animate:n}),[M1(e),M1(n)])}function M1(t){return Array.isArray(t)?t.join(" "):t}const O4=Symbol.for("motionComponentSymbol");function tl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function V4(t,e,n){return z.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):tl(n)&&(n.current=r))},[e])}const Wy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),N4="framerAppearId",CA="data-"+Wy(N4),IA=z.createContext({}),{schedule:Zy}=wA(queueMicrotask,!1);function L4(t,e,n,r,a){var D,x;const{visualElement:l}=z.useContext(Id),c=z.useContext(bA),h=z.useContext(Yy),d=z.useContext(EA).reducedMotion,p=z.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const y=p.current,_=z.useContext(IA);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&k4(p.current,n,a,_);const E=z.useRef(!1);z.useInsertionEffect(()=>{y&&E.current&&y.update(n,h)});const w=n[CA],A=z.useRef(!!w&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,w))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,w)));return S4(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),Zy.render(y.render),A.current&&y.animationState&&y.animationState.animateChanges())}),z.useEffect(()=>{y&&(!A.current&&y.animationState&&y.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var V;(V=window.MotionHandoffMarkAsComplete)==null||V.call(window,w)}),A.current=!1))}),y}function k4(t,e,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:xA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&tl(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:d,layoutRoot:p})}function xA(t){if(t)return t.options.allowProjection!==!1?t.projection:xA(t.parent)}let Jy=()=>{};function U4({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:a}){t&&R4(t);function l(h,d){let p;const y={...z.useContext(EA),...h,layoutId:j4(h)},{isStatic:_}=y,E=P4(h),w=r(h,_);if(!_&&$y){B4();const A=z4(y);p=A.MeasureLayout,E.visualElement=L4(a,w,y,e,A.ProjectionNode)}return ie.jsxs(Id.Provider,{value:E,children:[p&&E.visualElement?ie.jsx(p,{visualElement:E.visualElement,...y}):null,n(a,h,V4(w,E.visualElement,d),w,_,E.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=z.forwardRef(l);return c[O4]=a,c}function j4({layoutId:t}){const e=z.useContext(_A).id;return e&&t!==void 0?e+"-"+t:t}function B4(t,e){z.useContext(bA).strict}function z4(t){const{drag:e,layout:n}=dl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const DA=t=>e=>typeof e=="string"&&e.startsWith(t),ev=DA("--"),F4=DA("var(--"),tv=t=>F4(t)?H4.test(t.split("/*")[0].trim()):!1,H4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dc={};function q4(t){for(const e in t)dc[e]=t[e],ev(e)&&(dc[e].isCSSVariable=!0)}const bl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Al=new Set(bl);function MA(t,{layout:e,layoutId:n}){return Al.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!dc[t]||t==="opacity")}const PA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,es=(t,e,n)=>n>e?e:n<t?t:n,Rl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mc={...Rl,transform:t=>es(0,1,t)},hf={...Rl,default:1},P1={...Rl,transform:Math.round},Nc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Us=Nc("deg"),mr=Nc("%"),je=Nc("px"),G4=Nc("vh"),K4=Nc("vw"),O1={...mr,parse:t=>mr.parse(t)/100,transform:t=>mr.transform(t*100)},$4={rotate:Us,rotateX:Us,rotateY:Us,rotateZ:Us,scale:hf,scaleX:hf,scaleY:hf,scaleZ:hf,skew:Us,skewX:Us,skewY:Us,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:mc,originX:O1,originY:O1,originZ:je},nv={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je,...$4,zIndex:P1,fillOpacity:mc,strokeOpacity:mc,numOctaves:P1},Y4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Q4=bl.length;function X4(t,e,n){let r="",a=!0;for(let l=0;l<Q4;l++){const c=bl[l],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=PA(h,nv[c]);if(!d){a=!1;const y=Y4[c]||c;r+=`${y}(${p}) `}n&&(e[c]=p)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function iv(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const d in e){const p=e[d];if(Al.has(d)){c=!0;continue}else if(ev(d)){a[d]=p;continue}else{const y=PA(p,nv[d]);d.startsWith("origin")?(h=!0,l[d]=y):r[d]=y}}if(e.transform||(c||n?r.transform=X4(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${d} ${p} ${y}`}}const rv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),In=t=>!!(t&&t.getVelocity);function OA(t,e,n){for(const r in e)!In(e[r])&&!MA(r,n)&&(t[r]=e[r])}function W4({transformTemplate:t},e){return z.useMemo(()=>{const n=rv();return iv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Z4(t,e){const n=t.style||{},r={};return OA(r,n,t),Object.assign(r,W4(t,e)),r}function J4(t,e){const n={},r=Z4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const eN={offset:"stroke-dashoffset",array:"stroke-dasharray"},tN={offset:"strokeDashoffset",array:"strokeDasharray"};function nN(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?eN:tN;t[l.offset]=je.transform(-r);const c=je.transform(e),h=je.transform(n);t[l.array]=`${c} ${h}`}function VA(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},d,p,y){if(iv(t,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E}=t;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),a!==void 0&&nN(_,a,l,c,!1)}const NA=()=>({...rv(),attrs:{}}),LA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function iN(t,e,n,r){const a=z.useMemo(()=>{const l=NA();return VA(l,e,LA(r),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};OA(l,t.style,t),a.style={...l,...a.style}}return a}const rN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sv(t){return typeof t!="string"||t.includes("-")?!1:!!(rN.indexOf(t)>-1||/[A-Z]/u.test(t))}function sN(t=!1){return(n,r,a,{latestValues:l},c)=>{const d=(sv(n)?iN:J4)(r,l,c,n),p=x4(r,typeof n=="string",t),y=n!==z.Fragment?{...p,...d,ref:a}:{},{children:_}=r,E=z.useMemo(()=>In(_)?_.get():_,[_]);return z.createElement(n,{...y,children:E})}}function V1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function av(t,e,n,r){if(typeof e=="function"){const[a,l]=V1(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=V1(r);e=e(n!==void 0?n:t.custom,a,l)}return e}function Pf(t){return In(t)?t.get():t}function aN({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:oN(n,r,a,t),renderState:e()}}const kA=t=>(e,n)=>{const r=z.useContext(Id),a=z.useContext(Yy),l=()=>aN(t,e,r,a);return n?l():T4(l)};function oN(t,e,n,r){const a={},l=r(t,{});for(const E in l)a[E]=Pf(l[E]);let{initial:c,animate:h}=t;const d=Dd(t),p=RA(t);e&&p&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?h:c;if(_&&typeof _!="boolean"&&!xd(_)){const E=Array.isArray(_)?_:[_];for(let w=0;w<E.length;w++){const A=av(t,E[w]);if(A){const{transitionEnd:D,transition:x,...V}=A;for(const Z in V){let F=V[Z];if(Array.isArray(F)){const ee=y?F.length-1:0;F=F[ee]}F!==null&&(a[Z]=F)}for(const Z in D)a[Z]=D[Z]}}}return a}function ov(t,e,n){var l;const{style:r}=t,a={};for(const c in r)(In(r[c])||e.style&&In(e.style[c])||MA(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=r[c]);return a}const lN={useVisualState:kA({scrapeMotionValuesFromProps:ov,createRenderState:rv})};function UA(t,e,n){const r=ov(t,e,n);for(const a in t)if(In(t[a])||In(e[a])){const l=bl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}const uN={useVisualState:kA({scrapeMotionValuesFromProps:UA,createRenderState:NA})};function cN(t,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...sv(r)?uN:lN,preloadedFeatures:t,useRender:sN(a),createVisualElement:e,Component:r};return U4(c)}}function pc(t,e,n){const r=t.getProps();return av(r,e,n!==void 0?n:r.custom,t)}const kg=t=>Array.isArray(t);let Of;function hN(){Of=void 0}const Gn={now:()=>(Of===void 0&&Gn.set(pn.isProcessing||Jr.useManualTiming?pn.timestamp:performance.now()),Of),set:t=>{Of=t,queueMicrotask(hN)}};function lv(t,e){t.indexOf(e)===-1&&t.push(e)}function uv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class cv{constructor(){this.subscriptions=[]}add(e){return lv(this.subscriptions,e),()=>uv(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function jA(t,e){return e?t*(1e3/e):0}const N1=30,fN=t=>!isNaN(parseFloat(t));class dN{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{var c,h;const l=Gn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();a&&((h=this.events.renderRequest)==null||h.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Gn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new cv);const r=this.events[e].add(n);return e==="change"?()=>{r(),Dt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>N1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,N1);return jA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ml(t,e){return new dN(t,e)}function mN(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ml(n))}function pN(t){return kg(t)?t[t.length-1]||0:t}function gN(t,e){const n=pc(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const h=pN(l[c]);mN(t,c,h)}}function yN(t){return!!(In(t)&&t.add)}function Ug(t,e){const n=t.getValue("willChange");if(yN(n))return n.add(e);if(!n&&Jr.WillChange){const r=new Jr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function BA(t){return t.props[CA]}const vN=t=>t!==null;function _N(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(vN),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const EN={type:"spring",stiffness:500,damping:25,restSpeed:10},TN=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),SN={type:"keyframes",duration:.8},wN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bN=(t,{keyframes:e})=>e.length>2?SN:Al.has(t)?t.startsWith("scale")?TN(e[1]):EN:wN;function AN({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}function hv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const pr=t=>t*1e3,gr=t=>t/1e3,Xu=t=>Math.round(t*1e5)/1e5,fv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function RN(t){return t==null}const CN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dv=(t,e)=>n=>!!(typeof n=="string"&&CN.test(n)&&n.startsWith(t)||e&&!RN(n)&&Object.prototype.hasOwnProperty.call(n,e)),zA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,h]=r.match(fv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},IN=t=>es(0,255,t),ug={...Rl,transform:t=>Math.round(IN(t))},Ka={test:dv("rgb","red"),parse:zA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ug.transform(t)+", "+ug.transform(e)+", "+ug.transform(n)+", "+Xu(mc.transform(r))+")"};function xN(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const jg={test:dv("#"),parse:xN,transform:Ka.transform},nl={test:dv("hsl","hue"),parse:zA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+mr.transform(Xu(e))+", "+mr.transform(Xu(n))+", "+Xu(mc.transform(r))+")"},An={test:t=>Ka.test(t)||jg.test(t)||nl.test(t),parse:t=>Ka.test(t)?Ka.parse(t):nl.test(t)?nl.parse(t):jg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ka.transform(t):nl.transform(t)},DN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MN(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(fv))==null?void 0:e.length)||0)+(((n=t.match(DN))==null?void 0:n.length)||0)>0}const FA="number",HA="color",PN="var",ON="var(",L1="${}",VN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(VN,d=>(An.test(d)?(r.color.push(l),a.push(HA),n.push(An.parse(d))):d.startsWith(ON)?(r.var.push(l),a.push(PN),n.push(d)):(r.number.push(l),a.push(FA),n.push(parseFloat(d))),++l,L1)).split(L1);return{values:n,split:h,indexes:r,types:a}}function qA(t){return gc(t).values}function GA(t){const{split:e,types:n}=gc(t),r=e.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===FA?l+=Xu(a[c]):h===HA?l+=An.transform(a[c]):l+=a[c]}return l}}const NN=t=>typeof t=="number"?0:t;function LN(t){const e=qA(t);return GA(t)(e.map(NN))}const Js={test:MN,parse:qA,createTransformer:GA,getAnimatableNone:LN};function cg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function kN({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=cg(d,h,t+1/3),l=cg(d,h,t),c=cg(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function td(t,e){return n=>n>0?e:t}const xt=(t,e,n)=>t+(e-t)*n,hg=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},UN=[jg,Ka,nl],jN=t=>UN.find(e=>e.test(t));function k1(t){const e=jN(t);if(!e)return!1;let n=e.parse(t);return e===nl&&(n=kN(n)),n}const U1=(t,e)=>{const n=k1(t),r=k1(e);if(!n||!r)return td(t,e);const a={...n};return l=>(a.red=hg(n.red,r.red,l),a.green=hg(n.green,r.green,l),a.blue=hg(n.blue,r.blue,l),a.alpha=xt(n.alpha,r.alpha,l),Ka.transform(a))},Bg=new Set(["none","hidden"]);function BN(t,e){return Bg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}const zN=(t,e)=>n=>e(t(n)),Lc=(...t)=>t.reduce(zN);function FN(t,e){return n=>xt(t,e,n)}function mv(t){return typeof t=="number"?FN:typeof t=="string"?tv(t)?td:An.test(t)?U1:GN:Array.isArray(t)?KA:typeof t=="object"?An.test(t)?U1:HN:td}function KA(t,e){const n=[...t],r=n.length,a=t.map((l,c)=>mv(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function HN(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=mv(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function qN(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][r[l]],h=t.values[c]??0;n[a]=h,r[l]++}return n}const GN=(t,e)=>{const n=Js.createTransformer(e),r=gc(t),a=gc(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Bg.has(t)&&!a.values.length||Bg.has(e)&&!r.values.length?BN(t,e):Lc(KA(qN(r,a),a.values),n):td(t,e)};function $A(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?xt(t,e,n):mv(t)(t,e)}const KN=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Dt.update(e,n),stop:()=>Zs(e),now:()=>pn.isProcessing?pn.timestamp:Gn.now()}},YA=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=t(l/(a-1))+", ";return`linear(${r.substring(0,r.length-2)})`},nd=2e4;function pv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<nd;)e+=n,r=t.next(e);return e>=nd?1/0:e}function $N(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(pv(r),nd);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:gr(a)}}const YN=5;function QA(t,e,n){const r=Math.max(e-YN,0);return jA(n-t(r),e-r)}const Vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},j1=.001;function QN({duration:t=Vt.duration,bounce:e=Vt.bounce,velocity:n=Vt.velocity,mass:r=Vt.mass}){let a,l,c=1-e;c=es(Vt.minDamping,Vt.maxDamping,c),t=es(Vt.minDuration,Vt.maxDuration,gr(t)),c<1?(a=p=>{const y=p*c,_=y*t,E=y-n,w=zg(p,c),A=Math.exp(-_);return j1-E/w*A},l=p=>{const _=p*c*t,E=_*n+n,w=Math.pow(c,2)*Math.pow(p,2)*t,A=Math.exp(-_),D=zg(Math.pow(p,2),c);return(-a(p)+j1>0?-1:1)*((E-w)*A)/D}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-.001+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const h=5/t,d=WN(a,l,h);if(t=pr(t),isNaN(d))return{stiffness:Vt.stiffness,damping:Vt.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const XN=12;function WN(t,e,n){let r=n;for(let a=1;a<XN;a++)r=r-t(r)/e(r);return r}function zg(t,e){return t*Math.sqrt(1-e*e)}const ZN=["duration","bounce"],JN=["stiffness","damping","mass"];function B1(t,e){return e.some(n=>t[n]!==void 0)}function e6(t){let e={velocity:Vt.velocity,stiffness:Vt.stiffness,damping:Vt.damping,mass:Vt.mass,isResolvedFromDuration:!1,...t};if(!B1(t,JN)&&B1(t,ZN))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*es(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Vt.mass,stiffness:a,damping:l}}else{const n=QN(t);e={...e,...n,mass:Vt.mass},e.isResolvedFromDuration=!0}return e}function id(t=Vt.visualDuration,e=Vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:w}=e6({...n,velocity:-gr(n.velocity||0)}),A=E||0,D=p/(2*Math.sqrt(d*y)),x=c-l,V=gr(Math.sqrt(d/y)),Z=Math.abs(x)<5;r||(r=Z?Vt.restSpeed.granular:Vt.restSpeed.default),a||(a=Z?Vt.restDelta.granular:Vt.restDelta.default);let F;if(D<1){const te=zg(V,D);F=j=>{const M=Math.exp(-D*V*j);return c-M*((A+D*V*x)/te*Math.sin(te*j)+x*Math.cos(te*j))}}else if(D===1)F=te=>c-Math.exp(-V*te)*(x+(A+V*x)*te);else{const te=V*Math.sqrt(D*D-1);F=j=>{const M=Math.exp(-D*V*j),C=Math.min(te*j,300);return c-M*((A+D*V*x)*Math.sinh(C)+te*x*Math.cosh(C))/te}}const ee={calculatedDuration:w&&_||null,next:te=>{const j=F(te);if(w)h.done=te>=_;else{let M=te===0?A:0;D<1&&(M=te===0?pr(A):QA(F,te,j));const C=Math.abs(M)<=r,I=Math.abs(c-j)<=a;h.done=C&&I}return h.value=h.done?c:j,h},toString:()=>{const te=Math.min(pv(ee),nd),j=YA(M=>ee.next(te*M).value,te,30);return te+"ms "+j},toTransition:()=>{}};return ee}id.applyToOptions=t=>{const e=$N(t,100,id);return t.ease=e.ease,t.duration=pr(e.duration),t.type="keyframes",t};function Fg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:d,restDelta:p=.5,restSpeed:y}){const _=t[0],E={done:!1,value:_},w=C=>h!==void 0&&C<h||d!==void 0&&C>d,A=C=>h===void 0?d:d===void 0||Math.abs(h-C)<Math.abs(d-C)?h:d;let D=n*e;const x=_+D,V=c===void 0?x:c(x);V!==x&&(D=V-_);const Z=C=>-D*Math.exp(-C/r),F=C=>V+Z(C),ee=C=>{const I=Z(C),P=F(C);E.done=Math.abs(I)<=p,E.value=E.done?V:P};let te,j;const M=C=>{w(E.value)&&(te=C,j=id({keyframes:[E.value,A(E.value)],velocity:QA(F,C,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return M(0),{calculatedDuration:null,next:C=>{let I=!1;return!j&&te===void 0&&(I=!0,ee(C),M(C)),te!==void 0&&C>=te?j.next(C-te):(!I&&ee(C),E)}}}const yc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};function t6(t,e,n){const r=[],a=n||Jr.mix||$A,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||xi:e;h=Lc(d,h)}r.push(h)}return r}function n6(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(Jy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=t6(e,r,a),d=h.length,p=y=>{if(c&&y<t[0])return e[0];let _=0;if(d>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const E=yc(t[_],t[_+1],y);return h[_](E)};return n?y=>p(es(t[0],t[l-1],y)):p}function i6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=yc(0,e,r);t.push(xt(n,1,a))}}function r6(t){const e=[0];return i6(e,t.length-1),e}function s6(t,e){return t.map(n=>n*e)}const XA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,a6=1e-7,o6=12;function l6(t,e,n,r,a){let l,c,h=0;do c=e+(n-e)/2,l=XA(c,r,a)-t,l>0?n=c:e=c;while(Math.abs(l)>a6&&++h<o6);return c}function kc(t,e,n,r){if(t===e&&n===r)return xi;const a=l=>l6(l,0,1,t,n);return l=>l===0||l===1?l:XA(a(l),e,r)}const u6=kc(.42,0,1,1),c6=kc(0,0,.58,1),WA=kc(.42,0,.58,1),h6=t=>Array.isArray(t)&&typeof t[0]!="number",ZA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,JA=t=>e=>1-t(1-e),eR=kc(.33,1.53,.69,.99),gv=JA(eR),tR=ZA(gv),nR=t=>(t*=2)<1?.5*gv(t):.5*(2-Math.pow(2,-10*(t-1))),yv=t=>1-Math.sin(Math.acos(t)),iR=JA(yv),rR=ZA(yv),sR=t=>Array.isArray(t)&&typeof t[0]=="number",f6={linear:xi,easeIn:u6,easeInOut:WA,easeOut:c6,circIn:yv,circInOut:rR,circOut:iR,backIn:gv,backInOut:tR,backOut:eR,anticipate:nR},d6=t=>typeof t=="string",z1=t=>{if(sR(t)){Jy(t.length===4);const[e,n,r,a]=t;return kc(e,n,r,a)}else if(d6(t))return f6[t];return t};function m6(t,e){return t.map(()=>e||WA).splice(0,t.length-1)}function Wu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=h6(r)?r.map(z1):z1(r),l={done:!1,value:e[0]},c=s6(n&&n.length===e.length?n:r6(e),t),h=n6(c,e,{ease:Array.isArray(a)?a:m6(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const p6=t=>t!==null;function vv(t,{repeat:e,repeatType:n="loop"},r,a=1){const l=t.filter(p6),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||r===void 0?l[h]:r}const g6={decay:Fg,inertia:Fg,tween:Wu,keyframes:Wu,spring:id};function aR(t){typeof t.type=="string"&&(t.type=g6[t.type])}class _v{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const y6=t=>t/100;class Ev extends _v{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Gn.now()&&this.tick(Gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;aR(e);const{type:n=Wu,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const d=n||Wu;d!==Wu&&typeof h[0]!="number"&&(this.mixKeyframes=Lc(y6,$A(h[0],h[1])),h=[0,100]);const p=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=pv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:w,type:A,onUpdate:D,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const V=this.currentTime-p*(this.playbackSpeed>=0?1:-1),Z=this.playbackSpeed>=0?V<0:V>a;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,ee=r;if(_){const C=Math.min(this.currentTime,a)/h;let I=Math.floor(C),P=C%1;!P&&C>=1&&(P=1),P===1&&I--,I=Math.min(I,_+1),!!(I%2)&&(E==="reverse"?(P=1-P,w&&(P-=w/h)):E==="mirror"&&(ee=c)),F=es(0,1,P)*h}const te=Z?{done:!1,value:y[0]}:ee.next(F);l&&(te.value=l(te.value));let{done:j}=te;!Z&&d!==null&&(j=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return M&&A!==Fg&&(te.value=vv(y,this.options,x,this.speed)),D&&D(te.value),M&&this.finish(),te}then(e,n){return this.finished.then(e,n)}get duration(){return gr(this.calculatedDuration)}get time(){return gr(this.currentTime)}set time(e){var n;e=pr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Gn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=gr(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=KN,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function v6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const $a=t=>t*180/Math.PI,Hg=t=>{const e=$a(Math.atan2(t[1],t[0]));return qg(e)},_6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Hg,rotateZ:Hg,skewX:t=>$a(Math.atan(t[1])),skewY:t=>$a(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},qg=t=>(t=t%360,t<0&&(t+=360),t),F1=Hg,H1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),q1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),E6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:H1,scaleY:q1,scale:t=>(H1(t)+q1(t))/2,rotateX:t=>qg($a(Math.atan2(t[6],t[5]))),rotateY:t=>qg($a(Math.atan2(-t[2],t[0]))),rotateZ:F1,rotate:F1,skewX:t=>$a(Math.atan(t[4])),skewY:t=>$a(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Gg(t){return t.includes("scale")?1:0}function Kg(t,e){if(!t||t==="none")return Gg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=E6,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=_6,a=h}if(!a)return Gg(e);const l=r[e],c=a[1].split(",").map(S6);return typeof l=="function"?l(c):c[l]}const T6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Kg(n,e)};function S6(t){return parseFloat(t.trim())}const G1=t=>t===Rl||t===je,w6=new Set(["x","y","z"]),b6=bl.filter(t=>!w6.has(t));function A6(t){const e=[];return b6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Qa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Kg(e,"x"),y:(t,{transform:e})=>Kg(e,"y")};Qa.translateX=Qa.x;Qa.translateY=Qa.y;const Xa=new Set;let $g=!1,Yg=!1,Qg=!1;function oR(){if(Yg){const t=Array.from(Xa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=A6(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{var h;(h=r.getValue(l))==null||h.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Yg=!1,$g=!1,Xa.forEach(t=>t.complete(Qg)),Xa.clear()}function lR(){Xa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Yg=!0)})}function R6(){Qg=!0,lR(),oR(),Qg=!1}class Tv{constructor(e,n,r,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Xa.add(this),$g||($g=!0,Dt.read(lR),Dt.resolveKeyframes(oR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}v6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xa.delete(this)}cancel(){this.state==="scheduled"&&(Xa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const C6=t=>t.startsWith("--");function I6(t,e,n){C6(e)?t.style.setProperty(e,n):t.style[e]=n}function Sv(t){let e;return()=>(e===void 0&&(e=t()),e)}const x6=Sv(()=>window.ScrollTimeline!==void 0),D6={};function M6(t,e){const n=Sv(t);return()=>D6[e]??n()}const uR=M6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,K1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hu([0,.65,.55,1]),circOut:Hu([.55,0,1,.45]),backIn:Hu([.31,.01,.66,-.59]),backOut:Hu([.33,1.53,.69,.99])};function cR(t,e){if(t)return typeof t=="function"?uR()?YA(t,e):"ease-out":sR(t)?Hu(t):Array.isArray(t)?t.map(n=>cR(n,e)||K1.easeOut):K1[t]}function P6(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:d}={},p=void 0){const y={[e]:n};d&&(y.offset=d);const _=cR(h,a);Array.isArray(_)&&(y.easing=_);const E={delay:r,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(y,E)}function hR(t){return typeof t=="function"&&"applyToOptions"in t}function O6({type:t,...e}){return hR(t)&&uR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class V6 extends _v{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Jy(typeof e.type!="string");const p=O6(e);this.animation=P6(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=vv(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):I6(n,r,y),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return gr(Number(e))}get time(){return gr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=pr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&x6()?(this.animation.timeline=e,xi):n(this)}}const fR={anticipate:nR,backInOut:tR,circInOut:rR};function N6(t){return t in fR}function L6(t){typeof t.ease=="string"&&N6(t.ease)&&(t.ease=fR[t.ease])}const $1=10;class k6 extends V6{constructor(e){L6(e),aR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Ev({...c,autoplay:!1}),d=pr(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-$1).value,h.sample(d).value,$1),h.stop()}}const Y1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Js.test(t)||t==="0")&&!t.startsWith("url("));function U6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function j6(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=Y1(a,e),h=Y1(l,e);return!c||!h?!1:U6(t)||(n==="spring"||hR(n))&&r}const B6=new Set(["opacity","clipPath","filter","transform"]),z6=Sv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function F6(t){var p;const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:l,type:c}=t;if(!SA((p=e==null?void 0:e.owner)==null?void 0:p.current))return!1;const{onUpdate:h,transformTemplate:d}=e.owner.getProps();return z6()&&n&&B6.has(n)&&(n!=="transform"||!d)&&!h&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const H6=40;class q6 extends _v{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:d,motionValue:p,element:y,..._}){var A;super(),this.stop=()=>{var D,x;this._animation&&(this._animation.stop(),(D=this.stopTimeline)==null||D.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Gn.now();const E={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,name:d,motionValue:p,element:y,..._},w=(y==null?void 0:y.KeyframeResolver)||Tv;this.keyframeResolver=new w(h,(D,x,V)=>this.onKeyframesResolved(D,x,E,!V),d,p,y),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:d,isHandoff:p,onUpdate:y}=r;this.resolvedAt=Gn.now(),j6(e,l,c,h)||((Jr.instantAnimations||!d)&&(y==null||y(vv(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>H6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},w=!p&&F6(E)?new k6({...E,element:E.motionValue.owner.current}):new Ev(E);w.finished.then(()=>this.notifyFinished()).catch(xi),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),R6()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const wv=(t,e,n,r={},a,l)=>c=>{const h=hv(r,t)||{},d=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-pr(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};AN(h)||Object.assign(y,bN(t,y)),y.duration&&(y.duration=pr(y.duration)),y.repeatDelay&&(y.repeatDelay=pr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),(Jr.instantAnimations||Jr.skipAnimations)&&(_=!0,y.duration=0,y.delay=0),y.allowFlatten=!h.type&&!h.ease,_&&!l&&e.get()!==void 0){const E=_N(y.keyframes,h);if(E!==void 0){Dt.update(()=>{y.onUpdate(E),y.onComplete()});return}}return h.isSync?new Ev(y):new q6(y)},dR=new Set(["width","height","top","left","right","bottom",...bl]);function G6({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function mR(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(l=r);const d=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const _=t.getValue(y,t.latestValues[y]??null),E=h[y];if(E===void 0||p&&G6(p,y))continue;const w={delay:n,...hv(l||{},y)},A=_.get();if(A!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===A&&!w.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const V=BA(t);if(V){const Z=window.MotionHandoffAnimation(V,y,Dt);Z!==null&&(w.startTime=Z,D=!0)}}Ug(t,y),_.start(wv(y,_,E,t.shouldReduceMotion&&dR.has(y)?{type:!1}:w,t,D));const x=_.animation;x&&d.push(x)}return c&&Promise.all(d).then(()=>{Dt.update(()=>{c&&gN(t,c)})}),d}function Xg(t,e,n={}){var d;const r=pc(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(mR(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:E}=a;return K6(t,e,y+p,_,E,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,y]=h==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function K6(t,e,n=0,r=0,a=1,l){const c=[],h=(t.variantChildren.size-1)*r,d=a===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(t.variantChildren).sort($6).forEach((p,y)=>{p.notify("AnimationStart",e),c.push(Xg(p,e,{...l,delay:n+d(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function $6(t,e){return t.sortNodePosition(e)}function Y6(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>Xg(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=Xg(t,e,n);else{const a=typeof e=="function"?pc(t,e,n.custom):e;r=Promise.all(mR(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function pR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Q6=Xy.length;function gR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?gR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Q6;n++){const r=Xy[n],a=t.props[r];(fc(a)||a===!1)&&(e[r]=a)}return e}const X6=[...Qy].reverse(),W6=Qy.length;function Z6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Y6(t,n,r)))}function J6(t){let e=Z6(t),n=Q1(),r=!0;const a=d=>(p,y)=>{var E;const _=pc(t,y,d==="exit"?(E=t.presenceContext)==null?void 0:E.custom:void 0);if(_){const{transition:w,transitionEnd:A,...D}=_;p={...p,...D,...A}}return p};function l(d){e=d(t)}function c(d){const{props:p}=t,y=gR(t.parent)||{},_=[],E=new Set;let w={},A=1/0;for(let x=0;x<W6;x++){const V=X6[x],Z=n[V],F=p[V]!==void 0?p[V]:y[V],ee=fc(F),te=V===d?Z.isActive:null;te===!1&&(A=x);let j=F===y[V]&&F!==p[V]&&ee;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),Z.protectedKeys={...w},!Z.isActive&&te===null||!F&&!Z.prevProp||xd(F)||typeof F=="boolean")continue;const M=eL(Z.prevProp,F);let C=M||V===d&&Z.isActive&&!j&&ee||x>A&&ee,I=!1;const P=Array.isArray(F)?F:[F];let U=P.reduce(a(V),{});te===!1&&(U={});const{prevResolvedValues:H={}}=Z,O={...H,...U},De=oe=>{C=!0,E.has(oe)&&(I=!0,E.delete(oe)),Z.needsAnimating[oe]=!0;const ge=t.getValue(oe);ge&&(ge.liveStyle=!1)};for(const oe in O){const ge=U[oe],Me=H[oe];if(w.hasOwnProperty(oe))continue;let L=!1;kg(ge)&&kg(Me)?L=!pR(ge,Me):L=ge!==Me,L?ge!=null?De(oe):E.add(oe):ge!==void 0&&E.has(oe)?De(oe):Z.protectedKeys[oe]=!0}Z.prevProp=F,Z.prevResolvedValues=U,Z.isActive&&(w={...w,...U}),r&&t.blockInitialAnimation&&(C=!1),C&&(!(j&&M)||I)&&_.push(...P.map(oe=>({animation:oe,options:{type:V}})))}if(E.size){const x={};if(typeof p.initial!="boolean"){const V=pc(t,Array.isArray(p.initial)?p.initial[0]:p.initial);V&&V.transition&&(x.transition=V.transition)}E.forEach(V=>{const Z=t.getBaseTarget(V),F=t.getValue(V);F&&(F.liveStyle=!0),x[V]=Z??null}),_.push({animation:x})}let D=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(_):Promise.resolve()}function h(d,p){var _;if(n[d].isActive===p)return Promise.resolve();(_=t.variantChildren)==null||_.forEach(E=>{var w;return(w=E.animationState)==null?void 0:w.setActive(d,p)}),n[d].isActive=p;const y=c(d);for(const E in n)n[E].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Q1(),r=!0}}}function eL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pR(e,t):!1}function za(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Q1(){return{animate:za(!0),whileInView:za(),whileHover:za(),whileTap:za(),whileDrag:za(),whileFocus:za(),exit:za()}}class ua{constructor(e){this.isMounted=!1,this.node=e}update(){}}class tL extends ua{constructor(e){super(e),e.animationState||(e.animationState=J6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let nL=0;class iL extends ua{constructor(){super(...arguments),this.id=nL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const rL={animation:{Feature:tL},exit:{Feature:iL}};function vc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const bv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Uc(t){return{point:{x:t.pageX,y:t.pageY}}}const sL=t=>e=>bv(e)&&t(e,Uc(e));function Zu(t,e,n,r){return vc(t,e,sL(n),r)}function yR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function aL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function oL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const vR=1e-4,lL=1-vR,uL=1+vR,_R=.01,cL=0-_R,hL=0+_R;function kn(t){return t.max-t.min}function fL(t,e,n){return Math.abs(t-e)<=n}function X1(t,e,n,r=.5){t.origin=r,t.originPoint=xt(e.min,e.max,t.origin),t.scale=kn(n)/kn(e),t.translate=xt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=lL&&t.scale<=uL||isNaN(t.scale))&&(t.scale=1),(t.translate>=cL&&t.translate<=hL||isNaN(t.translate))&&(t.translate=0)}function Ju(t,e,n,r){X1(t.x,e.x,n.x,r?r.originX:void 0),X1(t.y,e.y,n.y,r?r.originY:void 0)}function W1(t,e,n){t.min=n.min+e.min,t.max=t.min+kn(e)}function dL(t,e,n){W1(t.x,e.x,n.x),W1(t.y,e.y,n.y)}function Z1(t,e,n){t.min=e.min-n.min,t.max=t.min+kn(e)}function ec(t,e,n){Z1(t.x,e.x,n.x),Z1(t.y,e.y,n.y)}const J1=()=>({translate:0,scale:1,origin:0,originPoint:0}),il=()=>({x:J1(),y:J1()}),eS=()=>({min:0,max:0}),kt=()=>({x:eS(),y:eS()});function Ri(t){return[t("x"),t("y")]}function fg(t){return t===void 0||t===1}function Wg({scale:t,scaleX:e,scaleY:n}){return!fg(t)||!fg(e)||!fg(n)}function Ha(t){return Wg(t)||ER(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ER(t){return tS(t.x)||tS(t.y)}function tS(t){return t&&t!=="0%"}function rd(t,e,n){const r=t-n,a=e*r;return n+a}function nS(t,e,n,r,a){return a!==void 0&&(t=rd(t,a,r)),rd(t,n,r)+e}function Zg(t,e=0,n=1,r,a){t.min=nS(t.min,e,n,r,a),t.max=nS(t.max,e,n,r,a)}function TR(t,{x:e,y:n}){Zg(t.x,e.translate,e.scale,e.originPoint),Zg(t.y,n.translate,n.scale,n.originPoint)}const iS=.999999999999,rS=1.0000000000001;function mL(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&sl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,TR(t,c)),r&&Ha(l.latestValues)&&sl(t,l.latestValues))}e.x<rS&&e.x>iS&&(e.x=1),e.y<rS&&e.y>iS&&(e.y=1)}function rl(t,e){t.min=t.min+e,t.max=t.max+e}function sS(t,e,n,r,a=.5){const l=xt(t.min,t.max,a);Zg(t,e,n,l,r)}function sl(t,e){sS(t.x,e.x,e.scaleX,e.scale,e.originX),sS(t.y,e.y,e.scaleY,e.scale,e.originY)}function SR(t,e){return yR(oL(t.getBoundingClientRect(),e))}function pL(t,e,n){const r=SR(t,n),{scroll:a}=e;return a&&(rl(r.x,a.offset.x),rl(r.y,a.offset.y)),r}const wR=({current:t})=>t?t.ownerDocument.defaultView:null,aS=(t,e)=>Math.abs(t-e);function gL(t,e){const n=aS(t.x,e.x),r=aS(t.y,e.y);return Math.sqrt(n**2+r**2)}class bR{constructor(e,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=mg(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,w=gL(_.offset,{x:0,y:0})>=3;if(!E&&!w)return;const{point:A}=_,{timestamp:D}=pn;this.history.push({...A,timestamp:D});const{onStart:x,onMove:V}=this.handlers;E||(x&&x(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=dg(E,this.transformPagePoint),Dt.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:w,onSessionEnd:A,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=mg(_.type==="pointercancel"?this.lastMoveEventInfo:dg(E,this.transformPagePoint),this.history);this.startEvent&&w&&w(_,x),A&&A(_,x)},!bv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const c=Uc(e),h=dg(c,this.transformPagePoint),{point:d}=h,{timestamp:p}=pn;this.history=[{...d,timestamp:p}];const{onSessionStart:y}=n;y&&y(e,mg(h,this.history)),this.removeListeners=Lc(Zu(this.contextWindow,"pointermove",this.handlePointerMove),Zu(this.contextWindow,"pointerup",this.handlePointerUp),Zu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zs(this.updatePoint)}}function dg(t,e){return e?{point:e(t.point)}:t}function oS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mg({point:t},e){return{point:t,delta:oS(t,AR(e)),offset:oS(t,yL(e)),velocity:vL(e,.1)}}function yL(t){return t[0]}function AR(t){return t[t.length-1]}function vL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=AR(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>pr(e)));)n--;if(!r)return{x:0,y:0};const l=gr(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function _L(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?xt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?xt(n,t,r.max):Math.min(t,n)),t}function lS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function EL(t,{top:e,left:n,bottom:r,right:a}){return{x:lS(t.x,n,a),y:lS(t.y,e,r)}}function uS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function TL(t,e){return{x:uS(t.x,e.x),y:uS(t.y,e.y)}}function SL(t,e){let n=.5;const r=kn(t),a=kn(e);return a>r?n=yc(e.min,e.max-r,t.min):r>a&&(n=yc(t.min,t.max-a,e.min)),es(0,1,n)}function wL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Jg=.35;function bL(t=Jg){return t===!1?t=0:t===!0&&(t=Jg),{x:cS(t,"left","right"),y:cS(t,"top","bottom")}}function cS(t,e,n){return{min:hS(t,e),max:hS(t,n)}}function hS(t,e){return typeof t=="number"?t:t[e]||0}const ki={x:!1,y:!1};function RR(){return ki.x||ki.y}function AL(t){return t==="x"||t==="y"?ki[t]?null:(ki[t]=!0,()=>{ki[t]=!1}):ki.x||ki.y?null:(ki.x=ki.y=!0,()=>{ki.x=ki.y=!1})}const RL=new WeakMap;class CL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Uc(y).point)},l=(y,_)=>{const{drag:E,dragPropagation:w,onDragStart:A}=this.getProps();if(E&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AL(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ri(x=>{let V=this.getAxisMotionValue(x).get()||0;if(mr.test(V)){const{projection:Z}=this.visualElement;if(Z&&Z.layout){const F=Z.layout.layoutBox[x];F&&(V=kn(F)*(parseFloat(V)/100))}}this.originPoint[x]=V}),A&&Dt.postRender(()=>A(y,_)),Ug(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},c=(y,_)=>{const{dragPropagation:E,dragDirectionLock:w,onDirectionLock:A,onDrag:D}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:x}=_;if(w&&this.currentDirection===null){this.currentDirection=IL(x),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",_.point,x),this.updateAxis("y",_.point,x),this.visualElement.render(),D&&D(y,_)},h=(y,_)=>this.stop(y,_),d=()=>Ri(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new bR(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:wR(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Dt.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!ff(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=_L(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&tl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=EL(r.layoutBox,e):this.constraints=!1,this.elastic=bL(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ri(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=wL(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tl(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=pL(r,a.root,this.visualElement.getTransformPagePoint());let c=TL(a.layout.layoutBox,l);if(n){const h=n(aL(c));this.hasMutatedConstraints=!!h,h&&(c=yR(h))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=Ri(y=>{if(!ff(y,n,this.currentDirection))return;let _=d&&d[y]||{};c&&(_={min:0,max:0});const E=a?200:1e6,w=a?40:1e7,A={type:"inertia",velocity:r?e[y]:0,bounceStiffness:E,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,A)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Ug(this.visualElement,e),r.start(wv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ri(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ri(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ri(n=>{const{drag:r}=this.getProps();if(!ff(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n];l.set(e[n]-xt(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!tl(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ri(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();a[c]=SL({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ri(c=>{if(!ff(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:p}=this.constraints[c];h.set(xt(d,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;RL.set(this.visualElement,this);const e=this.visualElement.current,n=Zu(e,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();tl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Dt.read(r);const c=vc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Ri(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=d[y].translate,_.set(_.get()+d[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Jg,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function ff(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function IL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class xL extends ua{constructor(e){super(e),this.removeGroupControls=xi,this.removeListeners=xi,this.controls=new CL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xi}unmount(){this.removeGroupControls(),this.removeListeners()}}const fS=t=>(e,n)=>{t&&Dt.postRender(()=>t(e,n))};class DL extends ua{constructor(){super(...arguments),this.removePointerDownListener=xi}onPointerDown(e){this.session=new bR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:fS(e),onStart:fS(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&Dt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Zu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ku={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(je.test(t))t=parseFloat(t);else return t;const n=dS(t,e.target.x),r=dS(t,e.target.y);return`${n}% ${r}%`}},ML={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=Js.parse(t);if(a.length>5)return r;const l=Js.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=d;const p=xt(h,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class PL extends z.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;q4(OL),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Vf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Dt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Zy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function CR(t){const[e,n]=w4(),r=z.useContext(_A);return ie.jsx(PL,{...t,layoutGroup:r,switchLayoutGroup:z.useContext(IA),isPresent:e,safeToRemove:n})}const OL={borderRadius:{...ku,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ku,borderTopRightRadius:ku,borderBottomLeftRadius:ku,borderBottomRightRadius:ku,boxShadow:ML};function VL(t,e,n){const r=In(t)?t:ml(t);return r.start(wv("",r,e,n)),r.animation}const NL=(t,e)=>t.depth-e.depth;class LL{constructor(){this.children=[],this.isDirty=!1}add(e){lv(this.children,e),this.isDirty=!0}remove(e){uv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(NL),this.isDirty=!1,this.children.forEach(e)}}function kL(t,e){const n=Gn.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(Zs(r),t(l-e))};return Dt.setup(r,!0),()=>Zs(r)}const IR=["TopLeft","TopRight","BottomLeft","BottomRight"],UL=IR.length,mS=t=>typeof t=="string"?parseFloat(t):t,pS=t=>typeof t=="number"||je.test(t);function jL(t,e,n,r,a,l){a?(t.opacity=xt(0,n.opacity??1,BL(r)),t.opacityExit=xt(e.opacity??1,0,zL(r))):l&&(t.opacity=xt(e.opacity??1,n.opacity??1,r));for(let c=0;c<UL;c++){const h=`border${IR[c]}Radius`;let d=gS(e,h),p=gS(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||pS(d)===pS(p)?(t[h]=Math.max(xt(mS(d),mS(p),r),0),(mr.test(p)||mr.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=xt(e.rotate||0,n.rotate||0,r))}function gS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const BL=xR(0,.5,iR),zL=xR(.5,.95,xi);function xR(t,e,n){return r=>r<t?0:r>e?1:n(yc(t,e,r))}function yS(t,e){t.min=e.min,t.max=e.max}function Ai(t,e){yS(t.x,e.x),yS(t.y,e.y)}function vS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function _S(t,e,n,r,a){return t-=e,t=rd(t,1/n,r),a!==void 0&&(t=rd(t,1/a,r)),t}function FL(t,e=0,n=1,r=.5,a,l=t,c=t){if(mr.test(e)&&(e=parseFloat(e),e=xt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=xt(l.min,l.max,r);t===l&&(h-=e),t.min=_S(t.min,e,n,h,a),t.max=_S(t.max,e,n,h,a)}function ES(t,e,[n,r,a],l,c){FL(t,e[n],e[r],e[a],e.scale,l,c)}const HL=["x","scaleX","originX"],qL=["y","scaleY","originY"];function TS(t,e,n,r){ES(t.x,e,HL,n?n.x:void 0,r?r.x:void 0),ES(t.y,e,qL,n?n.y:void 0,r?r.y:void 0)}function SS(t){return t.translate===0&&t.scale===1}function DR(t){return SS(t.x)&&SS(t.y)}function wS(t,e){return t.min===e.min&&t.max===e.max}function GL(t,e){return wS(t.x,e.x)&&wS(t.y,e.y)}function bS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function MR(t,e){return bS(t.x,e.x)&&bS(t.y,e.y)}function AS(t){return kn(t.x)/kn(t.y)}function RS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class KL{constructor(){this.members=[]}add(e){lv(this.members,e),e.scheduleRender()}remove(e){if(uv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $L(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:w,skewY:A}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),w&&(r+=`skewX(${w}deg) `),A&&(r+=`skewY(${A}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}function PR(t){return TA(t)&&"ownerSVGElement"in t}function YL(t){return PR(t)&&t.tagName==="svg"}const pg=["","X","Y","Z"],QL={visibility:"hidden"},XL=1e3;let WL=0;function gg(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function OR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=BA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Dt,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&OR(r)}function VR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},h=e==null?void 0:e()){this.id=WL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(e3),this.nodes.forEach(s3),this.nodes.forEach(a3),this.nodes.forEach(t3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new LL)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new cv),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=PR(c)&&!YL(c),this.instance=c;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let y;const _=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=kL(_,250),Vf.hasAnimatedSinceResize&&(Vf.hasAnimatedSinceResize=!1,this.nodes.forEach(IS))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||p.getDefaultTransition()||h3,{onLayoutAnimationStart:D,onLayoutAnimationComplete:x}=p.getProps(),V=!this.targetLayout||!MR(this.targetLayout,w),Z=!_&&E;if(this.options.layoutRoot||this.resumeFrom||Z||_&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...hv(A,"layout"),onPlay:D,onComplete:x};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,Z)}else _||IS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(o3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CS);return}this.isUpdating||this.nodes.forEach(i3),this.isUpdating=!1,this.nodes.forEach(r3),this.nodes.forEach(ZL),this.nodes.forEach(JL),this.clearAllSnapshots();const h=Gn.now();pn.delta=es(0,1e3/60,h-pn.timestamp),pn.timestamp=h,pn.isProcessing=!0,lg.update.process(pn),lg.preRender.process(pn),lg.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(n3),this.sharedNodes.forEach(l3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kn(this.snapshot.measuredBox.x)&&!kn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!DR(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(h||Ha(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),f3(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return kt();const h=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(d3))){const{scroll:y}=this.root;y&&(rl(h.x,y.offset.x),rl(h.y,y.offset.y))}return h}removeElementScroll(c){var d;const h=kt();if(Ai(h,c),(d=this.scroll)!=null&&d.wasRoot)return h;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:E}=y;y!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Ai(h,c),rl(h.x,_.offset.x),rl(h.y,_.offset.y))}return h}applyTransform(c,h=!1){const d=kt();Ai(d,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&sl(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ha(y.latestValues)&&sl(d,y.latestValues)}return Ha(this.latestValues)&&sl(d,this.latestValues),d}removeTransform(c){const h=kt();Ai(h,c);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Ha(p.latestValues))continue;Wg(p.latestValues)&&p.updateSnapshot();const y=kt(),_=p.measurePageBox();Ai(y,_),TS(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ha(this.latestValues)&&TS(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=pn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),ec(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Ai(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ai(this.target,this.layout.layoutBox),TR(this.target,this.targetDelta)):Ai(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),ec(this.relativeTargetOrigin,this.target,w.target),Ai(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Wg(this.parent.latestValues)||ER(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(d=!1),d)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Ai(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;mL(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=kt());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vS(this.prevProjectionDelta.x,this.projectionDelta.x),vS(this.prevProjectionDelta.y,this.projectionDelta.y)),Ju(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!RS(this.projectionDelta.x,this.prevProjectionDelta.x)||!RS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=il(),this.projectionDelta=il(),this.projectionDeltaWithTransform=il()}setAnimationOrigin(c,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},_=il();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=kt(),w=d?d.source:void 0,A=this.layout?this.layout.source:void 0,D=w!==A,x=this.getStack(),V=!x||x.members.length<=1,Z=!!(D&&!V&&this.options.crossfade===!0&&!this.path.some(c3));this.animationProgress=0;let F;this.mixTargetDelta=ee=>{const te=ee/1e3;xS(_.x,c.x,te),xS(_.y,c.y,te),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ec(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),u3(this.relativeTarget,this.relativeTargetOrigin,E,te),F&&GL(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=kt()),Ai(F,this.relativeTarget)),D&&(this.animationValues=y,jL(y,p,this.latestValues,te,Z,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,d,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Zs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Dt.update(()=>{Vf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ml(0)),this.currentAnimation=VL(this.motionValue,[0,1e3],{...c,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(XL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=c;if(!(!h||!d||!p)){if(this!==c&&this.layout&&p&&NR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||kt();const _=kn(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+_;const E=kn(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+E}Ai(h,d),sl(h,y),Ju(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new KL),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&gg("z",c,p,this.animationValues);for(let y=0;y<pg.length;y++)gg(`rotate${pg[y]}`,c,p,this.animationValues),gg(`skew${pg[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return QL;const h={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Pf(c==null?void 0:c.pointerEvents)||"",h.transform=d?d(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Pf(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Ha(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=$L(this.projectionDeltaWithTransform,this.treeScale,y),d&&(h.transform=d(y,h.transform));const{x:_,y:E}=this.projectionDelta;h.transformOrigin=`${_.origin*100}% ${E.origin*100}% 0`,p.animationValues?h.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:h.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const w in dc){if(y[w]===void 0)continue;const{correct:A,applyTo:D,isCSSVariable:x}=dc[w],V=h.transform==="none"?y[w]:A(y[w],p);if(D){const Z=D.length;for(let F=0;F<Z;F++)h[D[F]]=V}else x?this.options.visualElement.renderState.vars[w]=V:h[w]=V}return this.options.layoutId&&(h.pointerEvents=p===this?Pf(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(CS),this.root.sharedNodes.clear()}}}function ZL(t){t.updateLayout()}function JL(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?Ri(_=>{const E=c?e.measuredBox[_]:e.layoutBox[_],w=kn(E);E.min=r[_].min,E.max=E.min+w}):NR(l,e.layoutBox,r)&&Ri(_=>{const E=c?e.measuredBox[_]:e.layoutBox[_],w=kn(r[_]);E.max=E.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+w)});const h=il();Ju(h,r,e.layoutBox);const d=il();c?Ju(d,t.applyTransform(a,!0),e.measuredBox):Ju(d,r,e.layoutBox);const p=!DR(h);let y=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:w}=_;if(E&&w){const A=kt();ec(A,e.layoutBox,E.layoutBox);const D=kt();ec(D,r,w.layoutBox),MR(A,D)||(y=!0),_.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=A,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function e3(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function t3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function n3(t){t.clearSnapshot()}function CS(t){t.clearMeasurements()}function i3(t){t.isLayoutDirty=!1}function r3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function IS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function s3(t){t.resolveTargetDelta()}function a3(t){t.calcProjection()}function o3(t){t.resetSkewAndRotation()}function l3(t){t.removeLeadSnapshot()}function xS(t,e,n){t.translate=xt(e.translate,0,n),t.scale=xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function DS(t,e,n,r){t.min=xt(e.min,n.min,r),t.max=xt(e.max,n.max,r)}function u3(t,e,n,r){DS(t.x,e.x,n.x,r),DS(t.y,e.y,n.y,r)}function c3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const h3={duration:.45,ease:[.4,0,.1,1]},MS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),PS=MS("applewebkit/")&&!MS("chrome/")?Math.round:xi;function OS(t){t.min=PS(t.min),t.max=PS(t.max)}function f3(t){OS(t.x),OS(t.y)}function NR(t,e,n){return t==="position"||t==="preserve-aspect"&&!fL(AS(e),AS(n),.2)}function d3(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const m3=VR({attachResizeListener:(t,e)=>vc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yg={current:void 0},LR=VR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!yg.current){const t=new m3({});t.mount(window),t.setOptions({layoutScroll:!0}),yg.current=t}return yg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),p3={pan:{Feature:DL},drag:{Feature:xL,ProjectionNode:LR,MeasureLayout:CR}};function g3(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=(n==null?void 0:n[t])??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function kR(t,e){const n=g3(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function VS(t){return!(t.pointerType==="touch"||RR())}function y3(t,e,n={}){const[r,a,l]=kR(t,n),c=h=>{if(!VS(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const y=_=>{VS(_)&&(p(_),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return r.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}function NS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&Dt.postRender(()=>l(e,Uc(e)))}class v3 extends ua{mount(){const{current:e}=this.node;e&&(this.unmount=y3(e,(n,r)=>(NS(this.node,r,"Start"),a=>NS(this.node,a,"End"))))}unmount(){}}class _3 extends ua{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lc(vc(this.node.current,"focus",()=>this.onFocus()),vc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const UR=(t,e)=>e?t===e?!0:UR(t,e.parentElement):!1,E3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function T3(t){return E3.has(t.tagName)||t.tabIndex!==-1}const Nf=new WeakSet;function LS(t){return e=>{e.key==="Enter"&&t(e)}}function vg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const S3=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=LS(()=>{if(Nf.has(n))return;vg(n,"down");const a=LS(()=>{vg(n,"up")}),l=()=>vg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function kS(t){return bv(t)&&!RR()}function w3(t,e,n={}){const[r,a,l]=kR(t,n),c=h=>{const d=h.currentTarget;if(!kS(h))return;Nf.add(d);const p=e(d,h),y=(w,A)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),Nf.has(d)&&Nf.delete(d),kS(w)&&typeof p=="function"&&p(w,{success:A})},_=w=>{y(w,d===window||d===document||n.useGlobalTarget||UR(d,w.target))},E=w=>{y(w,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",E,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),SA(h)&&(h.addEventListener("focus",p=>S3(p,a)),!T3(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function US(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&Dt.postRender(()=>l(e,Uc(e)))}class b3 extends ua{mount(){const{current:e}=this.node;e&&(this.unmount=w3(e,(n,r)=>(US(this.node,r,"Start"),(a,{success:l})=>US(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ey=new WeakMap,_g=new WeakMap,A3=t=>{const e=ey.get(t.target);e&&e(t)},R3=t=>{t.forEach(A3)};function C3({root:t,...e}){const n=t||document;_g.has(n)||_g.set(n,{});const r=_g.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(R3,{root:t,...e})),r[a]}function I3(t,e,n){const r=C3(e);return ey.set(t,n),r.observe(t),()=>{ey.delete(t),r.unobserve(t)}}const x3={some:0,all:1};class D3 extends ua{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:x3[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(d)};return I3(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(M3(e,n))&&this.startObserver()}unmount(){}}function M3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const P3={inView:{Feature:D3},tap:{Feature:b3},focus:{Feature:_3},hover:{Feature:v3}},O3={layout:{ProjectionNode:LR,MeasureLayout:CR}},ty={current:null},jR={current:!1};function V3(){if(jR.current=!0,!!$y)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ty.current=t.matches;t.addListener(e),e()}else ty.current=!1}const N3=new WeakMap;function L3(t,e,n){for(const r in e){const a=e[r],l=n[r];if(In(a))t.addValue(r,a);else if(In(l))t.addValue(r,ml(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(r);t.addValue(r,ml(c!==void 0?c:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const BR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),zR=t=>/^0[^.\s]+$/u.test(t),k3={test:t=>t==="auto",parse:t=>t},FR=t=>e=>e.test(t),HR=[Rl,je,mr,Us,K4,G4,k3],jS=t=>HR.find(FR(t)),U3=[...HR,An,Js],j3=t=>U3.find(FR(t)),B3=new Set(["brightness","contrast","saturate","opacity"]);function z3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(fv)||[];if(!r)return t;const a=n.replace(r,"");let l=B3.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const F3=/\b([a-z-]*)\(.*?\)/gu,ny={...Js,getAnimatableNone:t=>{const e=t.match(F3);return e?e.map(z3).join(" "):t}},H3={...nv,color:An,backgroundColor:An,outlineColor:An,fill:An,stroke:An,borderColor:An,borderTopColor:An,borderRightColor:An,borderBottomColor:An,borderLeftColor:An,filter:ny,WebkitFilter:ny},qR=t=>H3[t];function GR(t,e){let n=qR(t);return n!==ny&&(n=Js),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const BS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class q3{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Gn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Dt.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Dd(n),this.isVariantNode=RA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const w=_[E];d[E]!==void 0&&In(w)&&w.set(d[E],!1)}}mount(e){this.current=e,N3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),jR.current||V3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ty.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zs(this.notifyUpdate),Zs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Al.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Dt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in dl){const n=dl[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<BS.length;r++){const a=BS[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=L3(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ml(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(BR(r)||zR(r))?r=parseFloat(r):!j3(r)&&Js.test(n)&&(r=GR(e,n)),this.setBaseTarget(e,In(r)?r.get():r)),In(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=av(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!In(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new cv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}const G3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function K3(t){const e=G3.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function KR(t,e,n=1){const[r,a]=K3(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return BR(c)?parseFloat(c):c}return tv(a)?KR(a,e,n+1):a}function $3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||zR(t):!0}const Y3=new Set(["auto","none","0"]);function Q3(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!Y3.has(l)&&gc(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=GR(n,a)}class X3 extends Tv{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),tv(p))){const y=KR(p,n.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!dR.has(r)||e.length!==2)return;const[a,l]=e,c=jS(a),h=jS(l);if(c!==h)if(G1(c)&&G1(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else Qa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||$3(e[a]))&&r.push(a);r.length&&Q3(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=Qa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}class $R extends q3{constructor(){super(...arguments),this.KeyframeResolver=X3}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;In(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function YR(t,{style:e,vars:n},r,a){Object.assign(t.style,e,a&&a.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}function W3(t){return window.getComputedStyle(t)}class Z3 extends $R{constructor(){super(...arguments),this.type="html",this.renderInstance=YR}readValueFromInstance(e,n){var r;if(Al.has(n))return(r=this.projection)!=null&&r.isProjecting?Gg(n):T6(e,n);{const a=W3(e),l=(ev(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return SR(e,n)}build(e,n,r){iv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ov(e,n,r)}}const QR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function J3(t,e,n,r){YR(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(QR.has(a)?a:Wy(a),e.attrs[a])}class ek extends $R{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Al.has(n)){const r=qR(n);return r&&r.default||0}return n=QR.has(n)?n:Wy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return UA(e,n,r)}build(e,n,r){VA(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){J3(e,n,r,a)}mount(e){this.isSVGTag=LA(e.tagName),super.mount(e)}}const tk=(t,e)=>sv(t)?new ek(e):new Z3(e,{allowProjection:t!==z.Fragment}),nk=cN({...rL,...P3,...p3,...O3},tk),Av=D4(nk);var ik="firebase",rk="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ys(ik,rk,"app");var zS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qs,XR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function I(){}I.prototype=C.prototype,M.D=C.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(P,U,H){for(var O=Array(arguments.length-2),De=2;De<arguments.length;De++)O[De-2]=arguments[De];return C.prototype[U].apply(P,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,C,I){I||(I=0);var P=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)P[U]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(U=0;16>U;++U)P[U]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=M.g[0],I=M.g[1],U=M.g[2];var H=M.g[3],O=C+(H^I&(U^H))+P[0]+3614090360&4294967295;C=I+(O<<7&4294967295|O>>>25),O=H+(U^C&(I^U))+P[1]+3905402710&4294967295,H=C+(O<<12&4294967295|O>>>20),O=U+(I^H&(C^I))+P[2]+606105819&4294967295,U=H+(O<<17&4294967295|O>>>15),O=I+(C^U&(H^C))+P[3]+3250441966&4294967295,I=U+(O<<22&4294967295|O>>>10),O=C+(H^I&(U^H))+P[4]+4118548399&4294967295,C=I+(O<<7&4294967295|O>>>25),O=H+(U^C&(I^U))+P[5]+1200080426&4294967295,H=C+(O<<12&4294967295|O>>>20),O=U+(I^H&(C^I))+P[6]+2821735955&4294967295,U=H+(O<<17&4294967295|O>>>15),O=I+(C^U&(H^C))+P[7]+4249261313&4294967295,I=U+(O<<22&4294967295|O>>>10),O=C+(H^I&(U^H))+P[8]+1770035416&4294967295,C=I+(O<<7&4294967295|O>>>25),O=H+(U^C&(I^U))+P[9]+2336552879&4294967295,H=C+(O<<12&4294967295|O>>>20),O=U+(I^H&(C^I))+P[10]+4294925233&4294967295,U=H+(O<<17&4294967295|O>>>15),O=I+(C^U&(H^C))+P[11]+2304563134&4294967295,I=U+(O<<22&4294967295|O>>>10),O=C+(H^I&(U^H))+P[12]+1804603682&4294967295,C=I+(O<<7&4294967295|O>>>25),O=H+(U^C&(I^U))+P[13]+4254626195&4294967295,H=C+(O<<12&4294967295|O>>>20),O=U+(I^H&(C^I))+P[14]+2792965006&4294967295,U=H+(O<<17&4294967295|O>>>15),O=I+(C^U&(H^C))+P[15]+1236535329&4294967295,I=U+(O<<22&4294967295|O>>>10),O=C+(U^H&(I^U))+P[1]+4129170786&4294967295,C=I+(O<<5&4294967295|O>>>27),O=H+(I^U&(C^I))+P[6]+3225465664&4294967295,H=C+(O<<9&4294967295|O>>>23),O=U+(C^I&(H^C))+P[11]+643717713&4294967295,U=H+(O<<14&4294967295|O>>>18),O=I+(H^C&(U^H))+P[0]+3921069994&4294967295,I=U+(O<<20&4294967295|O>>>12),O=C+(U^H&(I^U))+P[5]+3593408605&4294967295,C=I+(O<<5&4294967295|O>>>27),O=H+(I^U&(C^I))+P[10]+38016083&4294967295,H=C+(O<<9&4294967295|O>>>23),O=U+(C^I&(H^C))+P[15]+3634488961&4294967295,U=H+(O<<14&4294967295|O>>>18),O=I+(H^C&(U^H))+P[4]+3889429448&4294967295,I=U+(O<<20&4294967295|O>>>12),O=C+(U^H&(I^U))+P[9]+568446438&4294967295,C=I+(O<<5&4294967295|O>>>27),O=H+(I^U&(C^I))+P[14]+3275163606&4294967295,H=C+(O<<9&4294967295|O>>>23),O=U+(C^I&(H^C))+P[3]+4107603335&4294967295,U=H+(O<<14&4294967295|O>>>18),O=I+(H^C&(U^H))+P[8]+1163531501&4294967295,I=U+(O<<20&4294967295|O>>>12),O=C+(U^H&(I^U))+P[13]+2850285829&4294967295,C=I+(O<<5&4294967295|O>>>27),O=H+(I^U&(C^I))+P[2]+4243563512&4294967295,H=C+(O<<9&4294967295|O>>>23),O=U+(C^I&(H^C))+P[7]+1735328473&4294967295,U=H+(O<<14&4294967295|O>>>18),O=I+(H^C&(U^H))+P[12]+2368359562&4294967295,I=U+(O<<20&4294967295|O>>>12),O=C+(I^U^H)+P[5]+4294588738&4294967295,C=I+(O<<4&4294967295|O>>>28),O=H+(C^I^U)+P[8]+2272392833&4294967295,H=C+(O<<11&4294967295|O>>>21),O=U+(H^C^I)+P[11]+1839030562&4294967295,U=H+(O<<16&4294967295|O>>>16),O=I+(U^H^C)+P[14]+4259657740&4294967295,I=U+(O<<23&4294967295|O>>>9),O=C+(I^U^H)+P[1]+2763975236&4294967295,C=I+(O<<4&4294967295|O>>>28),O=H+(C^I^U)+P[4]+1272893353&4294967295,H=C+(O<<11&4294967295|O>>>21),O=U+(H^C^I)+P[7]+4139469664&4294967295,U=H+(O<<16&4294967295|O>>>16),O=I+(U^H^C)+P[10]+3200236656&4294967295,I=U+(O<<23&4294967295|O>>>9),O=C+(I^U^H)+P[13]+681279174&4294967295,C=I+(O<<4&4294967295|O>>>28),O=H+(C^I^U)+P[0]+3936430074&4294967295,H=C+(O<<11&4294967295|O>>>21),O=U+(H^C^I)+P[3]+3572445317&4294967295,U=H+(O<<16&4294967295|O>>>16),O=I+(U^H^C)+P[6]+76029189&4294967295,I=U+(O<<23&4294967295|O>>>9),O=C+(I^U^H)+P[9]+3654602809&4294967295,C=I+(O<<4&4294967295|O>>>28),O=H+(C^I^U)+P[12]+3873151461&4294967295,H=C+(O<<11&4294967295|O>>>21),O=U+(H^C^I)+P[15]+530742520&4294967295,U=H+(O<<16&4294967295|O>>>16),O=I+(U^H^C)+P[2]+3299628645&4294967295,I=U+(O<<23&4294967295|O>>>9),O=C+(U^(I|~H))+P[0]+4096336452&4294967295,C=I+(O<<6&4294967295|O>>>26),O=H+(I^(C|~U))+P[7]+1126891415&4294967295,H=C+(O<<10&4294967295|O>>>22),O=U+(C^(H|~I))+P[14]+2878612391&4294967295,U=H+(O<<15&4294967295|O>>>17),O=I+(H^(U|~C))+P[5]+4237533241&4294967295,I=U+(O<<21&4294967295|O>>>11),O=C+(U^(I|~H))+P[12]+1700485571&4294967295,C=I+(O<<6&4294967295|O>>>26),O=H+(I^(C|~U))+P[3]+2399980690&4294967295,H=C+(O<<10&4294967295|O>>>22),O=U+(C^(H|~I))+P[10]+4293915773&4294967295,U=H+(O<<15&4294967295|O>>>17),O=I+(H^(U|~C))+P[1]+2240044497&4294967295,I=U+(O<<21&4294967295|O>>>11),O=C+(U^(I|~H))+P[8]+1873313359&4294967295,C=I+(O<<6&4294967295|O>>>26),O=H+(I^(C|~U))+P[15]+4264355552&4294967295,H=C+(O<<10&4294967295|O>>>22),O=U+(C^(H|~I))+P[6]+2734768916&4294967295,U=H+(O<<15&4294967295|O>>>17),O=I+(H^(U|~C))+P[13]+1309151649&4294967295,I=U+(O<<21&4294967295|O>>>11),O=C+(U^(I|~H))+P[4]+4149444226&4294967295,C=I+(O<<6&4294967295|O>>>26),O=H+(I^(C|~U))+P[11]+3174756917&4294967295,H=C+(O<<10&4294967295|O>>>22),O=U+(C^(H|~I))+P[2]+718787259&4294967295,U=H+(O<<15&4294967295|O>>>17),O=I+(H^(U|~C))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(U+(O<<21&4294967295|O>>>11))&4294967295,M.g[2]=M.g[2]+U&4294967295,M.g[3]=M.g[3]+H&4294967295}r.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var I=C-this.blockSize,P=this.B,U=this.h,H=0;H<C;){if(U==0)for(;H<=I;)a(this,M,H),H+=this.blockSize;if(typeof M=="string"){for(;H<C;)if(P[U++]=M.charCodeAt(H++),U==this.blockSize){a(this,P),U=0;break}}else for(;H<C;)if(P[U++]=M[H++],U==this.blockSize){a(this,P),U=0;break}}this.h=U,this.o+=C},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var I=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=I&255,I/=256;for(this.u(M),M=Array(16),C=I=0;4>C;++C)for(var P=0;32>P;P+=8)M[I++]=this.g[C]>>>P&255;return M};function l(M,C){var I=h;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=C(M)}function c(M,C){this.h=C;for(var I=[],P=!0,U=M.length-1;0<=U;U--){var H=M[U]|0;P&&H==C||(I[U]=H,P=!1)}this.g=I}var h={};function d(M){return-128<=M&&128>M?l(M,function(C){return new c([C|0],0>C?-1:0)}):new c([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return x(p(-M));for(var C=[],I=1,P=0;M>=I;P++)C[P]=M/I|0,I*=4294967296;return new c(C,0)}function y(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return x(y(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(C,8)),P=_,U=0;U<M.length;U+=8){var H=Math.min(8,M.length-U),O=parseInt(M.substring(U,U+H),C);8>H?(H=p(Math.pow(C,H)),P=P.j(H).add(p(O))):(P=P.j(I),P=P.add(p(O)))}return P}var _=d(0),E=d(1),w=d(16777216);t=c.prototype,t.m=function(){if(D(this))return-x(this).m();for(var M=0,C=1,I=0;I<this.g.length;I++){var P=this.i(I);M+=(0<=P?P:4294967296+P)*C,C*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(A(this))return"0";if(D(this))return"-"+x(this).toString(M);for(var C=p(Math.pow(M,6)),I=this,P="";;){var U=ee(I,C).g;I=V(I,U.j(C));var H=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=U,A(I))return H+P;for(;6>H.length;)H="0"+H;P=H+P}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function A(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function D(M){return M.h==-1}t.l=function(M){return M=V(this,M),D(M)?-1:A(M)?0:1};function x(M){for(var C=M.g.length,I=[],P=0;P<C;P++)I[P]=~M.g[P];return new c(I,~M.h).add(E)}t.abs=function(){return D(this)?x(this):this},t.add=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],P=0,U=0;U<=C;U++){var H=P+(this.i(U)&65535)+(M.i(U)&65535),O=(H>>>16)+(this.i(U)>>>16)+(M.i(U)>>>16);P=O>>>16,H&=65535,O&=65535,I[U]=O<<16|H}return new c(I,I[I.length-1]&-2147483648?-1:0)};function V(M,C){return M.add(x(C))}t.j=function(M){if(A(this)||A(M))return _;if(D(this))return D(M)?x(this).j(x(M)):x(x(this).j(M));if(D(M))return x(this.j(x(M)));if(0>this.l(w)&&0>M.l(w))return p(this.m()*M.m());for(var C=this.g.length+M.g.length,I=[],P=0;P<2*C;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var U=0;U<M.g.length;U++){var H=this.i(P)>>>16,O=this.i(P)&65535,De=M.i(U)>>>16,Be=M.i(U)&65535;I[2*P+2*U]+=O*Be,Z(I,2*P+2*U),I[2*P+2*U+1]+=H*Be,Z(I,2*P+2*U+1),I[2*P+2*U+1]+=O*De,Z(I,2*P+2*U+1),I[2*P+2*U+2]+=H*De,Z(I,2*P+2*U+2)}for(P=0;P<C;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=C;P<2*C;P++)I[P]=0;return new c(I,0)};function Z(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function F(M,C){this.g=M,this.h=C}function ee(M,C){if(A(C))throw Error("division by zero");if(A(M))return new F(_,_);if(D(M))return C=ee(x(M),C),new F(x(C.g),x(C.h));if(D(C))return C=ee(M,x(C)),new F(x(C.g),C.h);if(30<M.g.length){if(D(M)||D(C))throw Error("slowDivide_ only works with positive integers.");for(var I=E,P=C;0>=P.l(M);)I=te(I),P=te(P);var U=j(I,1),H=j(P,1);for(P=j(P,2),I=j(I,2);!A(P);){var O=H.add(P);0>=O.l(M)&&(U=U.add(I),H=O),P=j(P,1),I=j(I,1)}return C=V(M,U.j(C)),new F(U,C)}for(U=_;0<=M.l(C);){for(I=Math.max(1,Math.floor(M.m()/C.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),H=p(I),O=H.j(C);D(O)||0<O.l(M);)I-=P,H=p(I),O=H.j(C);A(H)&&(H=E),U=U.add(H),M=V(M,O)}return new F(U,M)}t.A=function(M){return ee(this,M).h},t.and=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],P=0;P<C;P++)I[P]=this.i(P)&M.i(P);return new c(I,this.h&M.h)},t.or=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],P=0;P<C;P++)I[P]=this.i(P)|M.i(P);return new c(I,this.h|M.h)},t.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],P=0;P<C;P++)I[P]=this.i(P)^M.i(P);return new c(I,this.h^M.h)};function te(M){for(var C=M.g.length+1,I=[],P=0;P<C;P++)I[P]=M.i(P)<<1|M.i(P-1)>>>31;return new c(I,M.h)}function j(M,C){var I=C>>5;C%=32;for(var P=M.g.length-I,U=[],H=0;H<P;H++)U[H]=0<C?M.i(H+I)>>>C|M.i(H+I+1)<<32-C:M.i(H+I);return new c(U,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,XR=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Qs=c}).apply(typeof zS<"u"?zS:typeof self<"u"?self:typeof window<"u"?window:{});var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WR,qu,ZR,Lf,iy,JR,eC,tC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,T){return f==Array.prototype||f==Object.prototype||(f[v]=T.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof df=="object"&&df];for(var v=0;v<f.length;++v){var T=f[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function a(f,v){if(v)e:{var T=r;f=f.split(".");for(var R=0;R<f.length-1;R++){var K=f[R];if(!(K in T))break e;T=T[K]}f=f[f.length-1],R=T[f],v=v(R),v!=R&&v!=null&&e(T,f,{configurable:!0,writable:!0,value:v})}}function l(f,v){f instanceof String&&(f+="");var T=0,R=!1,K={next:function(){if(!R&&T<f.length){var ne=T++;return{value:v(ne,f[ne]),done:!1}}return R=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}a("Array.prototype.values",function(f){return f||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function p(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function y(f,v,T){return f.call.apply(f.bind,arguments)}function _(f,v,T){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,R),f.apply(v,K)}}return function(){return f.apply(v,arguments)}}function E(f,v,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function w(f,v){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function A(f,v){function T(){}T.prototype=v.prototype,f.aa=v.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(R,K,ne){for(var pe=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)pe[rt-2]=arguments[rt];return v.prototype[K].apply(R,pe)}}function D(f){const v=f.length;if(0<v){const T=Array(v);for(let R=0;R<v;R++)T[R]=f[R];return T}return[]}function x(f,v){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(d(R)){const K=f.length||0,ne=R.length||0;f.length=K+ne;for(let pe=0;pe<ne;pe++)f[K+pe]=R[pe]}else f.push(R)}}class V{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Z(f){return/^[\s\xa0]*$/.test(f)}function F(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function ee(f){return ee[" "](f),f}ee[" "]=function(){};var te=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function j(f,v,T){for(const R in f)v.call(T,f[R],R,f)}function M(f,v){for(const T in f)v.call(void 0,f[T],T,f)}function C(f){const v={};for(const T in f)v[T]=f[T];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(f,v){let T,R;for(let K=1;K<arguments.length;K++){R=arguments[K];for(T in R)f[T]=R[T];for(let ne=0;ne<I.length;ne++)T=I[ne],Object.prototype.hasOwnProperty.call(R,T)&&(f[T]=R[T])}}function U(f){var v=1;f=f.split(":");const T=[];for(;0<v&&f.length;)T.push(f.shift()),v--;return f.length&&T.push(f.join(":")),T}function H(f){h.setTimeout(()=>{throw f},0)}function O(){var f=Me;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class De{constructor(){this.h=this.g=null}add(v,T){const R=Be.get();R.set(v,T),this.h?this.h.next=R:this.g=R,this.h=R}}var Be=new V(()=>new X,f=>f.reset());class X{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ge=!1,Me=new De,L=()=>{const f=h.Promise.resolve(void 0);oe=()=>{f.then(ae)}};var ae=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(T){H(T)}var v=Be;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}ge=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};h.addEventListener("test",T,v),h.removeEventListener("test",T,v)}catch{}return f}();function qe(f,v){if(fe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(te){e:{try{ee(v.nodeName);var K=!0;break e}catch{}K=!1}K||(v=null)}}else T=="mouseover"?v=f.fromElement:T=="mouseout"&&(v=f.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ce[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&qe.aa.h.call(this)}}A(qe,fe);var Ce={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Bt="closure_listenable_"+(1e6*Math.random()|0),yt=0;function oi(f,v,T,R,K){this.listener=f,this.proxy=null,this.src=v,this.type=T,this.capture=!!R,this.ha=K,this.key=++yt,this.da=this.fa=!1}function Rt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function _n(f){this.src=f,this.g={},this.h=0}_n.prototype.add=function(f,v,T,R,K){var ne=f.toString();f=this.g[ne],f||(f=this.g[ne]=[],this.h++);var pe=Sr(f,v,R,K);return-1<pe?(v=f[pe],T||(v.fa=!1)):(v=new oi(v,this.src,ne,!!R,K),v.fa=T,f.push(v)),v};function Fi(f,v){var T=v.type;if(T in f.g){var R=f.g[T],K=Array.prototype.indexOf.call(R,v,void 0),ne;(ne=0<=K)&&Array.prototype.splice.call(R,K,1),ne&&(Rt(v),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Sr(f,v,T,R){for(var K=0;K<f.length;++K){var ne=f[K];if(!ne.da&&ne.listener==v&&ne.capture==!!T&&ne.ha==R)return K}return-1}var Dn="closure_lm_"+(1e6*Math.random()|0),fa={};function lo(f,v,T,R,K){if(Array.isArray(v)){for(var ne=0;ne<v.length;ne++)lo(f,v[ne],T,R,K);return null}return T=ls(T),f&&f[Bt]?f.K(v,T,p(R)?!!R.capture:!1,K):Mn(f,v,T,!1,R,K)}function Mn(f,v,T,R,K,ne){if(!v)throw Error("Invalid event type");var pe=p(K)?!!K.capture:!!K,rt=li(f);if(rt||(f[Dn]=rt=new _n(f)),T=rt.add(v,T,R,pe,ne),T.proxy)return T;if(R=Ol(),T.proxy=R,R.src=f,R.listener=T,f.addEventListener)be||(K=pe),K===void 0&&(K=!1),f.addEventListener(v.toString(),R,K);else if(f.attachEvent)f.attachEvent(wr(v.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ol(){function f(T){return v.call(f.src,f.listener,T)}const v=Mi;return f}function da(f,v,T,R,K){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)da(f,v[ne],T,R,K);else R=p(R)?!!R.capture:!!R,T=ls(T),f&&f[Bt]?(f=f.i,v=String(v).toString(),v in f.g&&(ne=f.g[v],T=Sr(ne,T,R,K),-1<T&&(Rt(ne[T]),Array.prototype.splice.call(ne,T,1),ne.length==0&&(delete f.g[v],f.h--)))):f&&(f=li(f))&&(v=f.g[v.toString()],f=-1,v&&(f=Sr(v,T,R,K)),(T=-1<f?v[f]:null)&&as(T))}function as(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Bt])Fi(v.i,f);else{var T=f.type,R=f.proxy;v.removeEventListener?v.removeEventListener(T,R,f.capture):v.detachEvent?v.detachEvent(wr(T),R):v.addListener&&v.removeListener&&v.removeListener(R),(T=li(v))?(Fi(T,f),T.h==0&&(T.src=null,v[Dn]=null)):Rt(f)}}}function wr(f){return f in fa?fa[f]:fa[f]="on"+f}function Mi(f,v){if(f.da)f=!0;else{v=new qe(v,this);var T=f.listener,R=f.ha||f.src;f.fa&&as(f),f=T.call(R,v)}return f}function li(f){return f=f[Dn],f instanceof _n?f:null}var os="__closure_events_fn_"+(1e9*Math.random()>>>0);function ls(f){return typeof f=="function"?f:(f[os]||(f[os]=function(v){return f.handleEvent(v)}),f[os])}function ct(){me.call(this),this.i=new _n(this),this.M=this,this.F=null}A(ct,me),ct.prototype[Bt]=!0,ct.prototype.removeEventListener=function(f,v,T,R){da(this,f,v,T,R)};function Ke(f,v){var T,R=f.F;if(R)for(T=[];R;R=R.F)T.push(R);if(f=f.M,R=v.type||v,typeof v=="string")v=new fe(v,f);else if(v instanceof fe)v.target=v.target||f;else{var K=v;v=new fe(R,f),P(v,K)}if(K=!0,T)for(var ne=T.length-1;0<=ne;ne--){var pe=v.g=T[ne];K=En(pe,R,!0,v)&&K}if(pe=v.g=f,K=En(pe,R,!0,v)&&K,K=En(pe,R,!1,v)&&K,T)for(ne=0;ne<T.length;ne++)pe=v.g=T[ne],K=En(pe,R,!1,v)&&K}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var T=f.g[v],R=0;R<T.length;R++)Rt(T[R]);delete f.g[v],f.h--}}this.F=null},ct.prototype.K=function(f,v,T,R){return this.i.add(String(f),v,!1,T,R)},ct.prototype.L=function(f,v,T,R){return this.i.add(String(f),v,!0,T,R)};function En(f,v,T,R){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var K=!0,ne=0;ne<v.length;++ne){var pe=v[ne];if(pe&&!pe.da&&pe.capture==T){var rt=pe.listener,Qt=pe.ha||pe.src;pe.fa&&Fi(f.i,pe),K=rt.call(Qt,R)!==!1&&K}}return K&&!R.defaultPrevented}function zt(f,v,T){if(typeof f=="function")T&&(f=E(f,T));else if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(f,v||0)}function uo(f){f.g=zt(()=>{f.g=null,f.i&&(f.i=!1,uo(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class ui extends me{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:uo(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(f){me.call(this),this.h=f,this.g={}}A(Hi,me);var qi=[];function Gi(f){j(f.g,function(v,T){this.g.hasOwnProperty(T)&&as(v)},f),f.g={}}Hi.prototype.N=function(){Hi.aa.N.call(this),Gi(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=h.JSON.stringify,br=h.JSON.parse,ci=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function us(){}us.prototype.h=null;function Ar(f){return f.h||(f.h=f.i())}function ma(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pi(){fe.call(this,"d")}A(Pi,fe);function cs(){fe.call(this,"c")}A(cs,fe);var Pn={},Ki=null;function $i(){return Ki=Ki||new ct}Pn.La="serverreachability";function hs(f){fe.call(this,Pn.La,f)}A(hs,fe);function k(f){const v=$i();Ke(v,new hs(v))}Pn.STAT_EVENT="statevent";function G(f,v){fe.call(this,Pn.STAT_EVENT,f),this.stat=v}A(G,fe);function Y(f){const v=$i();Ke(v,new G(v,f))}Pn.Ma="timingevent";function le(f,v){fe.call(this,Pn.Ma,f),this.size=v}A(le,fe);function de(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},v)}function ye(){this.g=!0}ye.prototype.xa=function(){this.g=!1};function xe(f,v,T,R,K,ne){f.info(function(){if(f.g)if(ne)for(var pe="",rt=ne.split("&"),Qt=0;Qt<rt.length;Qt++){var st=rt[Qt].split("=");if(1<st.length){var nn=st[0];st=st[1];var Xt=nn.split("_");pe=2<=Xt.length&&Xt[1]=="type"?pe+(nn+"="+st+"&"):pe+(nn+"=redacted&")}}else pe=null;else pe=ne;return"XMLHTTP REQ ("+R+") [attempt "+K+"]: "+v+`
`+T+`
`+pe})}function _e(f,v,T,R,K,ne,pe){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+K+"]: "+v+`
`+T+`
`+ne+" "+pe})}function Se(f,v,T,R){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Pe(f,T)+(R?" "+R:"")})}function Ae(f,v){f.info(function(){return"TIMEOUT: "+v})}ye.prototype.info=function(){};function Pe(f,v){if(!f.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var R=T[f];if(!(2>R.length)){var K=R[1];if(Array.isArray(K)&&!(1>K.length)){var ne=K[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var pe=1;pe<K.length;pe++)K[pe]=""}}}}return $n(T)}catch{return v}}var we={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ve={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},We;function ft(){}A(ft,us),ft.prototype.g=function(){return new XMLHttpRequest},ft.prototype.i=function(){return{}},We=new ft;function lt(f,v,T,R){this.j=f,this.i=v,this.l=T,this.R=R||1,this.U=new Hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new it}function it(){this.i=null,this.g="",this.h=!1}var Qe={},fi={};function Yt(f,v,T){f.L=1,f.v=ya(Xn(v)),f.m=T,f.P=!0,On(f,null)}function On(f,v){f.F=Date.now(),Yn(f),f.A=Xn(f.v);var T=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),Ul(T.i,"t",R),f.C=0,T=f.j.J,f.h=new it,f.g=nh(f.j,T?v:null,!f.m),0<f.O&&(f.M=new ui(E(f.Y,f,f.g),f.O)),v=f.U,T=f.g,R=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(qi[0]=K.toString()),K=qi);for(var ne=0;ne<K.length;ne++){var pe=lo(T,K[ne],R||v.handleEvent,!1,v.h||v);if(!pe)break;v.g[pe.key]=pe}v=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),k(),xe(f.i,f.u,f.A,f.l,f.R,f.m)}lt.prototype.ca=function(f){f=f.target;const v=this.M;v&&yi(f)==3?v.j():this.Y(f)},lt.prototype.Y=function(f){try{if(f==this.g)e:{const Xt=yi(this.g);var v=this.g.Ba();const Or=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||Yc(this.g)))){this.J||Xt!=4||v==7||(v==8||0>=Or?k(3):k(2)),Tn(this);var T=this.g.Z();this.X=T;t:if(un(this)){var R=Yc(this.g);f="";var K=R.length,ne=yi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),Vn(this);var pe="";break t}this.h.i=new h.TextDecoder}for(v=0;v<K;v++)this.h.h=!0,f+=this.h.i.decode(R[v],{stream:!(ne&&v==K-1)});R.length=0,this.h.g+=f,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=T==200,_e(this.i,this.u,this.A,this.l,this.R,Xt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Qt=this.g;if((rt=Qt.g?Qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(rt)){var st=rt;break t}}st=null}if(T=st)Se(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ft(this,T);else{this.o=!1,this.s=3,Y(12),ze(this),Vn(this);break e}}if(this.P){T=!0;let hn;for(;!this.J&&this.C<pe.length;)if(hn=Yi(this,pe),hn==fi){Xt==4&&(this.s=4,Y(14),T=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Qe){this.s=4,Y(15),Se(this.i,this.l,pe,"[Invalid Chunk]"),T=!1;break}else Se(this.i,this.l,hn,null),Ft(this,hn);if(un(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||pe.length!=0||this.h.h||(this.s=1,Y(16),T=!1),this.o=this.o&&T,!T)Se(this.i,this.l,pe,"[Invalid Chunked Response]"),ze(this),Vn(this);else if(0<pe.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),Aa(nn),nn.M=!0,Y(11))}}else Se(this.i,this.l,pe,null),Ft(this,pe);Xt==4&&ze(this),this.o&&!this.J&&(Xt==4?Jc(this.j,this):(this.o=!1,Yn(this)))}else Zd(this.g),T==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Y(12)):(this.s=0,Y(13)),ze(this),Vn(this)}}}catch{}finally{}};function un(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Yi(f,v){var T=f.C,R=v.indexOf(`
`,T);return R==-1?fi:(T=Number(v.substring(T,R)),isNaN(T)?Qe:(R+=1,R+T>v.length?fi:(v=v.slice(R,R+T),f.C=R+T,v)))}lt.prototype.cancel=function(){this.J=!0,ze(this)};function Yn(f){f.S=Date.now()+f.I,fs(f,f.I)}function fs(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=de(E(f.ba,f),v)}function Tn(f){f.B&&(h.clearTimeout(f.B),f.B=null)}lt.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Ae(this.i,this.A),this.L!=2&&(k(),Y(17)),ze(this),this.s=2,Vn(this)):fs(this,this.S-f)};function Vn(f){f.j.G==0||f.J||Jc(f.j,f)}function ze(f){Tn(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Gi(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Ft(f,v){try{var T=f.j;if(T.G!=0&&(T.g==f||di(T.h,f))){if(!f.K&&di(T.h,f)&&T.G==3){try{var R=T.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var K=R;if(K[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)_o(T),yo(T);else break e;Hl(T),Y(18)}}else T.za=K[1],0<T.za-T.T&&37500>K[2]&&T.F&&T.v==0&&!T.C&&(T.C=de(E(T.Za,T),6e3));if(1>=St(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Pr(T,11)}else if((f.K||T.g==f)&&_o(T),!Z(v))for(K=T.Da.g.parse(v),v=0;v<K.length;v++){let st=K[v];if(T.T=st[0],st=st[1],T.G==2)if(st[0]=="c"){T.K=st[1],T.ia=st[2];const nn=st[3];nn!=null&&(T.la=nn,T.j.info("VER="+T.la));const Xt=st[4];Xt!=null&&(T.Aa=Xt,T.j.info("SVER="+T.Aa));const Or=st[5];Or!=null&&typeof Or=="number"&&0<Or&&(R=1.5*Or,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const hn=f.g;if(hn){const nr=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nr){var ne=R.h;ne.g||nr.indexOf("spdy")==-1&&nr.indexOf("quic")==-1&&nr.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Rr(ne,ne.h),ne.h=null))}if(R.D){const Gl=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Gl&&(R.ya=Gl,vt(R.I,R.D,Gl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var pe=f;if(R.qa=th(R,R.J?R.ia:null,R.W),pe.K){cn(R.h,pe);var rt=pe,Qt=R.L;Qt&&(rt.I=Qt),rt.B&&(Tn(rt),Yn(rt)),R.g=pe}else Wc(R);0<T.i.length&&vo(T)}else st[0]!="stop"&&st[0]!="close"||Pr(T,7);else T.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Pr(T,7):zl(T):st[0]!="noop"&&T.l&&T.l.ta(st),T.v=0)}}k(4)}catch{}}var Qn=class{constructor(f,v){this.g=f,this.map=v}};function jn(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qi(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function St(f){return f.h?1:f.g?f.g.size:0}function di(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Rr(f,v){f.g?f.g.add(v):f.h=v}function cn(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}jn.prototype.cancel=function(){if(this.i=Vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Vl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const T of f.g.values())v=v.concat(T.D);return v}return D(f.i)}function Yd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],T=f.length,R=0;R<T;R++)v.push(f[R]);return v}v=[],T=0;for(R in f)v[T++]=f[R];return v}function co(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var T=0;T<f;T++)v.push(T);return v}v=[],T=0;for(const R in f)v[T++]=R;return v}}}function Nl(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var T=co(f),R=Yd(f),K=R.length,ne=0;ne<K;ne++)v.call(void 0,R[ne],T&&T[ne],f)}var pa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qd(f,v){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var R=f[T].indexOf("="),K=null;if(0<=R){var ne=f[T].substring(0,R);K=f[T].substring(R+1)}else ne=f[T];v(ne,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Ht(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ht){this.h=f.h,ga(this,f.j),this.o=f.o,this.g=f.g,ds(this,f.s),this.l=f.l;var v=f.i,T=new Ir;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Cr(this,T),this.m=f.m}else f&&(v=String(f).match(pa))?(this.h=!1,ga(this,v[1]||"",!0),this.o=mi(v[2]||""),this.g=mi(v[3]||"",!0),ds(this,v[4]),this.l=mi(v[5]||"",!0),Cr(this,v[6]||"",!0),this.m=mi(v[7]||"")):(this.h=!1,this.i=new Ir(null,this.h))}Ht.prototype.toString=function(){var f=[],v=this.j;v&&f.push(va(v,Ll,!0),":");var T=this.g;return(T||v=="file")&&(f.push("//"),(v=this.o)&&f.push(va(v,Ll,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(va(T,T.charAt(0)=="/"?Xd:kl,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",va(T,ho)),f.join("")};function Xn(f){return new Ht(f)}function ga(f,v,T){f.j=T?mi(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function ds(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function Cr(f,v,T){v instanceof Ir?(f.i=v,Kc(f.i,f.h)):(T||(v=va(v,Wd)),f.i=new Ir(v,f.h))}function vt(f,v,T){f.i.set(v,T)}function ya(f){return vt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function mi(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function va(f,v,T){return typeof f=="string"?(f=encodeURI(f).replace(v,Gc),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Gc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ll=/[#\/\?@]/g,kl=/[#\?:]/g,Xd=/[#\?]/g,Wd=/[#\?@]/g,ho=/#/g;function Ir(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function pi(f){f.g||(f.g=new Map,f.h=0,f.i&&Qd(f.i,function(v,T){f.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=Ir.prototype,t.add=function(f,v){pi(this),this.i=null,f=Xi(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(v),this.h+=1,this};function xr(f,v){pi(f),v=Xi(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Dr(f,v){return pi(f),v=Xi(f,v),f.g.has(v)}t.forEach=function(f,v){pi(this),this.g.forEach(function(T,R){T.forEach(function(K){f.call(v,K,R,this)},this)},this)},t.na=function(){pi(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let R=0;R<v.length;R++){const K=f[R];for(let ne=0;ne<K.length;ne++)T.push(v[R])}return T},t.V=function(f){pi(this);let v=[];if(typeof f=="string")Dr(this,f)&&(v=v.concat(this.g.get(Xi(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)v=v.concat(f[T])}return v},t.set=function(f,v){return pi(this),this.i=null,f=Xi(this,f),Dr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function Ul(f,v,T){xr(f,v),0<T.length&&(f.i=null,f.g.set(Xi(f,v),D(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var R=v[T];const ne=encodeURIComponent(String(R)),pe=this.V(R);for(R=0;R<pe.length;R++){var K=ne;pe[R]!==""&&(K+="="+encodeURIComponent(String(pe[R]))),f.push(K)}}return this.i=f.join("&")};function Xi(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Kc(f,v){v&&!f.j&&(pi(f),f.i=null,f.g.forEach(function(T,R){var K=R.toLowerCase();R!=K&&(xr(this,R),Ul(this,K,T))},f)),f.j=v}function _a(f,v){const T=new ye;if(h.Image){const R=new Image;R.onload=w(gi,T,"TestLoadImage: loaded",!0,v,R),R.onerror=w(gi,T,"TestLoadImage: error",!1,v,R),R.onabort=w(gi,T,"TestLoadImage: abort",!1,v,R),R.ontimeout=w(gi,T,"TestLoadImage: timeout",!1,v,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else v(!1)}function Oi(f,v){const T=new ye,R=new AbortController,K=setTimeout(()=>{R.abort(),gi(T,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:R.signal}).then(ne=>{clearTimeout(K),ne.ok?gi(T,"TestPingServer: ok",!0,v):gi(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(K),gi(T,"TestPingServer: error",!1,v)})}function gi(f,v,T,R,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),R(T)}catch{}}function Ea(){this.g=new ci}function Wi(f,v,T){const R=T||"";try{Nl(f,function(K,ne){let pe=K;p(K)&&(pe=$n(K)),v.push(R+ne+"="+encodeURIComponent(pe))})}catch(K){throw v.push(R+"type="+encodeURIComponent("_badmap")),K}}function ms(f){this.l=f.Ub||null,this.j=f.eb||!1}A(ms,us),ms.prototype.g=function(){return new Mr(this.l,this.j)},ms.prototype.i=function(f){return function(){return f}}({});function Mr(f,v){ct.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Mr,ct),t=Mr.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Ji(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zi(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ji(this)),this.g&&(this.readyState=3,Ji(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function jl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Zi(this):Ji(this),this.readyState==3&&jl(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Zi(this))},t.Qa=function(f){this.g&&(this.response=f,Zi(this))},t.ga=function(){this.g&&Zi(this)};function Zi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ji(f)}t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=v.next();return f.join(`\r
`)};function Ji(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Bl(f){let v="";return j(f,function(T,R){v+=R,v+=":",v+=T,v+=`\r
`}),v}function tn(f,v,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=Bl(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):vt(f,v,T))}function dt(f){ct.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(dt,ct);var fo=/^https?$/i,Ta=["POST","PUT"];t=dt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,v,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():We.g(),this.v=this.o?Ar(this.o):Ar(We),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(ne){$c(this,ne);return}if(f=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var K in R)T.set(K,R[K]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ne of R.keys())T.set(ne,R.get(ne));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(ne=>ne.toLowerCase()=="content-type"),K=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ta,v,void 0))||R||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,pe]of T)this.g.setRequestHeader(ne,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sa(this),this.u=!0,this.g.send(f),this.u=!1}catch(ne){$c(this,ne)}};function $c(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,mo(f),er(f)}function mo(f){f.A||(f.A=!0,Ke(f,"complete"),Ke(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ke(this,"complete"),Ke(this,"abort"),er(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),er(this,!0)),dt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?po(this):this.bb())},t.bb=function(){po(this)};function po(f){if(f.h&&typeof c<"u"&&(!f.v[1]||yi(f)!=4||f.Z()!=2)){if(f.u&&yi(f)==4)zt(f.Ea,0,f);else if(Ke(f,"readystatechange"),yi(f)==4){f.h=!1;try{const pe=f.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var R;if(R=pe===0){var K=String(f.D).match(pa)[1]||null;!K&&h.self&&h.self.location&&(K=h.self.location.protocol.slice(0,-1)),R=!fo.test(K?K.toLowerCase():"")}T=R}if(T)Ke(f,"complete"),Ke(f,"success");else{f.m=6;try{var ne=2<yi(f)?f.g.statusText:""}catch{ne=""}f.l=ne+" ["+f.Z()+"]",mo(f)}}finally{er(f)}}}}function er(f,v){if(f.g){Sa(f);const T=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Ke(f,"ready");try{T.onreadystatechange=R}catch{}}}function Sa(f){f.I&&(h.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function yi(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<yi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),br(v)}};function Yc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Zd(f){const v={};f=(f.g&&2<=yi(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(Z(f[R]))continue;var T=U(f[R]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ne=v[K]||[];v[K]=ne,ne.push(T)}M(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(f,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||v}function go(f){this.Aa=0,this.i=[],this.j=new ye,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wa("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wa("baseRetryDelayMs",5e3,f),this.cb=wa("retryDelaySeedMs",1e4,f),this.Wa=wa("forwardChannelMaxRetries",2,f),this.wa=wa("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new jn(f&&f.concurrentRequestLimit),this.Da=new Ea,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=go.prototype,t.la=8,t.G=1,t.connect=function(f,v,T,R){Y(0),this.W=f,this.H=v||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=th(this,null,this.W),vo(this)};function zl(f){if(Qc(f),f.G==3){var v=f.U++,T=Xn(f.I);if(vt(T,"SID",f.K),vt(T,"RID",v),vt(T,"TYPE","terminate"),ba(f,T),v=new lt(f,f.j,v),v.L=2,v.v=ya(Xn(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=v.v,T=!0),T||(v.g=nh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Yn(v)}eh(f)}function yo(f){f.g&&(Aa(f),f.g.cancel(),f.g=null)}function Qc(f){yo(f),f.u&&(h.clearTimeout(f.u),f.u=null),_o(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function vo(f){if(!Qi(f.h)&&!f.s){f.s=!0;var v=f.Ga;oe||L(),ge||(oe(),ge=!0),Me.add(v,f),f.B=0}}function Jd(f,v){return St(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=de(E(f.Ga,f,v),ql(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new lt(this,this.j,f);let ne=this.o;if(this.S&&(ne?(ne=C(ne),P(ne,this.S)):ne=this.S),this.m!==null||this.O||(K.H=ne,ne=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Xc(this,K,v),T=Xn(this.I),vt(T,"RID",f),vt(T,"CVER",22),this.D&&vt(T,"X-HTTP-Session-Id",this.D),ba(this,T),ne&&(this.O?v="headers="+encodeURIComponent(String(Bl(ne)))+"&"+v:this.m&&tn(T,this.m,ne)),Rr(this.h,K),this.Ua&&vt(T,"TYPE","init"),this.P?(vt(T,"$req",v),vt(T,"SID","null"),K.T=!0,Yt(K,T,null)):Yt(K,T,v),this.G=2}}else this.G==3&&(f?Fl(this,f):this.i.length==0||Qi(this.h)||Fl(this))};function Fl(f,v){var T;v?T=v.l:T=f.U++;const R=Xn(f.I);vt(R,"SID",f.K),vt(R,"RID",T),vt(R,"AID",f.T),ba(f,R),f.m&&f.o&&tn(R,f.m,f.o),T=new lt(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),v&&(f.i=v.D.concat(f.i)),v=Xc(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Rr(f.h,T),Yt(T,R,v)}function ba(f,v){f.H&&j(f.H,function(T,R){vt(v,R,T)}),f.l&&Nl({},function(T,R){vt(v,R,T)})}function Xc(f,v,T){T=Math.min(f.i.length,T);var R=f.l?E(f.l.Na,f.l,f):null;e:{var K=f.i;let ne=-1;for(;;){const pe=["count="+T];ne==-1?0<T?(ne=K[0].g,pe.push("ofs="+ne)):ne=0:pe.push("ofs="+ne);let rt=!0;for(let Qt=0;Qt<T;Qt++){let st=K[Qt].g;const nn=K[Qt].map;if(st-=ne,0>st)ne=Math.max(0,K[Qt].g-100),rt=!1;else try{Wi(nn,pe,"req"+st+"_")}catch{R&&R(nn)}}if(rt){R=pe.join("&");break e}}}return f=f.i.splice(0,T),v.D=f,R}function Wc(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;oe||L(),ge||(oe(),ge=!0),Me.add(v,f),f.v=0}}function Hl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=de(E(f.Fa,f),ql(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Zc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=de(E(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Y(10),yo(this),Zc(this))};function Aa(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Zc(f){f.g=new lt(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Xn(f.qa);vt(v,"RID","rpc"),vt(v,"SID",f.K),vt(v,"AID",f.T),vt(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&vt(v,"TO",f.ja),vt(v,"TYPE","xmlhttp"),ba(f,v),f.m&&f.o&&tn(v,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=ya(Xn(v)),T.m=null,T.P=!0,On(T,f)}t.Za=function(){this.C!=null&&(this.C=null,yo(this),Hl(this),Y(19))};function _o(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Jc(f,v){var T=null;if(f.g==v){_o(f),Aa(f),f.g=null;var R=2}else if(di(f.h,v))T=v.D,cn(f.h,v),R=1;else return;if(f.G!=0){if(v.o)if(R==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var K=f.B;R=$i(),Ke(R,new le(R,T)),vo(f)}else Wc(f);else if(K=v.s,K==3||K==0&&0<v.X||!(R==1&&Jd(f,v)||R==2&&Hl(f)))switch(T&&0<T.length&&(v=f.h,v.i=v.i.concat(T)),K){case 1:Pr(f,5);break;case 4:Pr(f,10);break;case 3:Pr(f,6);break;default:Pr(f,2)}}}function ql(f,v){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*v}function Pr(f,v){if(f.j.info("Error code "+v),v==2){var T=E(f.fb,f),R=f.Xa;const K=!R;R=new Ht(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ga(R,"https"),ya(R),K?_a(R.toString(),T):Oi(R.toString(),T)}else Y(2);f.G=0,f.l&&f.l.sa(v),eh(f),Qc(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Y(2)):(this.j.info("Failed to ping google.com"),Y(1))};function eh(f){if(f.G=0,f.ka=[],f.l){const v=Vl(f.h);(v.length!=0||f.i.length!=0)&&(x(f.ka,v),x(f.ka,f.i),f.h.i.length=0,D(f.i),f.i.length=0),f.l.ra()}}function th(f,v,T){var R=T instanceof Ht?Xn(T):new Ht(T);if(R.g!="")v&&(R.g=v+"."+R.g),ds(R,R.s);else{var K=h.location;R=K.protocol,v=v?v+"."+K.hostname:K.hostname,K=+K.port;var ne=new Ht(null);R&&ga(ne,R),v&&(ne.g=v),K&&ds(ne,K),T&&(ne.l=T),R=ne}return T=f.D,v=f.ya,T&&v&&vt(R,T,v),vt(R,"VER",f.la),ba(f,R),R}function nh(f,v,T){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new dt(new ms({eb:T})):new dt(f.pa),v.Ha(f.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ih(){}t=ih.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Eo(){}Eo.prototype.g=function(f,v){return new Nn(f,v)};function Nn(f,v){ct.call(this),this.g=new go(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!Z(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Z(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new tr(this)}A(Nn,ct),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){zl(this.g)},Nn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=$n(f),f=T);v.i.push(new Qn(v.Ya++,f)),v.G==3&&vo(v)},Nn.prototype.N=function(){this.g.l=null,delete this.j,zl(this.g),delete this.g,Nn.aa.N.call(this)};function rh(f){Pi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const T in v){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}A(rh,Pi);function sh(){cs.call(this),this.status=1}A(sh,cs);function tr(f){this.g=f}A(tr,ih),tr.prototype.ua=function(){Ke(this.g,"a")},tr.prototype.ta=function(f){Ke(this.g,new rh(f))},tr.prototype.sa=function(f){Ke(this.g,new sh)},tr.prototype.ra=function(){Ke(this.g,"b")},Eo.prototype.createWebChannel=Eo.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,tC=function(){return new Eo},eC=function(){return $i()},JR=Pn,iy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},we.NO_ERROR=0,we.TIMEOUT=8,we.HTTP_ERROR=6,Lf=we,Ve.COMPLETE="complete",ZR=Ve,ma.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",ct.prototype.listen=ct.prototype.K,qu=ma,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,WR=dt}).apply(typeof df<"u"?df:typeof self<"u"?self:typeof window<"u"?window:{});const FS="@firebase/firestore",HS="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cl="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new Ny("@firebase/firestore");function Xo(){return to.logLevel}function ve(t,...e){if(to.logLevel<=tt.DEBUG){const n=e.map(Rv);to.debug(`Firestore (${Cl}): ${t}`,...n)}}function ts(t,...e){if(to.logLevel<=tt.ERROR){const n=e.map(Rv);to.error(`Firestore (${Cl}): ${t}`,...n)}}function pl(t,...e){if(to.logLevel<=tt.WARN){const n=e.map(Rv);to.warn(`Firestore (${Cl}): ${t}`,...n)}}function Rv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nC(t,r,n)}function nC(t,e,n){let r=`FIRESTORE (${Cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ts(r),new Error(r)}function mt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||nC(e,a,r)}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rn.UNAUTHENTICATED))}shutdown(){}}class ak{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ok{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){mt(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let l=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Xr,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},h=d=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Xr)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string",31837,{l:r}),new iC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class lk{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uk{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new lk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ck{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){mt(this.o===void 0,3512);const r=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=hk(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function ry(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),a=e.codePointAt(n);if(r!==a){if(r<128&&a<128)return Ye(r,a);{const l=rC(),c=fk(l.encode(GS(t,n)),l.encode(GS(e,n)));return c!==0?c:Ye(r,a)}}n+=r>65535?2:1}return Ye(t.length,e.length)}function GS(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function fk(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ye(t[n],e[n]);return Ye(t.length,e.length)}function gl(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=-62135596800,$S=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*$S);return new Jt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<KS)throw new Ee(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$S}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-KS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Jt(0,0))}static max(){return new Fe(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="__name__";class lr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=lr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ye(e.length,n.length)}static compareSegments(e,n){const r=lr.isNumericId(e),a=lr.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?lr.extractNumericId(e).compare(lr.extractNumericId(n)):ry(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qs.fromString(e.substring(4,e.length-2))}}class At extends lr{construct(e,n,r){return new At(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new At(n)}static emptyPath(){return new At([])}}const dk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends lr{construct(e,n,r){return new yn(e,n,r)}static isValidIdentifier(e){return dk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YS}static keyField(){return new yn([YS])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new Ee(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new Ee(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ee(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(r+=h,a++):(l(),a++)}if(l(),c)throw new Ee(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(n)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(At.fromString(e))}static fromName(e){return new Ie(At.fromString(e).popFirst(5))}static empty(){return new Ie(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new At(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=-1;function mk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Fe.fromTimestamp(r===1e9?new Jt(n+1,0):new Jt(n,r));return new ea(a,Ie.empty(),e)}function pk(t){return new ea(t.readTime,t.key,_c)}class ea{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ea(Fe.min(),Ie.empty(),_c)}static max(){return new ea(Fe.max(),Ie.empty(),_c)}}function gk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==yk)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.reject(n)}static resolve(e){return new ce((n,r)=>{n(e)})}static reject(e){return new ce((n,r)=>{r(e)})}static waitFor(e){return new ce((n,r)=>{let a=0,l=0,c=!1;e.forEach(h=>{++a,h.next(()=>{++l,c&&l===a&&n()},d=>r(d))}),c=!0,l===a&&n()})}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next(a=>a?ce.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(e,n){return new ce((r,a)=>{const l=e.length,c=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next(y=>{c[p]=y,++h,h===l&&r(c)},y=>a(y))}})}static doWhile(e,n){return new ce((r,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):r()};l()})}}function _k(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Md.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=-1;function Pd(t){return t==null}function sd(t){return t===0&&1/t==-1/0}function Ek(t){return typeof t=="number"&&Number.isInteger(t)&&!sd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="";function Tk(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=QS(e)),e=Sk(t.get(n),e);return QS(e)}function Sk(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case aC:n+="";break;default:n+=l}}return n}function QS(t){return t+aC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ca(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mf(this.root,e,this.comparator,!0)}}class mf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??gn.RED,this.left=a??gn.EMPTY,this.right=l??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new gn(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return gn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WS(this.data.getIterator())}getIteratorFrom(e){return new WS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class WS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new ai([])}unionWith(e){let n=new en(yn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ai(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new lC("Invalid base64 string: "+l):l}}(e);return new vn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const wk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(t){if(mt(!!t,39018),typeof t=="string"){let e=0;const n=wk.exec(t);if(mt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(t.seconds),nanos:Ut(t.nanos)}}function Ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function na(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="server_timestamp",cC="__type__",hC="__previous_value__",fC="__local_write_time__";function Iv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[cC])===null||n===void 0?void 0:n.stringValue)===uC}function Od(t){const e=t.mapValue.fields[hC];return Iv(e)?Od(e):e}function Ec(t){const e=ta(t.mapValue.fields[fC].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n,r,a,l,c,h,d,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y}}const ad="(default)";class Tc{constructor(e,n){this.projectId=e,this.database=n||ad}static empty(){return new Tc("","")}get isDefaultDatabase(){return this.database===ad}isEqual(e){return e instanceof Tc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="__type__",Ak="__max__",pf={mapValue:{}},mC="__vector__",od="value";function ia(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iv(t)?4:Ck(t)?9007199254740991:Rk(t)?10:11:ke(28295,{value:t})}function _r(t,e){if(t===e)return!0;const n=ia(t);if(n!==ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ec(t).isEqual(Ec(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ta(a.timestampValue),h=ta(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return na(a.bytesValue).isEqual(na(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return Ut(a.geoPointValue.latitude)===Ut(l.geoPointValue.latitude)&&Ut(a.geoPointValue.longitude)===Ut(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Ut(a.integerValue)===Ut(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ut(a.doubleValue),h=Ut(l.doubleValue);return c===h?sd(c)===sd(h):isNaN(c)&&isNaN(h)}return!1}(t,e);case 9:return gl(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(XS(c)!==XS(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!_r(c[d],h[d])))return!1;return!0}(t,e);default:return ke(52216,{left:t})}}function Sc(t,e){return(t.values||[]).find(n=>_r(n,e))!==void 0}function yl(t,e){if(t===e)return 0;const n=ia(t),r=ia(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return function(l,c){const h=Ut(l.integerValue||l.doubleValue),d=Ut(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return ZS(t.timestampValue,e.timestampValue);case 4:return ZS(Ec(t),Ec(e));case 5:return ry(t.stringValue,e.stringValue);case 6:return function(l,c){const h=na(l),d=na(c);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const h=l.split("/"),d=c.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=Ye(h[p],d[p]);if(y!==0)return y}return Ye(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const h=Ye(Ut(l.latitude),Ut(c.latitude));return h!==0?h:Ye(Ut(l.longitude),Ut(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return JS(t.arrayValue,e.arrayValue);case 10:return function(l,c){var h,d,p,y;const _=l.fields||{},E=c.fields||{},w=(h=_[od])===null||h===void 0?void 0:h.arrayValue,A=(d=E[od])===null||d===void 0?void 0:d.arrayValue,D=Ye(((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return D!==0?D:JS(w,A)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===pf.mapValue&&c===pf.mapValue)return 0;if(l===pf.mapValue)return 1;if(c===pf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=c.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let _=0;_<d.length&&_<y.length;++_){const E=ry(d[_],y[_]);if(E!==0)return E;const w=yl(h[d[_]],p[y[_]]);if(w!==0)return w}return Ye(d.length,y.length)}(t.mapValue,e.mapValue);default:throw ke(23264,{Pe:n})}}function ZS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=ta(t),r=ta(e),a=Ye(n.seconds,r.seconds);return a!==0?a:Ye(n.nanos,r.nanos)}function JS(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=yl(n[a],r[a]);if(l)return l}return Ye(n.length,r.length)}function vl(t){return sy(t)}function sy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ta(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return na(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=sy(l);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${sy(n.fields[c])}`;return a+"}"}(t.mapValue):ke(61005,{value:t})}function kf(t){switch(ia(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Od(t);return e?16+kf(e):16;case 5:return 2*t.stringValue.length;case 6:return na(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+kf(l),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return ca(r.fields,(l,c)=>{a+=l.length+kf(c)}),a}(t.mapValue);default:throw ke(13486,{value:t})}}function ew(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ay(t){return!!t&&"integerValue"in t}function xv(t){return!!t&&"arrayValue"in t}function tw(t){return!!t&&"nullValue"in t}function nw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uf(t){return!!t&&"mapValue"in t}function Rk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[dC])===null||n===void 0?void 0:n.stringValue)===mC}function tc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ca(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ck(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Ak}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(n)}setAll(e){let n=yn.emptyPath(),r={},a=[];e.forEach((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}c?r[h.lastSegment()]=tc(c):a.push(h.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());Uf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Uf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){ca(n,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new qn(tc(this.value))}}function pC(t){const e=[];return ca(t.fields,(n,r)=>{const a=new yn([n]);if(Uf(r)){const l=pC(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,r,a,l,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Cn(e,0,Fe.min(),Fe.min(),Fe.min(),qn.empty(),0)}static newFoundDocument(e,n,r,a){return new Cn(e,1,n,Fe.min(),r,a,0)}static newNoDocument(e,n){return new Cn(e,2,n,Fe.min(),Fe.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Fe.min(),Fe.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.position=e,this.inclusive=n}}function iw(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?r=Ie.comparator(Ie.fromName(c.referenceValue),n.key):r=yl(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function rw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ik(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{}class $t extends gC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Dk(e,n,r):n==="array-contains"?new Ok(e,r):n==="in"?new Vk(e,r):n==="not-in"?new Nk(e,r):n==="array-contains-any"?new Lk(e,r):new $t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Mk(e,r):new Pk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yl(n,this.value)):n!==null&&ia(this.value)===ia(n)&&this.matchesComparison(yl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends gC{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new zi(e,n)}matches(e){return yC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function yC(t){return t.op==="and"}function vC(t){return xk(t)&&yC(t)}function xk(t){for(const e of t.filters)if(e instanceof zi)return!1;return!0}function oy(t){if(t instanceof $t)return t.field.canonicalString()+t.op.toString()+vl(t.value);if(vC(t))return t.filters.map(e=>oy(e)).join(",");{const e=t.filters.map(n=>oy(n)).join(",");return`${t.op}(${e})`}}function _C(t,e){return t instanceof $t?function(r,a){return a instanceof $t&&r.op===a.op&&r.field.isEqual(a.field)&&_r(r.value,a.value)}(t,e):t instanceof zi?function(r,a){return a instanceof zi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,h)=>l&&_C(c,a.filters[h]),!0):!1}(t,e):void ke(19439)}function EC(t){return t instanceof $t?function(n){return`${n.field.canonicalString()} ${n.op} ${vl(n.value)}`}(t):t instanceof zi?function(n){return n.op.toString()+" {"+n.getFilters().map(EC).join(" ,")+"}"}(t):"Filter"}class Dk extends $t{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mk extends $t{constructor(e,n){super(e,"in",n),this.keys=TC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Pk extends $t{constructor(e,n){super(e,"not-in",n),this.keys=TC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class Ok extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xv(n)&&Sc(n.arrayValue,this.value)}}class Vk extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sc(this.value.arrayValue,n)}}class Nk extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sc(this.value.arrayValue,n)}}class Lk extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n=null,r=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Ie=null}}function sw(t,e=null,n=[],r=[],a=null,l=null,c=null){return new kk(t,e,n,r,a,l,c)}function Dv(t){const e=He(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>oy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),Pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vl(r)).join(",")),e.Ie=n}return e.Ie}function Mv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ik(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_C(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rw(t.startAt,e.startAt)&&rw(t.endAt,e.endAt)}function ly(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n=null,r=[],a=[],l=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Uk(t,e,n,r,a,l,c,h){return new jc(t,e,n,r,a,l,c,h)}function Pv(t){return new jc(t)}function aw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SC(t){return t.collectionGroup!==null}function nc(t){const e=He(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new en(yn.comparator);return c.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new ud(l,r))}),n.has(yn.keyField().canonicalString())||e.Ee.push(new ud(yn.keyField(),r))}return e.Ee}function yr(t){const e=He(t);return e.de||(e.de=jk(e,nc(t))),e.de}function jk(t,e){if(t.limitType==="F")return sw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new ud(a.field,l)});const n=t.endAt?new ld(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ld(t.startAt.position,t.startAt.inclusive):null;return sw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function uy(t,e){const n=t.filters.concat([e]);return new jc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cy(t,e,n){return new jc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vd(t,e){return Mv(yr(t),yr(e))&&t.limitType===e.limitType}function wC(t){return`${Dv(yr(t))}|lt:${t.limitType}`}function Wo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>EC(a)).join(", ")}]`),Pd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>vl(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>vl(a)).join(",")),`Target(${r})`}(yr(t))}; limitType=${t.limitType})`}function Nd(t,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ie.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(t,e)&&function(r,a){for(const l of nc(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(c,h,d){const p=iw(c,h,d);return c.inclusive?p<=0:p<0}(r.startAt,nc(r),a)||r.endAt&&!function(c,h,d){const p=iw(c,h,d);return c.inclusive?p>=0:p>0}(r.endAt,nc(r),a))}(t,e)}function Bk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bC(t){return(e,n)=>{let r=!1;for(const a of nc(t)){const l=zk(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function zk(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(l,c,h){const d=c.data.field(l),p=h.data.field(l);return d!==null&&p!==null?yl(d,p):ke(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,(n,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return oC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=new Mt(Ie.comparator);function ns(){return Fk}const AC=new Mt(Ie.comparator);function Gu(...t){let e=AC;for(const n of t)e=e.insert(n.key,n);return e}function RC(t){let e=AC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ya(){return ic()}function CC(){return ic()}function ic(){return new ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const Hk=new Mt(Ie.comparator),qk=new en(Ie.comparator);function nt(...t){let e=qk;for(const n of t)e=e.add(n);return e}const Gk=new en(Ye);function Kk(){return Gk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function IC(t){return{integerValue:""+t}}function $k(t,e){return Ek(e)?IC(e):Ov(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(){this._=void 0}}function Yk(t,e,n){return t instanceof cd?function(a,l){const c={fields:{[cC]:{stringValue:uC},[fC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Iv(l)&&(l=Od(l)),l&&(c.fields[hC]=l),{mapValue:c}}(n,e):t instanceof wc?DC(t,e):t instanceof bc?MC(t,e):function(a,l){const c=xC(a,l),h=ow(c)+ow(a.Re);return ay(c)&&ay(a.Re)?IC(h):Ov(a.serializer,h)}(t,e)}function Qk(t,e,n){return t instanceof wc?DC(t,e):t instanceof bc?MC(t,e):n}function xC(t,e){return t instanceof hd?function(r){return ay(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class cd extends Ld{}class wc extends Ld{constructor(e){super(),this.elements=e}}function DC(t,e){const n=PC(e);for(const r of t.elements)n.some(a=>_r(a,r))||n.push(r);return{arrayValue:{values:n}}}class bc extends Ld{constructor(e){super(),this.elements=e}}function MC(t,e){let n=PC(e);for(const r of t.elements)n=n.filter(a=>!_r(a,r));return{arrayValue:{values:n}}}class hd extends Ld{constructor(e,n){super(),this.serializer=e,this.Re=n}}function ow(t){return Ut(t.integerValue||t.doubleValue)}function PC(t){return xv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Xk(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof wc&&a instanceof wc||r instanceof bc&&a instanceof bc?gl(r.elements,a.elements,_r):r instanceof hd&&a instanceof hd?_r(r.Re,a.Re):r instanceof cd&&a instanceof cd}(t.transform,e.transform)}class Wk{constructor(e,n){this.version=e,this.transformResults=n}}class ji{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ji}static exists(e){return new ji(void 0,e)}static updateTime(e){return new ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kd{}function OC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vv(t.key,ji.none()):new Bc(t.key,t.data,ji.none());{const n=t.data,r=qn.empty();let a=new en(yn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new ha(t.key,r,new ai(a.toArray()),ji.none())}}function Zk(t,e,n){t instanceof Bc?function(a,l,c){const h=a.value.clone(),d=uw(a.fieldTransforms,l,c.transformResults);h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(t,e,n):t instanceof ha?function(a,l,c){if(!jf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=uw(a.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(VC(a)),d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function rc(t,e,n,r){return t instanceof Bc?function(l,c,h,d){if(!jf(l.precondition,c))return h;const p=l.value.clone(),y=cw(l.fieldTransforms,d,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof ha?function(l,c,h,d){if(!jf(l.precondition,c))return h;const p=cw(l.fieldTransforms,d,c),y=c.data;return y.setAll(VC(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(l,c,h){return jf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(t,e,n)}function Jk(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=xC(r.transform,a||null);l!=null&&(n===null&&(n=qn.empty()),n.set(r.field,l))}return n||null}function lw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&gl(r,a,(l,c)=>Xk(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bc extends kd{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ha extends kd{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function VC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uw(t,e,n){const r=new Map;mt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);r.set(l.field,Qk(c,h,n[a]))}return r}function cw(t,e,n){const r=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);r.set(a.field,Yk(l,c,e))}return r}class Vv extends kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e9 extends kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Zk(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CC();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const d=OC(c,h);d!==null&&r.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nt())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,(n,r)=>lw(n,r))&&gl(this.baseMutations,e.baseMutations,(n,r)=>lw(n,r))}}class Nv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){mt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return Hk}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Nv(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,ot;function r9(t){switch(t){case he.OK:return ke(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function NC(t){if(t===void 0)return ts("GRPC error has no .code"),he.UNKNOWN;switch(t){case Kt.OK:return he.OK;case Kt.CANCELLED:return he.CANCELLED;case Kt.UNKNOWN:return he.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return he.INTERNAL;case Kt.UNAVAILABLE:return he.UNAVAILABLE;case Kt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Kt.NOT_FOUND:return he.NOT_FOUND;case Kt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Kt.ABORTED:return he.ABORTED;case Kt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Kt.DATA_LOSS:return he.DATA_LOSS;default:return ke(39323,{code:t})}}(ot=Kt||(Kt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=new Qs([4294967295,4294967295],0);function hw(t){const e=rC().encode(t),n=new XR;return n.update(e),new Uint8Array(n.digest())}function fw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Qs([n,r],0),new Qs([a,l],0)]}class Lv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ku(`Invalid padding: ${n}`);if(r<0)throw new Ku(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ku(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ku(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Qs.fromNumber(this.pe)}we(e,n,r){let a=e.add(n.multiply(Qs.fromNumber(r)));return a.compare(s9)===1&&(a=new Qs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=hw(e),[r,a]=fw(n);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);if(!this.Se(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Lv(l,a,n);return r.forEach(h=>c.insert(h)),c}insert(e){if(this.pe===0)return;const n=hw(e),[r,a]=fw(n);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ud(Fe.min(),a,new Mt(Ye),ns(),nt())}}class zc{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zc(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n,r,a){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=a}}class LC{constructor(e,n){this.targetId=e,this.Ce=n}}class kC{constructor(e,n,r=vn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class dw{constructor(){this.Fe=0,this.Me=mw(),this.xe=vn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=nt(),n=nt(),r=nt();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:ke(38017,{changeType:l})}}),new zc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=mw()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,mt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class a9{constructor(e){this.ze=e,this.je=new Map,this.He=ns(),this.Je=gf(),this.Ye=gf(),this.Ze=new Mt(Ye)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ke(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,a)=>{this.it(a)&&n(a)})}ot(e){const n=e.targetId,r=e.Ce.count,a=this._t(n);if(a){const l=a.target;if(ly(l))if(r===0){const c=new Ie(l.path);this.tt(n,c,Cn.newNoDocument(c,Fe.min()))}else mt(r===1,20013,{expectedCount:r});else{const c=this.ut(n);if(c!==r){const h=this.ct(e),d=h?this.lt(h,e,c):1;if(d!==0){this.st(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=na(r).toUint8Array()}catch(d){if(d instanceof lC)return pl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Lv(c,a,l)}catch(d){return pl(d instanceof Ku?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.pe===0?null:h}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const c=this.ze.Pt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.tt(n,l,null),a++)}),a}It(e){const n=new Map;this.je.forEach((l,c)=>{const h=this._t(c);if(h){if(l.current&&ly(h.target)){const d=new Ie(h.target.path);this.Et(d).has(c)||this.dt(c,d)||this.tt(c,d,Cn.newNoDocument(d,e))}l.Le&&(n.set(c,l.qe()),l.Qe())}});let r=nt();this.Ye.forEach((l,c)=>{let h=!0;c.forEachWhile(d=>{const p=this._t(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new Ud(e,n,this.Ze,this.He,r);return this.He=ns(),this.Je=gf(),this.Ye=gf(),this.Ze=new Mt(Ye),a}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new dw,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new en(Ye),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new en(Ye),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new dw),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function gf(){return new Mt(Ie.comparator)}function mw(){return new Mt(Ie.comparator)}const o9={asc:"ASCENDING",desc:"DESCENDING"},l9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u9={and:"AND",or:"OR"};class c9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hy(t,e){return t.useProto3Json||Pd(e)?e:{value:e}}function fd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function h9(t,e){return fd(t,e.toTimestamp())}function vr(t){return mt(!!t,49232),Fe.fromTimestamp(function(n){const r=ta(n);return new Jt(r.seconds,r.nanos)}(t))}function kv(t,e){return fy(t,e).canonicalString()}function fy(t,e){const n=function(a){return new At(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jC(t){const e=At.fromString(t);return mt(qC(e),10190,{key:e.toString()}),e}function dy(t,e){return kv(t.databaseId,e.path)}function Eg(t,e){const n=jC(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(zC(n))}function BC(t,e){return kv(t.databaseId,e)}function f9(t){const e=jC(t);return e.length===4?At.emptyPath():zC(e)}function my(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zC(t){return mt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function pw(t,e,n){return{name:dy(t,e),fields:n.value.mapValue.fields}}function d9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ke(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(mt(y===void 0||typeof y=="string",58123),vn.fromBase64String(y||"")):(mt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),vn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const y=p.code===void 0?he.UNKNOWN:NC(p.code);return new Ee(y,p.message||"")}(c);n=new kC(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Eg(t,r.document.name),l=vr(r.document.updateTime),c=r.document.createTime?vr(r.document.createTime):Fe.min(),h=new qn({mapValue:{fields:r.document.fields}}),d=Cn.newFoundDocument(a,l,c,h),p=r.targetIds||[],y=r.removedTargetIds||[];n=new Bf(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Eg(t,r.document),l=r.readTime?vr(r.readTime):Fe.min(),c=Cn.newNoDocument(a,l),h=r.removedTargetIds||[];n=new Bf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Eg(t,r.document),l=r.removedTargetIds||[];n=new Bf([],l,a,null)}else{if(!("filter"in e))return ke(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new i9(a,l),h=r.targetId;n=new LC(h,c)}}return n}function m9(t,e){let n;if(e instanceof Bc)n={update:pw(t,e.key,e.value)};else if(e instanceof Vv)n={delete:dy(t,e.key)};else if(e instanceof ha)n={update:pw(t,e.key,e.data),updateMask:w9(e.fieldMask)};else{if(!(e instanceof e9))return ke(16599,{ft:e.type});n={verify:dy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(l,c){const h=c.transform;if(h instanceof cd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof wc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof bc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof hd)return{fieldPath:c.field.canonicalString(),increment:h.Re};throw ke(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:h9(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ke(27497)}(t,e.precondition)),n}function p9(t,e){return t&&t.length>0?(mt(e!==void 0,14353),t.map(n=>function(a,l){let c=a.updateTime?vr(a.updateTime):vr(l);return c.isEqual(Fe.min())&&(c=vr(l)),new Wk(c,a.transformResults||[])}(n,e))):[]}function g9(t,e){return{documents:[BC(t,e.path)]}}function y9(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BC(t,a);const l=function(p){if(p.length!==0)return HC(zi.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:Zo(E.field),direction:E9(E.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=hy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:a}}function v9(t){let e=f9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){mt(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(_){const E=FC(_);return E instanceof zi&&vC(E)?E.getFilters():[E]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(E=>function(A){return new ud(Jo(A.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(E))}(n.orderBy));let h=null;n.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,Pd(E)?null:E}(n.limit));let d=null;n.startAt&&(d=function(_){const E=!!_.before,w=_.values||[];return new ld(w,E)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const E=!_.before,w=_.values||[];return new ld(w,E)}(n.endAt)),Uk(e,a,c,l,h,"F",d,p)}function _9(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jo(n.unaryFilter.field);return $t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Jo(n.unaryFilter.field);return $t.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Jo(n.unaryFilter.field);return $t.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Jo(n.unaryFilter.field);return $t.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}}(t):t.fieldFilter!==void 0?function(n){return $t.create(Jo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zi.create(n.compositeFilter.filters.map(r=>FC(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ke(1026)}}(n.compositeFilter.op))}(t):ke(30097,{filter:t})}function E9(t){return o9[t]}function T9(t){return l9[t]}function S9(t){return u9[t]}function Zo(t){return{fieldPath:t.canonicalString()}}function Jo(t){return yn.fromServerFormat(t.fieldPath)}function HC(t){return t instanceof $t?function(n){if(n.op==="=="){if(nw(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NAN"}};if(tw(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nw(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NAN"}};if(tw(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(n.field),op:T9(n.op),value:n.value}}}(t):t instanceof zi?function(n){const r=n.getFilters().map(a=>HC(a));return r.length===1?r[0]:{compositeFilter:{op:S9(n.op),filters:r}}}(t):ke(54877,{filter:t})}function w9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r,a,l=Fe.min(),c=Fe.min(),h=vn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.wt=e}}function A9(t){const e=v9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(){this.Cn=new C9}addToCollectionParentIndex(e,n){return this.Cn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(ea.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(ea.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class C9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new en(At.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new en(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GC=41943040;class Hn{static withCacheSize(e){return new Hn(e,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(GC,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new _l(0)}static lr(){return new _l(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="LruGarbageCollector",I9=1048576;function vw([t,e],[n,r]){const a=Ye(t,n);return a===0?Ye(e,r):a}class x9{constructor(e){this.Er=e,this.buffer=new en(vw),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();vw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class D9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ve(yw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xl(n)?ve(yw,"Ignoring IndexedDB error during garbage collection: ",n):await Il(n)}await this.mr(3e5)})}}class M9{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(Md.le);const r=new x9(n);return this.gr.forEachTarget(e,a=>r.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>r.Rr(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(gw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gw):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,a,l,c,h,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,n))).next(_=>(l=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Xo()<=tt.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function P9(t,e){return new M9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(){this.changes=new ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&rc(r.mutation,a,ai.empty(),Jt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=nt()){const a=Ya();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(l=>{let c=Gu();return l.forEach((h,d)=>{c=c.insert(h,d.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=Ya();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,nt()))}populateOverlays(e,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,h)=>{n.set(c,h)})})}computeViews(e,n,r,a){let l=ns();const c=ic(),h=function(){return ic()}();return n.forEach((d,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof ha)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),rc(y.mutation,p,y.mutation.getFieldMask(),Jt.now())):c.set(p.key,ai.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var _;return h.set(p,new V9(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,n){const r=ic();let a=new Mt((c,h)=>c-h),l=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const h of c)h.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let y=r.get(d)||ai.empty();y=h.applyToLocalView(p,y),r.set(d,y);const _=(a.get(h.batchId)||nt()).add(d);a=a.insert(h.batchId,_)})}).next(()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,_=CC();y.forEach(E=>{if(!l.has(E)){const w=OC(n.get(E),r.get(E));w!==null&&_.set(E,w),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ce.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):ce.resolve(Ya());let h=_c,d=l;return c.next(p=>ce.forEach(p,(y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(y)?ce.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{d=d.insert(y,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,d,p,nt())).next(y=>({batchId:h,changes:RC(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let a=Gu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let c=Gu();return this.indexManager.getCollectionParents(e,l).next(h=>ce.forEach(h,d=>{const p=function(_,E){return new jc(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(y=>{y.forEach((_,E)=>{c=c.insert(_,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a))).next(c=>{l.forEach((d,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,Cn.newInvalidDocument(y)))});let h=Gu();return c.forEach((d,p)=>{const y=l.get(d);y!==void 0&&rc(y.mutation,p,ai.empty(),Jt.now()),Nd(n,p)&&(h=h.insert(d,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ce.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:vr(a.createTime)}}(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(a){return{name:a.name,query:A9(a.bundledQuery),readTime:vr(a.readTime)}}(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.overlays=new Mt(Ie.comparator),this.Qr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ya();return ce.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,l)=>{this.bt(e,n,l)}),ce.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Qr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const a=Ya(),l=n.length+1,c=new Ie(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>r&&a.set(d.getKey(),d)}return ce.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new Mt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=Ya(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Ya(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,y)=>h.set(p,y)),!(h.size()>=a)););return ce.resolve(h)}bt(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(r.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new n9(n,r));let l=this.Qr.get(n);l===void 0&&(l=nt(),this.Qr.set(n,l)),this.Qr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(){this.$r=new en(on.Ur),this.Kr=new en(on.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new on(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new on(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Ie(new At([])),r=new on(n,e),a=new on(n,e+1),l=[];return this.Kr.forEachInRange([r,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ie(new At([])),r=new on(n,e),a=new on(n,e+1);let l=nt();return this.Kr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new on(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ie.comparator(e.key,n.key)||Ye(e.Zr,n.Zr)}static Wr(e,n){return Ye(e.Zr,n.Zr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new en(on.Ur)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new t9(l,n,r,a);this.mutationQueue.push(c);for(const h of a)this.Xr=this.Xr.add(new on(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,n){return ce.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ti(r),l=a<0?0:a;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Cv:this.nr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),a=new on(n,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([r,a],c=>{const h=this.ei(c.Zr);l.push(h)}),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new en(Ye);return n.forEach(a=>{const l=new on(a,0),c=new on(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],h=>{r=r.add(h.Zr)})}),ce.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;Ie.isDocumentKey(l)||(l=l.child(""));const c=new on(new Ie(l),0);let h=new en(Ye);return this.Xr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Zr)),!0)},c),ce.resolve(this.ni(h))}ni(e){const n=[];return e.forEach(r=>{const a=this.ei(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){mt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ce.forEach(n.mutations,a=>{const l=new on(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new on(n,0),a=this.Xr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){this.ii=e,this.docs=function(){return new Mt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=ns();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():Cn.newInvalidDocument(a))}),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=ns();const c=n.path,h=new Ie(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||gk(pk(y),r)<=0||(a.has(y.key)||Nd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ce.resolve(l)}getAllFromCollectionGroup(e,n,r,a){ke(9500)}si(e,n){return ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new z9(this)}getSize(e){return ce.resolve(this.size)}}class z9 extends O9{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Br.addEntry(e,a)):this.Br.removeEntry(r)}),ce.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e){this.persistence=e,this.oi=new ao(n=>Dv(n),Mv),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this._i=0,this.ai=new Uv,this.targetCount=0,this.ui=_l.cr()}forEachTarget(e,n){return this.oi.forEach((r,a)=>n(a)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ce.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new _l(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Tr(n),ce.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.oi.forEach((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),ce.waitFor(l).next(()=>a)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ce.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n){this.ci={},this.overlays={},this.li=new Md(0),this.hi=!1,this.hi=!0,this.Pi=new U9,this.referenceDelegate=e(this),this.Ti=new F9(this),this.indexManager=new R9,this.remoteDocumentCache=function(a){return new B9(a)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new b9(n),this.Ei=new L9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new k9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new j9(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const a=new H9(this.li.next());return this.referenceDelegate.di(),r(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,n){return ce.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class H9 extends vk{constructor(e){super(),this.currentSequenceNumber=e}}class jv{constructor(e){this.persistence=e,this.Vi=new Uv,this.mi=null}static fi(e){return new jv(e)}get gi(){if(this.mi)return this.mi;throw ke(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(a=>this.gi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.gi,r=>{const a=Ie.fromPath(r);return this.pi(e,a).next(l=>{l||n.removeEntry(a,Fe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ce.or([()=>ce.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class dd{constructor(e,n){this.persistence=e,this.yi=new ao(r=>Tk(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=P9(this,n)}static fi(e,n){return new dd(e,n)}di(){}Ai(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ce.forEach(this.yi,(r,a)=>this.Dr(e,r,a).next(l=>l?ce.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,c=>this.Dr(e,c,n).next(h=>{h||(r++,l.removeEntry(c,Fe.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ce.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kf(e.data.value)),n}Dr(e,n,r){return ce.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.yi.get(n);return ce.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.ds=r,this.As=a}static Rs(e,n){let r=nt(),a=nt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Bv(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return HM()?8:_k(xn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.ws(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Ss(e,n,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new q9;return this.bs(e,n,c).next(h=>{if(l.result=h,this.fs)return this.Ds(e,n,c,h.size)})}).next(()=>l.result)}Ds(e,n,r,a){return r.documentReadCount<this.gs?(Xo()<=tt.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ce.resolve()):(Xo()<=tt.DEBUG&&ve("QueryEngine","Query:",Wo(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ps*a?(Xo()<=tt.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):ce.resolve())}ws(e,n){if(aw(n))return ce.resolve(null);let r=yr(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=cy(n,null,"F"),r=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=nt(...l);return this.ys.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.vs(n,h);return this.Cs(n,p,c,d.readTime)?this.ws(e,cy(n,null,"F")):this.Fs(e,p,n,d)}))})))}Ss(e,n,r,a){return aw(n)||a.isEqual(Fe.min())?ce.resolve(null):this.ys.getDocuments(e,r).next(l=>{const c=this.vs(n,l);return this.Cs(n,c,r,a)?ce.resolve(null):(Xo()<=tt.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Wo(n)),this.Fs(e,c,n,mk(a,_c)).next(h=>h))})}vs(e,n){let r=new en(bC(e));return n.forEach((a,l)=>{Nd(e,l)&&(r=r.add(l))}),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}bs(e,n,r){return Xo()<=tt.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Wo(n)),this.ys.getDocumentsMatchingQuery(e,n,ea.min(),r)}Fs(e,n,r,a){return this.ys.getDocumentsMatchingQuery(e,r,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="LocalStore",K9=3e8;class $9{constructor(e,n,r,a){this.persistence=e,this.Ms=n,this.serializer=a,this.xs=new Mt(Ye),this.Os=new ao(l=>Dv(l),Mv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N9(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function Y9(t,e,n,r){return new $9(t,e,n,r)}async function $C(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],h=[];let d=nt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(r,d).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:h}))})})}function Q9(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=n.Bs.newChangeBuffer({trackRemovals:!0});return function(h,d,p,y){const _=p.batch,E=_.keys();let w=ce.resolve();return E.forEach(A=>{w=w.next(()=>y.getEntry(d,A)).next(D=>{const x=p.docVersions.get(A);mt(x!==null,48541),D.version.compareTo(x)<0&&(_.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),y.addEntry(D)))})}),w.next(()=>h.mutationQueue.removeMutationBatch(d,_))}(n,r,e,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=nt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function YC(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function X9(t,e){const n=He(t),r=e.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const h=[];e.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;h.push(n.Ti.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Ti.addMatchingKeys(l,y.addedDocuments,_)));let w=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(vn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,r)),a=a.insert(_,w),function(D,x,V){return D.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=K9?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(E,w,y)&&h.push(n.Ti.updateTargetData(l,w))});let d=ns(),p=nt();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),h.push(W9(l,c,e.documentUpdates).next(y=>{d=y.qs,p=y.Qs})),!r.isEqual(Fe.min())){const y=n.Ti.getLastRemoteSnapshotVersion(l).next(_=>n.Ti.setTargetsMetadata(l,l.currentSequenceNumber,r));h.push(y)}return ce.waitFor(h).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,d,p)).next(()=>d)}).then(l=>(n.xs=a,l))}function W9(t,e,n){let r=nt(),a=nt();return n.forEach(l=>r=r.add(l)),e.getEntries(t,r).next(l=>{let c=ns();return n.forEach((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Fe.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):ve(zv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)}),{qs:c,Qs:a}})}function Z9(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Cv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function J9(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Ti.getTargetData(r,e).next(l=>l?(a=l,ce.resolve(a)):n.Ti.allocateTargetId(r).next(c=>(a=new qs(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.xs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function py(t,e,n){const r=He(t),a=r.xs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!xl(c))throw c;ve(zv,`Failed to update sequence numbers for target ${e}: ${c}`)}r.xs=r.xs.remove(e),r.Os.delete(a.target)}function _w(t,e,n){const r=He(t);let a=Fe.min(),l=nt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(d,p,y){const _=He(d),E=_.Os.get(y);return E!==void 0?ce.resolve(_.xs.get(E)):_.Ti.getTargetData(p,y)}(r,c,yr(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(c,h.targetId).next(d=>{l=d})}).next(()=>r.Ms.getDocumentsMatchingQuery(c,e,n?a:Fe.min(),n?l:nt())).next(h=>(eU(r,Bk(e),h),{documents:h,$s:l})))}function eU(t,e,n){let r=t.Ns.get(e)||Fe.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),t.Ns.set(e,r)}class Ew{constructor(){this.activeTargetIds=Kk()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tU{constructor(){this.xo=new Ew,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Ew,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="ConnectivityMonitor";class Sw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ve(Tw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ve(Tw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf=null;function gy(){return yf===null?yf=function(){return 268435456+Math.round(2147483648*Math.random())}():yf++,"0x"+yf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="RestConnection",iU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rU{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${a}`,this.Go=this.databaseId.database===ad?`project_id=${r}`:`project_id=${r}&database_id=${a}`}zo(e,n,r,a,l){const c=gy(),h=this.jo(e,n.toUriEncodedString());ve(Tg,`Sending RPC '${e}' ${c}:`,h,r);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,a,l);const{host:p}=new URL(h),y=Ic(p);return this.Jo(e,h,d,r,y).then(_=>(ve(Tg,`Received RPC '${e}' ${c}: `,_),_),_=>{throw pl(Tg,`RPC '${e}' ${c} failed with error: `,_,"url: ",h,"request:",r),_})}Yo(e,n,r,a,l,c){return this.zo(e,n,r,a,l)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}jo(e,n){const r=iU[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class aU extends rU{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,l){const c=gy();return new Promise((h,d)=>{const p=new WR;p.setWithCredentials(!0),p.listenOnce(ZR.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Lf.NO_ERROR:const _=p.getResponseJson();ve(bn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),h(_);break;case Lf.TIMEOUT:ve(bn,`RPC '${e}' ${c} timed out`),d(new Ee(he.DEADLINE_EXCEEDED,"Request time out"));break;case Lf.HTTP_ERROR:const E=p.getStatus();if(ve(bn,`RPC '${e}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const A=w==null?void 0:w.error;if(A&&A.status&&A.message){const D=function(V){const Z=V.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(Z)>=0?Z:he.UNKNOWN}(A.status);d(new Ee(D,A.message))}else d(new Ee(he.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Ee(he.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ve(bn,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(a);ve(bn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,r,15)})}T_(e,n,r){const a=gy(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=tC(),h=eC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const y=l.join("");ve(bn,`Creating RPC '${e}' stream ${a}: ${y}`,d);const _=c.createWebChannel(y,d);let E=!1,w=!1;const A=new sU({Zo:x=>{w?ve(bn,`Not sending because RPC '${e}' stream ${a} is closed:`,x):(E||(ve(bn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),ve(bn,`RPC '${e}' stream ${a} sending:`,x),_.send(x))},Xo:()=>_.close()}),D=(x,V,Z)=>{x.listen(V,F=>{try{Z(F)}catch(ee){setTimeout(()=>{throw ee},0)}})};return D(_,qu.EventType.OPEN,()=>{w||(ve(bn,`RPC '${e}' stream ${a} transport opened.`),A.__())}),D(_,qu.EventType.CLOSE,()=>{w||(w=!0,ve(bn,`RPC '${e}' stream ${a} transport closed`),A.u_())}),D(_,qu.EventType.ERROR,x=>{w||(w=!0,pl(bn,`RPC '${e}' stream ${a} transport errored. Name:`,x.name,"Message:",x.message),A.u_(new Ee(he.UNAVAILABLE,"The operation could not be completed")))}),D(_,qu.EventType.MESSAGE,x=>{var V;if(!w){const Z=x.data[0];mt(!!Z,16349);const F=Z,ee=(F==null?void 0:F.error)||((V=F[0])===null||V===void 0?void 0:V.error);if(ee){ve(bn,`RPC '${e}' stream ${a} received error:`,ee);const te=ee.status;let j=function(I){const P=Kt[I];if(P!==void 0)return NC(P)}(te),M=ee.message;j===void 0&&(j=he.INTERNAL,M="Unknown error status: "+te+" with message "+ee.message),w=!0,A.u_(new Ee(j,M)),_.close()}else ve(bn,`RPC '${e}' stream ${a} received:`,Z),A.c_(Z)}}),D(h,JR.STAT_EVENT,x=>{x.stat===iy.PROXY?ve(bn,`RPC '${e}' stream ${a} detected buffering proxy`):x.stat===iy.NOPROXY&&ve(bn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{A.a_()},0),A}}function Sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t){return new c9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,r=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=a,this.d_=l,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),a=Math.max(0,n-r);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="PersistentStream";class XC{constructor(e,n,r,a,l,c,h,d){this.xi=e,this.y_=r,this.w_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new QC(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(ts(n.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.S_===n&&this.K_(r,a)},r=>{e(()=>{const a=new Ee(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(a)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{r(()=>this.W_(a))}),this.stream.onMessage(a=>{r(()=>++this.v_==1?this.z_(a):this.onNext(a))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ve(ww,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(ve(ww,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oU extends XC{constructor(e,n,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=d9(this.serializer,e),r=function(l){if(!("targetChange"in l))return Fe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Fe.min():c.readTime?vr(c.readTime):Fe.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=my(this.serializer),n.addTarget=function(l,c){let h;const d=c.target;if(h=ly(d)?{documents:g9(l,d)}:{query:y9(l,d).gt},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=UC(l,c.resumeToken);const p=hy(l,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(Fe.min())>0){h.readTime=fd(l,c.snapshotVersion.toTimestamp());const p=hy(l,c.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=_9(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=my(this.serializer),n.removeTarget=e,this.L_(n)}}class lU extends XC{constructor(e,n,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=p9(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=my(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>m9(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{}class cU extends uU{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.na=!1}ra(){if(this.na)throw new Ee(he.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,fy(n,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(he.UNKNOWN,l.toString())})}Yo(e,n,r,a,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Yo(e,fy(n,r),a,c,h,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ee(he.UNKNOWN,c.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class hU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(ts(n),this.oa=!1):ve("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="RemoteStore";class fU{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=l,this.Ea.No(c=>{r.enqueueAndForget(async()=>{oo(this)&&(ve(no,"Restarting streams for network reachability change."),await async function(d){const p=He(d);p.Ta.add(4),await Fc(p),p.da.set("Unknown"),p.Ta.delete(4),await Bd(p)}(this))})}),this.da=new hU(r,a)}}async function Bd(t){if(oo(t))for(const e of t.Ia)await e(!0)}async function Fc(t){for(const e of t.Ia)await e(!1)}function WC(t,e){const n=He(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),Gv(n)?qv(n):Dl(n).M_()&&Hv(n,e))}function Fv(t,e){const n=He(t),r=Dl(n);n.Pa.delete(e),r.M_()&&ZC(n,e),n.Pa.size===0&&(r.M_()?r.N_():oo(n)&&n.da.set("Unknown"))}function Hv(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dl(t).H_(e)}function ZC(t,e){t.Aa.Ke(e),Dl(t).J_(e)}function qv(t){t.Aa=new a9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Dl(t).start(),t.da._a()}function Gv(t){return oo(t)&&!Dl(t).F_()&&t.Pa.size>0}function oo(t){return He(t).Ta.size===0}function JC(t){t.Aa=void 0}async function dU(t){t.da.set("Online")}async function mU(t){t.Pa.forEach((e,n)=>{Hv(t,e)})}async function pU(t,e){JC(t),Gv(t)?(t.da.ca(e),qv(t)):t.da.set("Unknown")}async function gU(t,e,n){if(t.da.set("Online"),e instanceof kC&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Pa.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Pa.delete(h),a.Aa.removeTarget(h))}(t,e)}catch(r){ve(no,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await md(t,r)}else if(e instanceof Bf?t.Aa.Xe(e):e instanceof LC?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(Fe.min()))try{const r=await YC(t.localStore);n.compareTo(r)>=0&&await function(l,c){const h=l.Aa.It(c);return h.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Pa.get(p);y&&l.Pa.set(p,y.withResumeToken(d.resumeToken,c))}}),h.targetMismatches.forEach((d,p)=>{const y=l.Pa.get(d);if(!y)return;l.Pa.set(d,y.withResumeToken(vn.EMPTY_BYTE_STRING,y.snapshotVersion)),ZC(l,d);const _=new qs(y.target,d,p,y.sequenceNumber);Hv(l,_)}),l.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){ve(no,"Failed to raise snapshot:",r),await md(t,r)}}async function md(t,e,n){if(!xl(e))throw e;t.Ta.add(1),await Fc(t),t.da.set("Offline"),n||(n=()=>YC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve(no,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await Bd(t)})}function e2(t,e){return e().catch(n=>md(t,n,e))}async function zd(t){const e=He(t),n=ra(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Cv;for(;yU(e);)try{const a=await Z9(e.localStore,r);if(a===null){e.ha.length===0&&n.N_();break}r=a.batchId,vU(e,a)}catch(a){await md(e,a)}t2(e)&&n2(e)}function yU(t){return oo(t)&&t.ha.length<10}function vU(t,e){t.ha.push(e);const n=ra(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function t2(t){return oo(t)&&!ra(t).F_()&&t.ha.length>0}function n2(t){ra(t).start()}async function _U(t){ra(t).ta()}async function EU(t){const e=ra(t);for(const n of t.ha)e.Z_(n.mutations)}async function TU(t,e,n){const r=t.ha.shift(),a=Nv.from(r,e,n);await e2(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await zd(t)}async function SU(t,e){e&&ra(t).Y_&&await async function(r,a){if(function(c){return r9(c)&&c!==he.ABORTED}(a.code)){const l=r.ha.shift();ra(r).O_(),await e2(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await zd(r)}}(t,e),t2(t)&&n2(t)}async function bw(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),ve(no,"RemoteStore received new credentials");const r=oo(n);n.Ta.add(3),await Fc(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Bd(n)}async function wU(t,e){const n=He(t);e?(n.Ta.delete(2),await Bd(n)):e||(n.Ta.add(2),await Fc(n),n.da.set("Unknown"))}function Dl(t){return t.Ra||(t.Ra=function(n,r,a){const l=He(n);return l.ra(),new oU(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:dU.bind(null,t),n_:mU.bind(null,t),i_:pU.bind(null,t),j_:gU.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),Gv(t)?qv(t):t.da.set("Unknown")):(await t.Ra.stop(),JC(t))})),t.Ra}function ra(t){return t.Va||(t.Va=function(n,r,a){const l=He(n);return l.ra(),new lU(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:_U.bind(null,t),i_:SU.bind(null,t),X_:EU.bind(null,t),ea:TU.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await zd(t)):(await t.Va.stop(),t.ha.length>0&&(ve(no,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const c=Date.now()+r,h=new Kv(e,n,c,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $v(t,e){if(ts("AsyncQueue",`${e}: ${t}`),xl(t))return new Ee(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Gu(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.ma=new Mt(Ie.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):ke(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class El{constructor(e,n,r,a,l,c,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const c=[];return n.forEach(h=>{c.push({type:0,doc:h})}),new El(e,n,cl.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class AU{constructor(){this.queries=Rw(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const a=He(n),l=a.queries;a.queries=Rw(),l.forEach((c,h)=>{for(const d of h.ya)d.onError(r)})})(this,new Ee(he.ABORTED,"Firestore shutting down"))}}function Rw(){return new ao(t=>wC(t),Vd)}async function i2(t,e){const n=He(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.wa()&&e.Sa()&&(r=2):(l=new bU,r=e.Sa()?0:1);try{switch(r){case 0:l.pa=await n.onListen(a,!0);break;case 1:l.pa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=$v(c,`Initialization of query '${Wo(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ya.push(e),e.Da(n.onlineState),l.pa&&e.va(l.pa)&&Yv(n)}async function r2(t,e){const n=He(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const c=l.ya.indexOf(e);c>=0&&(l.ya.splice(c,1),l.ya.length===0?a=e.Sa()?0:1:!l.wa()&&e.Sa()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RU(t,e){const n=He(t);let r=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ya)h.va(a)&&(r=!0);c.pa=a}}r&&Yv(n)}function CU(t,e,n){const r=He(t),a=r.queries.get(e);if(a)for(const l of a.ya)l.onError(n);r.queries.delete(e)}function Yv(t){t.ba.forEach(e=>{e.next()})}var yy,Cw;(Cw=yy||(yy={})).Ca="default",Cw.Cache="cache";class s2{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new El(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==yy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.key=e}}class o2{constructor(e){this.key=e}}class IU{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=nt(),this.mutatedKeys=nt(),this.Ha=bC(e),this.Ja=new cl(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new Aw,a=n?n.Ja:this.Ja;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const E=a.get(y),w=Nd(this.query,_)?_:null,A=!!E&&this.mutatedKeys.has(E.key),D=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let x=!1;E&&w?E.data.isEqual(w.data)?A!==D&&(r.track({type:3,doc:w}),x=!0):this.eu(E,w)||(r.track({type:2,doc:w}),x=!0,(d&&this.Ha(w,d)>0||p&&this.Ha(w,p)<0)&&(h=!0)):!E&&w?(r.track({type:0,doc:w}),x=!0):E&&!w&&(r.track({type:1,doc:E}),x=!0,(d||p)&&(h=!0)),x&&(w?(c=c.add(w),l=D?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{Ja:c,Xa:r,Cs:h,mutatedKeys:l}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const c=e.Xa.ga();c.sort((y,_)=>function(w,A){const D=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Vt:x})}};return D(w)-D(A)}(y.type,_.type)||this.Ha(y.doc,_.doc)),this.tu(r),a=a!=null&&a;const h=n&&!a?this.nu():[],d=this.ja.size===0&&this.current&&!a?1:0,p=d!==this.za;return this.za=d,c.length!==0||p?{snapshot:new El(this.query,e.Ja,l,c,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:h}:{ru:h}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Aw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=nt(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new o2(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new a2(r))}),n}su(e){this.Ga=e.$s,this.ja=nt();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return El.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Qv="SyncEngine";class xU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DU{constructor(e){this.key=e,this._u=!1}}class MU{constructor(e,n,r,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.au={},this.uu=new ao(h=>wC(h),Vd),this.cu=new Map,this.lu=new Set,this.hu=new Mt(Ie.comparator),this.Pu=new Map,this.Tu=new Uv,this.Iu={},this.Eu=new Map,this.du=_l.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function PU(t,e,n=!0){const r=d2(t);let a;const l=r.uu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.ou()):a=await l2(r,e,n,!0),a}async function OU(t,e){const n=d2(t);await l2(n,e,!0,!1)}async function l2(t,e,n,r){const a=await J9(t.localStore,yr(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await VU(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&WC(t.remoteStore,a),h}async function VU(t,e,n,r,a){t.Ru=(_,E,w)=>async function(D,x,V,Z){let F=x.view.Za(V);F.Cs&&(F=await _w(D.localStore,x.query,!1).then(({documents:M})=>x.view.Za(M,F)));const ee=Z&&Z.targetChanges.get(x.targetId),te=Z&&Z.targetMismatches.get(x.targetId)!=null,j=x.view.applyChanges(F,D.isPrimaryClient,ee,te);return xw(D,x.targetId,j.ru),j.snapshot}(t,_,E,w);const l=await _w(t.localStore,e,!0),c=new IU(e,l.$s),h=c.Za(l.documents),d=zc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=c.applyChanges(h,t.isPrimaryClient,d);xw(t,n,p.ru);const y=new xU(e,n,c);return t.uu.set(e,y),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),p.snapshot}async function NU(t,e,n){const r=He(t),a=r.uu.get(e),l=r.cu.get(a.targetId);if(l.length>1)return r.cu.set(a.targetId,l.filter(c=>!Vd(c,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await py(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Fv(r.remoteStore,a.targetId),vy(r,a.targetId)}).catch(Il)):(vy(r,a.targetId),await py(r.localStore,a.targetId,!0))}async function LU(t,e){const n=He(t),r=n.uu.get(e),a=n.cu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Fv(n.remoteStore,r.targetId))}async function kU(t,e,n){const r=qU(t);try{const a=await function(c,h){const d=He(c),p=Jt.now(),y=h.reduce((w,A)=>w.add(A.key),nt());let _,E;return d.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=ns(),D=nt();return d.Bs.getEntries(w,y).next(x=>{A=x,A.forEach((V,Z)=>{Z.isValidDocument()||(D=D.add(V))})}).next(()=>d.localDocuments.getOverlayedDocuments(w,A)).next(x=>{_=x;const V=[];for(const Z of h){const F=Jk(Z,_.get(Z.key).overlayedDocument);F!=null&&V.push(new ha(Z.key,F,pC(F.value.mapValue),ji.exists(!0)))}return d.mutationQueue.addMutationBatch(w,p,V,h)}).next(x=>{E=x;const V=x.applyToLocalDocumentSet(_,D);return d.documentOverlayCache.saveOverlays(w,x.batchId,V)})}).then(()=>({batchId:E.batchId,changes:RC(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,h,d){let p=c.Iu[c.currentUser.toKey()];p||(p=new Mt(Ye)),p=p.insert(h,d),c.Iu[c.currentUser.toKey()]=p}(r,a.batchId,n),await Hc(r,a.changes),await zd(r.remoteStore)}catch(a){const l=$v(a,"Failed to persist write");n.reject(l)}}async function u2(t,e){const n=He(t);try{const r=await X9(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Pu.get(l);c&&(mt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c._u=!0:a.modifiedDocuments.size>0?mt(c._u,14607):a.removedDocuments.size>0&&(mt(c._u,42227),c._u=!1))}),await Hc(n,r,e)}catch(r){await Il(r)}}function Iw(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.uu.forEach((l,c)=>{const h=c.view.Da(e);h.snapshot&&a.push(h.snapshot)}),function(c,h){const d=He(c);d.onlineState=h;let p=!1;d.queries.forEach((y,_)=>{for(const E of _.ya)E.Da(h)&&(p=!0)}),p&&Yv(d)}(r.eventManager,e),a.length&&r.au.j_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UU(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Pu.get(e),l=a&&a.key;if(l){let c=new Mt(Ie.comparator);c=c.insert(l,Cn.newNoDocument(l,Fe.min()));const h=nt().add(l),d=new Ud(Fe.min(),new Map,new Mt(Ye),c,h);await u2(r,d),r.hu=r.hu.remove(l),r.Pu.delete(e),Xv(r)}else await py(r.localStore,e,!1).then(()=>vy(r,e,n)).catch(Il)}async function jU(t,e){const n=He(t),r=e.batch.batchId;try{const a=await Q9(n.localStore,e);h2(n,r,null),c2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hc(n,a)}catch(a){await Il(a)}}async function BU(t,e,n){const r=He(t);try{const a=await function(c,h){const d=He(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next(_=>(mt(_!==null,37113),y=_.keys(),d.mutationQueue.removeMutationBatch(p,_))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>d.localDocuments.getDocuments(p,y))})}(r.localStore,e);h2(r,e,n),c2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hc(r,a)}catch(a){await Il(a)}}function c2(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function h2(t,e,n){const r=He(t);let a=r.Iu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Iu[r.currentUser.toKey()]=a}}function vy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||f2(t,r)})}function f2(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(Fv(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),Xv(t))}function xw(t,e,n){for(const r of n)r instanceof a2?(t.Tu.addReference(r.key,e),zU(t,r)):r instanceof o2?(ve(Qv,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||f2(t,r.key)):ke(19791,{mu:r})}function zU(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(ve(Qv,"New document in limbo: "+n),t.lu.add(r),Xv(t))}function Xv(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new Ie(At.fromString(e)),r=t.du.next();t.Pu.set(r,new DU(n)),t.hu=t.hu.insert(n,r),WC(t.remoteStore,new qs(yr(Pv(n.path)),r,"TargetPurposeLimboResolution",Md.le))}}async function Hc(t,e,n){const r=He(t),a=[],l=[],c=[];r.uu.isEmpty()||(r.uu.forEach((h,d)=>{c.push(r.Ru(d,e,n).then(p=>{var y;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Bv.Rs(d.targetId,p);l.push(_)}}))}),await Promise.all(c),r.au.j_(a),await async function(d,p){const y=He(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ce.forEach(p,E=>ce.forEach(E.ds,w=>y.persistence.referenceDelegate.addReference(_,E.targetId,w)).next(()=>ce.forEach(E.As,w=>y.persistence.referenceDelegate.removeReference(_,E.targetId,w)))))}catch(_){if(!xl(_))throw _;ve(zv,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const w=y.xs.get(E),A=w.snapshotVersion,D=w.withLastLimboFreeSnapshotVersion(A);y.xs=y.xs.insert(E,D)}}}(r.localStore,l))}async function FU(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){ve(Qv,"User change. New user:",e.toKey());const r=await $C(n.localStore,e);n.currentUser=e,function(l,c){l.Eu.forEach(h=>{h.forEach(d=>{d.reject(new Ee(he.CANCELLED,c))})}),l.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hc(n,r.ks)}}function HU(t,e){const n=He(t),r=n.Pu.get(e);if(r&&r._u)return nt().add(r.key);{let a=nt();const l=n.cu.get(e);if(!l)return a;for(const c of l){const h=n.uu.get(c);a=a.unionWith(h.view.Ya)}return a}}function d2(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=u2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UU.bind(null,e),e.au.j_=RU.bind(null,e.eventManager),e.au.Vu=CU.bind(null,e.eventManager),e}function qU(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BU.bind(null,e),e}class pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jd(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return Y9(this.persistence,new G9,e.initialUser,this.serializer)}yu(e){return new KC(jv.fi,this.serializer)}pu(e){return new tU}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pd.provider={build:()=>new pd};class GU extends pd{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){mt(this.persistence.referenceDelegate instanceof dd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new D9(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new KC(r=>dd.fi(r,n),this.serializer)}}class _y{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Iw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FU.bind(null,this.syncEngine),await wU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AU}()}createDatastore(e){const n=jd(e.databaseInfo.databaseId),r=function(l){return new aU(l)}(e.databaseInfo);return function(l,c,h,d){return new cU(l,c,h,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,l,c,h){return new fU(r,a,l,c,h)}(this.localStore,this.datastore,e.asyncQueue,n=>Iw(this.syncEngine,n,0),function(){return Sw.C()?new Sw:new nU}())}createSyncEngine(e,n){return function(a,l,c,h,d,p,y){const _=new MU(a,l,c,h,d,p);return y&&(_.Au=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=He(a);ve(no,"RemoteStore shutting down."),l.Ta.add(5),await Fc(l),l.Ea.shutdown(),l.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_y.provider={build:()=>new _y};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="FirestoreClient";class KU{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Rn.UNAUTHENTICATED,this.clientId=sC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{ve(sa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(ve(sa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$v(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wg(t,e){t.asyncQueue.verifyOperationInProgress(),ve(sa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await $C(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Dw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $U(t);ve(sa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>bw(e.remoteStore,a)),t._onlineComponents=e}async function $U(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(sa,"Using user provided OfflineComponentProvider");try{await wg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===he.FAILED_PRECONDITION||a.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;pl("Error using user provided cache. Falling back to memory cache: "+n),await wg(t,new pd)}}else ve(sa,"Using default OfflineComponentProvider"),await wg(t,new GU(void 0));return t._offlineComponents}async function p2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(sa,"Using user provided OnlineComponentProvider"),await Dw(t,t._uninitializedComponentsProvider._online)):(ve(sa,"Using default OnlineComponentProvider"),await Dw(t,new _y))),t._onlineComponents}function YU(t){return p2(t).then(e=>e.syncEngine)}async function g2(t){const e=await p2(t),n=e.eventManager;return n.onListen=PU.bind(null,e.syncEngine),n.onUnlisten=NU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LU.bind(null,e.syncEngine),n}function QU(t,e,n={}){const r=new Xr;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,h,d,p){const y=new m2({next:E=>{y.Cu(),c.enqueueAndForget(()=>r2(l,_));const w=E.docs.has(h);!w&&E.fromCache?p.reject(new Ee(he.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&d&&d.source==="server"?p.reject(new Ee(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new s2(Pv(h.path),y,{includeMetadataChanges:!0,La:!0});return i2(l,_)}(await g2(t),t.asyncQueue,e,n,r)),r.promise}function XU(t,e,n={}){const r=new Xr;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,h,d,p){const y=new m2({next:E=>{y.Cu(),c.enqueueAndForget(()=>r2(l,_)),E.fromCache&&d.source==="server"?p.reject(new Ee(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new s2(h,y,{includeMetadataChanges:!0,La:!0});return i2(l,_)}(await g2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t,e,n){if(!n)throw new Ee(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WU(t,e,n,r){if(e===!0&&r===!0)throw new Ee(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Pw(t){if(!Ie.isDocumentKey(t))throw new Ee(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ow(t){if(Ie.isDocumentKey(t))throw new Ee(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function Er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fd(t);throw new Ee(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="firestore.googleapis.com",Vw=!0;class Nw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_2,this.ssl=Vw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Vw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I9)throw new Ee(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ee(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ee(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ee(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hd{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sk;switch(r.type){case"firstParty":return new uk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Mw.get(n);r&&(ve("ComponentProvider","Removing Datastore"),Mw.delete(n),r.terminate())}(this),Promise.resolve()}}function ZU(t,e,n,r={}){var a;t=Er(t,Hd);const l=Ic(e),c=t._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;l&&(Db(`https://${d}`),Mb("Firestore",!0)),c.host!==_2&&c.host!==d&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:d,ssl:l,emulatorOptions:r});if(!Wa(p,h)&&(t._setSettings(p),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=Rn.MOCK_USER;else{y=VM(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Ee(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Rn(E)}t._authCredentials=new ak(new iC(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ml(this.firestore,e,this._query)}}class Un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}}class Xs extends Ml{constructor(e,n,r){super(e,n,Pv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new Ie(e))}withConverter(e){return new Xs(this.firestore,e,this._path)}}function gd(t,e,...n){if(t=ln(t),v2("collection","path",e),t instanceof Hd){const r=At.fromString(e,...n);return Ow(r),new Xs(t,null,r)}{if(!(t instanceof Un||t instanceof Xs))throw new Ee(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return Ow(r),new Xs(t.firestore,null,r)}}function sc(t,e,...n){if(t=ln(t),arguments.length===1&&(e=sC.newId()),v2("doc","path",e),t instanceof Hd){const r=At.fromString(e,...n);return Pw(r),new Un(t,null,new Ie(r))}{if(!(t instanceof Un||t instanceof Xs))throw new Ee(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return Pw(r),new Un(t.firestore,t instanceof Xs?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="AsyncQueue";class kw{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new QC(this,"async_queue_retry"),this.ec=()=>{const r=Sg();r&&ve(Lw,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=Sg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Sg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new Xr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!xl(e))throw e;ve(Lw,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,ts("INTERNAL UNHANDLED ERROR: ",Uw(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const a=Kv.createAndSchedule(this,e,n,r,l=>this.oc(l));return this.Hu.push(a),a}nc(){this.Ju&&ke(47125,{_c:Uw(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function Uw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Pl extends Hd{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new kw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kw(e),this._firestoreClient=void 0,await e}}}function JU(t,e){const n=typeof t=="object"?t:Nb(),r=typeof t=="string"?t:ad,a=ky(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=PM("firestore");l&&ZU(a,...l)}return a}function Wv(t){if(t._terminated)throw new Ee(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||e5(t),t._firestoreClient}function e5(t){var e,n,r;const a=t._freezeSettings(),l=function(h,d,p,y){return new bk(h,d,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y2(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new KU(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tl(vn.fromBase64String(e))}catch(n){throw new Ee(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tl(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=/^__.*__$/;class n5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bc(e,this.data,n,this.fieldTransforms)}}class E2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ha(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function T2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{hc:t})}}class t0{constructor(e,n,r,a,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Pc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new t0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Tc({path:r,Ec:!1});return a.dc(e),a}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Tc({path:r,Ec:!1});return a.Pc(),a}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return yd(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(T2(this.hc)&&t5.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class i5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jd(e)}gc(e,n,r,a=!1){return new t0({hc:e,methodName:n,fc:r,path:yn.emptyPath(),Ec:!1,mc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function n0(t){const e=t._freezeSettings(),n=jd(t._databaseId);return new i5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function r5(t,e,n,r,a,l={}){const c=t.gc(l.merge||l.mergeFields?2:0,e,n,a);i0("Data must be an object, but it was:",c,r);const h=S2(r,c);let d,p;if(l.merge)d=new ai(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=Ey(e,_,n);if(!c.contains(E))throw new Ee(he.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);b2(y,E)||y.push(E)}d=new ai(y),p=c.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,p=c.fieldTransforms;return new n5(new qn(h),d,p)}class Gd extends Zv{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gd}}function s5(t,e,n,r){const a=t.gc(1,e,n);i0("Data must be an object, but it was:",a,r);const l=[],c=qn.empty();ca(r,(d,p)=>{const y=r0(e,d,n);p=ln(p);const _=a.Ac(y);if(p instanceof Gd)l.push(y);else{const E=qc(p,_);E!=null&&(l.push(y),c.set(y,E))}});const h=new ai(l);return new E2(c,h,a.fieldTransforms)}function a5(t,e,n,r,a,l){const c=t.gc(1,e,n),h=[Ey(e,r,n)],d=[a];if(l.length%2!=0)throw new Ee(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push(Ey(e,l[E])),d.push(l[E+1]);const p=[],y=qn.empty();for(let E=h.length-1;E>=0;--E)if(!b2(p,h[E])){const w=h[E];let A=d[E];A=ln(A);const D=c.Ac(w);if(A instanceof Gd)p.push(w);else{const x=qc(A,D);x!=null&&(p.push(w),y.set(w,x))}}const _=new ai(p);return new E2(y,_,c.fieldTransforms)}function o5(t,e,n,r=!1){return qc(n,t.gc(r?4:3,e))}function qc(t,e){if(w2(t=ln(t)))return i0("Unsupported field value:",e,t),S2(t,e);if(t instanceof Zv)return function(r,a){if(!T2(a.hc))throw a.Vc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Vc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const h of r){let d=qc(h,a.Rc(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}}(t,e)}return function(r,a){if((r=ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $k(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Jt.fromDate(r);return{timestampValue:fd(a.serializer,l)}}if(r instanceof Jt){const l=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fd(a.serializer,l)}}if(r instanceof Jv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Tl)return{bytesValue:UC(a.serializer,r._byteString)};if(r instanceof Un){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Vc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:kv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof e0)return function(c,h){return{mapValue:{fields:{[dC]:{stringValue:mC},[od]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw h.Vc("VectorValues must only contain numeric values.");return Ov(h.serializer,p)})}}}}}}(r,a);throw a.Vc(`Unsupported field value: ${Fd(r)}`)}(t,e)}function S2(t,e){const n={};return oC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(t,(r,a)=>{const l=qc(a,e.Ic(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function w2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Jt||t instanceof Jv||t instanceof Tl||t instanceof Un||t instanceof Zv||t instanceof e0)}function i0(t,e,n){if(!w2(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=Fd(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function Ey(t,e,n){if((e=ln(e))instanceof qd)return e._internalPath;if(typeof e=="string")return r0(t,e);throw yd("Field path arguments must be of type string or ",t,!1,void 0,n)}const l5=new RegExp("[~\\*/\\[\\]]");function r0(t,e,n){if(e.search(l5)>=0)throw yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qd(...e.split("."))._internalPath}catch{throw yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yd(t,e,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${r}`),c&&(d+=` in document ${a}`),d+=")"),new Ee(he.INVALID_ARGUMENT,h+t+d)}function b2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(s0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class u5 extends A2{data(){return super.data()}}function s0(t,e){return typeof e=="string"?r0(t,e):e instanceof qd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a0{}class h5 extends a0{}function Ty(t,e,...n){let r=[];e instanceof a0&&r.push(e),r=r.concat(n),function(l){const c=l.filter(d=>d instanceof o0).length,h=l.filter(d=>d instanceof Kd).length;if(c>1||c>0&&h>0)throw new Ee(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class Kd extends h5{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kd(e,n,r)}_apply(e){const n=this._parse(e);return R2(e._query,n),new Ml(e.firestore,e.converter,uy(e._query,n))}_parse(e){const n=n0(e.firestore);return function(l,c,h,d,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Ee(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Bw(_,y);const A=[];for(const D of _)A.push(jw(d,l,D));E={arrayValue:{values:A}}}else E=jw(d,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Bw(_,y),E=o5(h,c,_,y==="in"||y==="not-in");return $t.create(p,y,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sy(t,e,n){const r=e,a=s0("where",t);return Kd._create(a,r,n)}class o0 extends a0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new o0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let c=a;const h=l.getFlattenedFilters();for(const d of h)R2(c,d),c=uy(c,d)}(e._query,n),new Ml(e.firestore,e.converter,uy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jw(t,e,n){if(typeof(n=ln(n))=="string"){if(n==="")throw new Ee(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SC(e)&&n.indexOf("/")!==-1)throw new Ee(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(At.fromString(n));if(!Ie.isDocumentKey(r))throw new Ee(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ew(t,new Ie(r))}if(n instanceof Un)return ew(t,n._key);throw new Ee(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fd(n)}.`)}function Bw(t,e){if(!Array.isArray(t)||t.length===0)throw new Ee(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function R2(t,e){const n=function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ee(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class f5{convertValue(e,n="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ca(e,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(e){var n,r,a;const l=(a=(r=(n=e.fields)===null||n===void 0?void 0:n[od].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>Ut(c.doubleValue));return new e0(l)}convertGeoPoint(e){return new Jv(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Od(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){const n=ta(e);return new Jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=At.fromString(e);mt(qC(r),9688,{name:e});const a=new Tc(r.get(1),r.get(3)),l=new Ie(r.popFirst(5));return a.isEqual(n)||ts(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class C2 extends A2{constructor(e,n,r,a,l,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(s0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class zf extends C2{data(e={}){return super.data(e)}}class m5{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new $u(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zf(this._firestore,this._userDataWriter,r.key,r,new $u(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(h=>{const d=new zf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new $u(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const d=new zf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new $u(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:p5(h.type),doc:d,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function p5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t){t=Er(t,Un);const e=Er(t.firestore,Pl);return QU(Wv(e),t._key).then(n=>y5(e,t,n))}class I2 extends f5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,n)}}function vd(t){t=Er(t,Ml);const e=Er(t.firestore,Pl),n=Wv(e),r=new I2(e);return c5(t._query),XU(n,t._query).then(a=>new m5(e,r,t,a))}function x2(t,e,n){t=Er(t,Un);const r=Er(t.firestore,Pl),a=d5(t.converter,e);return l0(r,[r5(n0(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ji.none())])}function zw(t,e,n,...r){t=Er(t,Un);const a=Er(t.firestore,Pl),l=n0(a);let c;return c=typeof(e=ln(e))=="string"||e instanceof qd?a5(l,"updateDoc",t._key,e,n,r):s5(l,"updateDoc",t._key,e),l0(a,[c.toMutation(t._key,ji.exists(!0))])}function g5(t){return l0(Er(t.firestore,Pl),[new Vv(t._key,ji.none())])}function l0(t,e){return function(r,a){const l=new Xr;return r.asyncQueue.enqueueAndForget(async()=>kU(await YU(r),a,l)),l.promise}(Wv(t),e)}function y5(t,e,n){const r=n.docs.get(e._key),a=new I2(t);return new C2(t,a,e._key,r,new $u(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Cl=a})(Sl),hl(new Za("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),h=new Pl(new ok(r.getProvider("auth-internal")),new ck(c,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ee(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),Ys(FS,HS,e),Ys(FS,HS,"esm2017")})();const v5={apiKey:"AIzaSyB-AWQn0ccyLVgexcd6S_trsVTK_z0r4eY",authDomain:"aleandfafa.firebaseapp.com",databaseURL:"https://aleandfafa-default-rtdb.firebaseio.com",projectId:"aleandfafa",storageBucket:"aleandfafa.firebasestorage.app",messagingSenderId:"1081886995094",appId:"1:1081886995094:web:6a0cd89cb369ea538648b7",measurementId:"G-PRV70J0BXB"},D2=Vb(v5),ur=JU(D2),cr=_4(D2);function _5(){return ie.jsxs(Av.div,{initial:{scale:0},animate:{scale:1},className:"container",children:[ie.jsxs("div",{className:"logoApp",children:[ie.jsx("h2",{children:"SEAF"}),ie.jsx("h2",{children:"17"})]}),ie.jsxs("div",{className:"title",children:[ie.jsx("h1",{children:"Simple"}),ie.jsx("h1",{children:"Easy"}),ie.jsx("h1",{children:"And"}),ie.jsx("h1",{children:"Fast"}),ie.jsx("p",{children:"Simples, fcil e rpido!"})]}),ie.jsxs("div",{className:"container-buttons",children:[ie.jsx(fl,{to:"/login",className:"btn",children:"Login"}),ie.jsx(fl,{to:"/singup",className:"btn sing-up",children:"Sign up"})]})]})}var M2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Fw=Gs.createContext&&Gs.createContext(M2),E5=["attr","size","title"];function T5(t,e){if(t==null)return{};var n=S5(t,e),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)r=l[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S5(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_d.apply(this,arguments)}function Hw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hw(Object(n),!0).forEach(function(r){w5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w5(t,e,n){return e=b5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b5(t){var e=A5(t,"string");return typeof e=="symbol"?e:e+""}function A5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P2(t){return t&&t.map((e,n)=>Gs.createElement(e.tag,Ed({key:n},e.attr),P2(e.child)))}function Kn(t){return e=>Gs.createElement(R5,_d({attr:Ed({},t.attr)},e),P2(t.child))}function R5(t){var e=n=>{var{attr:r,size:a,title:l}=t,c=T5(t,E5),h=a||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),Gs.createElement("svg",_d({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:d,style:Ed(Ed({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&Gs.createElement("title",null,l),t.children)};return Fw!==void 0?Gs.createElement(Fw.Consumer,null,n=>e(n)):e(M2)}function C5(t){return Kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224h-64v64a16 16 0 0 1-32 0v-64h-64a16 16 0 0 1 0-32h64v-64a16 16 0 0 1 32 0v64h64a16 16 0 0 1 0 32z"},child:[]}]})(t)}function I5(t){return Kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"176",cy:"416",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"400",cy:"416",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M48 80h64l48 272h256"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M160 288h249.44a8 8 0 0 0 7.85-6.43l28.8-144a8 8 0 0 0-7.85-9.57H128"},child:[]}]})(t)}function O2(t){return Kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M416 128 192 384l-96-96"},child:[]}]})(t)}function V2(t){return Kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(t)}function x5(t){return Kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m184 112 144 144-144 144"},child:[]}]})(t)}function D5(t){return Kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M419.1 337.45a3.94 3.94 0 0 0-6.1 0c-10.5 12.4-45 46.55-45 77.66 0 27 21.5 48.89 48 48.89s48-22 48-48.89c0-31.11-34.3-65.26-44.9-77.66zM387 287.9 155.61 58.36a36 36 0 0 0-51 0l-5.15 5.15a36 36 0 0 0 0 51l52.89 52.89 57-57L56.33 263.2a28 28 0 0 0 .3 40l131.2 126a28.05 28.05 0 0 0 38.9-.1c37.8-36.6 118.3-114.5 126.7-122.9 5.8-5.8 18.2-7.1 28.7-7.1h.3a6.53 6.53 0 0 0 4.57-11.2z"},child:[]}]})(t)}function M5(t){return Kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448zM248 315.85l-51.79-51.79a2 2 0 0 0-3.39 1.69 64.11 64.11 0 0 0 53.49 53.49 2 2 0 0 0 1.69-3.39zm16-119.7L315.87 248a2 2 0 0 0 3.4-1.69 64.13 64.13 0 0 0-53.55-53.55 2 2 0 0 0-1.72 3.39z"},child:[]},{tag:"path",attr:{d:"M491 273.36a32.2 32.2 0 0 0-.1-34.76c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.68 96a226.54 226.54 0 0 0-71.82 11.79 4 4 0 0 0-1.56 6.63l47.24 47.24a4 4 0 0 0 3.82 1.05 96 96 0 0 1 116 116 4 4 0 0 0 1.05 3.81l67.95 68a4 4 0 0 0 5.4.24 343.81 343.81 0 0 0 67.24-77.4zM256 352a96 96 0 0 1-93.3-118.63 4 4 0 0 0-1.05-3.81l-66.84-66.87a4 4 0 0 0-5.41-.23c-24.39 20.81-47 46.13-67.67 75.72a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.39 76.14 98.28 100.65C162.06 402 207.92 416 255.68 416a238.22 238.22 0 0 0 72.64-11.55 4 4 0 0 0 1.61-6.64l-47.47-47.46a4 4 0 0 0-3.81-1.05A96 96 0 0 1 256 352z"},child:[]}]})(t)}function P5(t){return Kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"256",r:"64"},child:[]},{tag:"path",attr:{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96c-42.52 0-84.33 12.15-124.27 36.11-40.73 24.43-77.63 60.12-109.68 106.07a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416c46.71 0 93.81-14.43 136.2-41.72 38.46-24.77 72.72-59.66 99.08-100.92a32.2 32.2 0 0 0-.1-34.76zM256 352a96 96 0 1 1 96-96 96.11 96.11 0 0 1-96 96z"},child:[]}]})(t)}function O5(t){return Kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M322 416c0 35.35-20.65 64-56 64H134c-35.35 0-56-28.65-56-64m258-80c17.67 0 32 17.91 32 40h0c0 22.09-14.33 40-32 40H64c-17.67 0-32-17.91-32-40h0c0-22.09 14.33-40 32-40"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M344 336H179.31a8 8 0 0 0-5.65 2.34l-26.83 26.83a4 4 0 0 1-5.66 0l-26.83-26.83a8 8 0 0 0-5.65-2.34H56a24 24 0 0 1-24-24h0a24 24 0 0 1 24-24h288a24 24 0 0 1 24 24h0a24 24 0 0 1-24 24zM64 276v-.22c0-55 45-83.78 100-83.78h72c55 0 100 29 100 84v-.22M241 112l7.44 63.97"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 480h139.31a32 32 0 0 0 31.91-29.61L463 112"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m368 112 16-64 47-16"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M224 112h256"},child:[]}]})(t)}function V5(t){return Kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M424 80H88a56.06 56.06 0 0 0-56 56v240a56.06 56.06 0 0 0 56 56h336a56.06 56.06 0 0 0 56-56V136a56.06 56.06 0 0 0-56-56zm-14.18 92.63-144 112a16 16 0 0 1-19.64 0l-144-112a16 16 0 1 1 19.64-25.26L256 251.73l134.18-104.36a16 16 0 0 1 19.64 25.26z"},child:[]}]})(t)}function N2(t){return Kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M351.9 256 460 193.6l-48-83.2-108 62.4V48h-96v124.8l-108-62.4-48 83.2L160.1 256 52 318.4l48 83.2 108-62.4V464h96V339.2l108 62.4 48-83.2L351.9 256z"},child:[]}]})(t)}function N5(t){return Kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M368 415.86V72a24.07 24.07 0 0 0-24-24H72a24.07 24.07 0 0 0-24 24v352a40.12 40.12 0 0 0 40 40h328"},child:[]},{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M416 464a48 48 0 0 1-48-48V128h72a24 24 0 0 1 24 24v264a48 48 0 0 1-48 48z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M240 128h64m-64 64h64m-192 64h192m-192 64h192m-192 64h192"},child:[]},{tag:"path",attr:{d:"M176 208h-64a16 16 0 0 1-16-16v-64a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v64a16 16 0 0 1-16 16z"},child:[]}]})(t)}function Td(t){return Kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.64 64.58C313.18 43.57 286 32 256 32c-30.16 0-57.43 11.5-76.8 32.38-19.58 21.11-29.12 49.8-26.88 80.78C156.76 206.28 203.27 256 256 256s99.16-49.71 103.67-110.82c2.27-30.7-7.33-59.33-27.03-80.6zM432 480H80a31 31 0 0 1-24.2-11.13c-6.5-7.77-9.12-18.38-7.18-29.11C57.06 392.94 83.4 353.61 124.8 326c36.78-24.51 83.37-38 131.2-38s94.42 13.5 131.2 38c41.4 27.6 67.74 66.93 76.18 113.75 1.94 10.73-.68 21.34-7.18 29.11A31 31 0 0 1 432 480z"},child:[]}]})(t)}function L5(t){return Kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"m57.49 47.74 368.43 368.43a37.28 37.28 0 0 1 0 52.72 37.29 37.29 0 0 1-52.72 0l-90-91.55a32 32 0 0 1-9.2-22.43v-5.53a32 32 0 0 0-9.52-22.78l-11.62-10.73a32 32 0 0 0-29.8-7.44 48.53 48.53 0 0 1-46.56-12.63l-85.43-85.44C40.39 159.68 21.74 83.15 57.49 47.74z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m400 32-77.25 77.25A64 64 0 0 0 304 154.51v14.86a16 16 0 0 1-4.69 11.32L288 192m32 32 11.31-11.31a16 16 0 0 1 11.32-4.69h14.86a64 64 0 0 0 45.26-18.75L480 112m-40-40-80 80M200 368l-99.72 100.28a40 40 0 0 1-56.56 0h0a40 40 0 0 1 0-56.56L128 328"},child:[]}]})(t)}function k5({children:t,onClick:e,to:n,icon:r}){const a=aa();function l(c){e&&e(c),n&&a(n)}return ie.jsx("div",{onClick:l,children:ie.jsxs("div",{className:"container-item",children:[ie.jsx("div",{className:"item-icon",children:r}),ie.jsx("h3",{style:{fontSize:"15px",fontWeight:"300"},children:t})]})})}const Uu={color:"white",fontSize:"2rem"},U5=[{categoria:"Buy",icon:ie.jsx(I5,{style:Uu}),to:"/buy"},{categoria:"Snack",icon:ie.jsx(O5,{style:Uu}),to:"/snack"},{categoria:"Market",icon:ie.jsx(L5,{style:Uu}),to:"/market"},{categoria:"Fuel",icon:ie.jsx(D5,{style:Uu}),to:"/fuel"},{categoria:"List",icon:ie.jsx(N5,{style:Uu}),to:"/list"}];function L2(){var y,_;const[t,e]=z.useState({}),[n,r]=z.useState(!1),[a,l]=z.useState([]),c=aa();async function h(){try{lA(cr,async E=>{if(E){const w=sc(ur,"users",E.uid),A=await wy(w);e(A.data())}})}catch(E){console.log(E)}}function d(){r(!0)}async function p(){lV(cr),setTimeout(()=>{c("/")},1500)}return z.useEffect(()=>{h()},[]),n?ie.jsxs("div",{style:{padding:"20px"},children:[ie.jsx(V2,{onClick:()=>r(!1),style:{fontSize:"2rem"}}),ie.jsxs("div",{style:{justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column"},children:[ie.jsx("div",{className:"avatar",children:ie.jsx(Td,{style:{color:"white",fontSize:"40px"}})}),ie.jsx("h3",{style:{fontWeight:"300"},children:(y=t.name)==null?void 0:y.toUpperCase()})]}),ie.jsx("button",{onClick:p,children:"sair"})]}):ie.jsxs("div",{className:"container-account",children:[ie.jsxs("div",{className:"header",children:[ie.jsx("div",{className:"avatar",children:ie.jsx(Td,{style:{color:"white",fontSize:"40px"}})}),ie.jsxs("div",{className:"container-name",children:[ie.jsx("h3",{children:"Ol!"}),ie.jsx("h3",{style:{fontSize:"1.3rem"},children:(_=t.name)==null?void 0:_.toUpperCase()})]}),ie.jsx(x5,{className:"forward",onClick:d})]}),ie.jsxs("div",{className:"container-menu",children:[ie.jsx("p",{children:"Menu"}),ie.jsx("div",{className:"categorias",children:ie.jsx("div",{className:"menu",children:U5.map((E,w)=>ie.jsx(k5,{icon:E.icon,to:E.to,children:E.categoria},w))})})]})]})}function j5(){const[t,e]=z.useState(!1);return lA(cr,n=>{n?e(!0):console.log("Offline")}),t?ie.jsx(L2,{}):ie.jsx(_5,{})}function u0({to:t,children:e,onClick:n,...r}){const a=aa(),l=c=>{n&&n(c),t&&a(t)};return ie.jsxs("div",{...r,children:[ie.jsx(V2,{className:"icon",onClick:l}),e]})}function ac({placeholder:t,icon:e,i:n=!1,c:r=!1,numericPassword:a=!1,...l}){const[c,h]=z.useState(!1);return ie.jsx("div",{className:"container-component-input",children:ie.jsxs("div",{className:"container-input-icon",children:[e&&ie.jsx(e,{className:"icon-icon"}),ie.jsx("input",{...l,type:"text",inputMode:a?"numeric":void 0,pattern:a?"[0-9]*":void 0,maxLength:a?6:void 0,style:a&&c==!1?{WebkitTextSecurity:"disc"}:void 0,placeholder:t}),n?c==!1?ie.jsx(P5,{className:"see",onClick:()=>h(!0)}):ie.jsx(M5,{className:"see",onClick:()=>h(!1)}):void 0,r==!0?ie.jsx(O2,{className:"check"}):void 0]})})}function k2({children:t}){return ie.jsxs("div",{className:"container-welcome",children:[ie.jsx(O2,{className:"icon"}),t]})}function B5(){const[t,e]=z.useState(""),[n,r]=z.useState(""),[a,l]=z.useState(!1),[c,h]=z.useState({}),d="users",p=aa();function y(){const A={};return t||(A.nickname="Porfavor, digite seu name!"),n||(A.password="Porfavor, digite sua senha!"),h(A),Object.keys(A).length===0}async function _(){const A=gd(ur,d),D=Ty(A,Sy("name","==",t.toLowerCase()));return!(await vd(D)).empty}async function E(){if(await _()){const D=gd(ur,d),x=Ty(D,Sy("name","==",t.toLowerCase()));return await(await vd(x)).docs[0].data().email}}async function w(){if(!y())return;if(!await _()){alert("Usario no encontrado!");return}const D=await E();try{await sV(cr,D,n),l(!0)}catch(x){alert("Nome ou senha incorreta!"),console.error(x)}}return z.useEffect(()=>{if(a){const A=setTimeout(()=>{p("/account")},2e3);return()=>clearTimeout(A)}},[a,p]),a?ie.jsx(k2,{children:"Welcome, back!"}):ie.jsxs(Av.div,{initial:{scale:0},animate:{scale:1},className:"container-login",children:[ie.jsxs(u0,{className:"container-btnBk",to:"/",children:[ie.jsx("h2",{children:"Welcome"}),ie.jsx("h2",{children:"Back"})]}),ie.jsxs("div",{className:"container-input",children:[ie.jsx(ac,{type:"text",placeholder:"Name",value:t,icon:Td,onChange:A=>e(A.target.value)}),c.nickname&&ie.jsx("p",{style:{color:"red"},children:c.nickname}),ie.jsx(ac,{value:n,onChange:A=>r(A.target.value),pattern:"[0-9]*",maxLength:4,inputMode:"numeric",style:{WebkitTextSecurity:"disc"},type:"password",placeholder:"Password",icon:N2,numericPassword:!0,i:!0}),c.password&&ie.jsx("p",{style:{color:"red"},children:c.password})]}),ie.jsx("h3",{children:"Forgot password?"}),ie.jsxs("div",{className:"container-btns-login-singup",style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"10%"},children:[ie.jsx(fl,{className:"btn",onClick:w,children:"Login"}),ie.jsxs("div",{style:{display:"flex",width:"70%",gap:"5%",justifyContent:"center",alignItems:"center",margin:"2%"},children:[ie.jsx("hr",{style:{border:"none",width:"110px",height:"1px",backgroundColor:"black"}}),"OR",ie.jsx("hr",{style:{border:"none",width:"110px",height:"1px",backgroundColor:"black"}})]}),ie.jsx(fl,{className:"btn sing-up",to:"/singup",children:"Sing up"})]})]})}var vf={exports:{}},_f={exports:{}},qw;function $d(){return qw||(qw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r==null)throw new TypeError("Expected a string but received a ".concat(r));if(r.constructor.name!=="String")throw new TypeError("Expected a string but received a ".concat(r.constructor.name))}t.exports=e.default,t.exports.default=e.default}(_f,_f.exports)),_f.exports}var Ef={exports:{}},Gw;function z5(){return Gw||(Gw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function n(a){return Object.prototype.toString.call(a)==="[object RegExp]"}function r(a,l){for(var c=0;c<l.length;c++){var h=l[c];if(a===h||n(h)&&h.test(a))return!0}return!1}t.exports=e.default,t.exports.default=e.default}(Ef,Ef.exports)),Ef.exports}var Tf={exports:{}},Kw;function F5(){return Kw||(Kw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=r($d());function r(c){return c&&c.__esModule?c:{default:c}}function a(c){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},a(c)}function l(c,h){(0,n.default)(c);var d,p;a(h)==="object"?(d=h.min||0,p=h.max):(d=arguments[1],p=arguments[2]);var y=encodeURI(c).split(/%..|./).length-1;return y>=d&&(typeof p>"u"||y<=p)}t.exports=e.default,t.exports.default=e.default}(Tf,Tf.exports)),Tf.exports}var Sf={exports:{}},wf={exports:{}},$w;function U2(){return $w||($w=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;for(var l in a)typeof r[l]>"u"&&(r[l]=a[l]);return r}t.exports=e.default,t.exports.default=e.default}(wf,wf.exports)),wf.exports}var Yw;function H5(){return Yw||(Yw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var n=a($d()),r=a(U2());function a(h){return h&&h.__esModule?h:{default:h}}var l={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function c(h,d){(0,n.default)(h),d=(0,r.default)(d,l),d.allow_trailing_dot&&h[h.length-1]==="."&&(h=h.substring(0,h.length-1)),d.allow_wildcard===!0&&h.indexOf("*.")===0&&(h=h.substring(2));var p=h.split("."),y=p[p.length-1];return d.require_tld&&(p.length<2||!d.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(y)||/\s/.test(y))||!d.allow_numeric_tld&&/^\d+$/.test(y)?!1:p.every(function(_){return!(_.length>63&&!d.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(_)||/[\uff01-\uff5e]/.test(_)||/^-|-$/.test(_)||!d.allow_underscores&&/_/.test(_))})}t.exports=e.default,t.exports.default=e.default}(Sf,Sf.exports)),Sf.exports}var bf={exports:{}},Qw;function q5(){return Qw||(Qw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=y;var n=r($d());function r(_){return _&&_.__esModule?_:{default:_}}function a(_){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},a(_)}var l="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",c="(".concat(l,"[.]){3}").concat(l),h=new RegExp("^".concat(c,"$")),d="(?:[0-9a-fA-F]{1,4})",p=new RegExp("^("+"(?:".concat(d,":){7}(?:").concat(d,"|:)|")+"(?:".concat(d,":){6}(?:").concat(c,"|:").concat(d,"|:)|")+"(?:".concat(d,":){5}(?::").concat(c,"|(:").concat(d,"){1,2}|:)|")+"(?:".concat(d,":){4}(?:(:").concat(d,"){0,1}:").concat(c,"|(:").concat(d,"){1,3}|:)|")+"(?:".concat(d,":){3}(?:(:").concat(d,"){0,2}:").concat(c,"|(:").concat(d,"){1,4}|:)|")+"(?:".concat(d,":){2}(?:(:").concat(d,"){0,3}:").concat(c,"|(:").concat(d,"){1,5}|:)|")+"(?:".concat(d,":){1}(?:(:").concat(d,"){0,4}:").concat(c,"|(:").concat(d,"){1,6}|:)|")+"(?::((?::".concat(d,"){0,5}:").concat(c,"|(?::").concat(d,"){1,7}|:))")+")(%[0-9a-zA-Z.]{1,})?$");function y(_){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,n.default)(_);var w=(a(E)==="object"?E.version:arguments[1])||"";return w?w.toString()==="4"?h.test(_):w.toString()==="6"?p.test(_):!1:y(_,{version:4})||y(_,{version:6})}t.exports=e.default,t.exports.default=e.default}(bf,bf.exports)),bf.exports}var Xw;function G5(){return Xw||(Xw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Z;var n=d($d()),r=d(z5()),a=d(F5()),l=d(H5()),c=d(q5()),h=d(U2());function d(F){return F&&F.__esModule?F:{default:F}}var p={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},y=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,_=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,E=/^[a-z\d]+$/,w=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,A=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,D=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,x=254;function V(F){var ee=F.replace(/^"(.+)"$/,"$1");if(!ee.trim())return!1;var te=/[\.";<>]/.test(ee);if(te){if(ee===F)return!1;var j=ee.split('"').length===ee.split('\\"').length;if(!j)return!1}return!0}function Z(F,ee){if((0,n.default)(F),ee=(0,h.default)(ee,p),ee.require_display_name||ee.allow_display_name){var te=F.match(y);if(te){var j=te[1];if(F=F.replace(j,"").replace(/(^<|>$)/g,""),j.endsWith(" ")&&(j=j.slice(0,-1)),!V(j))return!1}else if(ee.require_display_name)return!1}if(!ee.ignore_max_length&&F.length>x)return!1;var M=F.split("@"),C=M.pop(),I=C.toLowerCase();if(ee.host_blacklist.length>0&&(0,r.default)(I,ee.host_blacklist)||ee.host_whitelist.length>0&&!(0,r.default)(I,ee.host_whitelist))return!1;var P=M.join("@");if(ee.domain_specific_validation&&(I==="gmail.com"||I==="googlemail.com")){P=P.toLowerCase();var U=P.split("+")[0];if(!(0,a.default)(U.replace(/\./g,""),{min:6,max:30}))return!1;for(var H=U.split("."),O=0;O<H.length;O++)if(!E.test(H[O]))return!1}if(ee.ignore_max_length===!1&&(!(0,a.default)(P,{max:64})||!(0,a.default)(C,{max:254})))return!1;if(!(0,l.default)(C,{require_tld:ee.require_tld,ignore_max_length:ee.ignore_max_length,allow_underscores:ee.allow_underscores})){if(!ee.allow_ip_domain)return!1;if(!(0,c.default)(C)){if(!C.startsWith("[")||!C.endsWith("]"))return!1;var De=C.slice(1,-1);if(De.length===0||!(0,c.default)(De))return!1}}if(ee.blacklisted_chars&&P.search(new RegExp("[".concat(ee.blacklisted_chars,"]+"),"g"))!==-1)return!1;if(P[0]==='"'&&P[P.length-1]==='"')return P=P.slice(1,P.length-1),ee.allow_utf8_local_part?D.test(P):w.test(P);for(var Be=ee.allow_utf8_local_part?A:_,X=P.split("."),oe=0;oe<X.length;oe++)if(!Be.test(X[oe]))return!1;return!0}t.exports=e.default,t.exports.default=e.default}(vf,vf.exports)),vf.exports}var K5=G5();const $5=Ww(K5);function Y5(){const[t,e]=z.useState(""),[n,r]=z.useState(""),[a,l]=z.useState(""),[c,h]=z.useState({}),[d,p]=z.useState(!1),y=$5(n),_="users",E=aa();function w(){const x={};return t||(x.nickname="Preencha o nickname!"),n||(x.email="Preencha o email!"),a||(x.password="Preencha a senha!"),h(x),Object.keys(x).length===0}async function A(){const x=gd(ur,_),V=Ty(x,Sy("name","==",t.toLowerCase()));return(await vd(V)).empty}async function D(){if(!w())return;if(!await A()){alert("J existe um usurio com esse name!");return}try{const F=(await rV(cr,n.toLowerCase(),a)).user.uid,ee=sc(ur,_,F);await x2(ee,{name:t,email:n.toLowerCase()}),p(!0)}catch(V){alert("Esse email j existe!"),console.error(V)}}return z.useEffect(()=>{if(d){const x=setTimeout(()=>{E("/")},2e3);return()=>clearInterval(x)}},[d,E]),d?ie.jsx(k2,{children:"Welcome!"}):ie.jsx(Av.div,{initial:{scale:0},animate:{scale:1},children:ie.jsxs(u0,{initial:{scale:0},animate:{scale:1},to:"/",children:[ie.jsx("h2",{children:"Create"}),ie.jsx("h2",{children:"Account"}),ie.jsxs("div",{className:"container-input",children:[ie.jsx(ac,{type:"text",value:t,onChange:x=>e(x.target.value.trim()),placeholder:"Name",icon:Td}),c.nickname&&ie.jsx("p",{style:{color:"red"},children:c.nickname}),ie.jsx(ac,{type:"email",placeholder:"Email",value:n,icon:V5,onChange:x=>r(x.target.value),c:y==!0}),c.email&&ie.jsx("p",{style:{color:"red"},children:c.email}),ie.jsx(ac,{onChange:x=>l(x.target.value.trim()),pattern:"[0-9]*",maxLength:6,inputMode:"numeric",style:{WebkitTextSecurity:"disc"},type:"password",placeholder:"Password",icon:N2,numericPassword:!0,i:!0}),c.password&&ie.jsx("p",{style:{color:"red"},children:c.password})]}),ie.jsxs("div",{className:"container-btns-login-singup",style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"10%"},children:[ie.jsx(fl,{className:"btn",onClick:D,children:"Sing up"}),ie.jsxs("div",{style:{display:"flex",width:"70%",gap:"5%",justifyContent:"center",alignItems:"center",margin:"2%",fontWeight:"400",fontSize:"15px"},children:[ie.jsx("hr",{style:{border:"none",width:"110px",height:"1px",backgroundColor:"black"}}),"OR",ie.jsx("hr",{style:{border:"none",width:"110px",height:"1px",backgroundColor:"black"}})]}),ie.jsx(fl,{className:"btn sing-up",to:"/login",children:"Login"})]})]})})}function Q5({name:t,total:e,und:n,value:r,...a}){return ie.jsxs("div",{id:"container-item",...a,children:[ie.jsx("div",{style:{pointerEvents:"none"},children:ie.jsx("h2",{style:{fontWeight:"600"},children:t})}),ie.jsxs("div",{style:{display:"flex",flexDirection:"column",textAlign:"right",pointerEvents:"none"},children:[ie.jsxs("h3",{style:{fontSize:"1.7rem",fontWeight:"600"},children:["R$ ",e]}),ie.jsxs("h3",{style:{fontSize:"1.2rem",fontWeight:"600",marginTop:"-10px"},children:[n,"UND R$ ",r]})]})]})}function X5(){const[t,e]=z.useState(!1),[n,r]=z.useState([]),[a,l]=z.useState(""),[c,h]=z.useState(""),[d,p]=z.useState(0),y=aa();async function _(){const A=cr.currentUser.uid;try{const D=sc(ur,"users",A,"buy",a);await x2(D,{value:c,und:1}),l(""),h(""),console.log("Item enviado!")}catch(D){console.error(D)}}z.useEffect(()=>{async function A(){try{const D=cr.currentUser.uid,x=gd(ur,"users",D,"buy"),Z=(await vd(x)).docs.map(ee=>({name:ee.id,value:ee.data().value,und:ee.data().und}));r(Z);const F=Z.reduce((ee,te)=>ee+te.und*te.value,0);p(F)}catch(D){console.error(D)}}A()},[n,cr,ur]);async function E(A){try{const D=cr.currentUser.uid,x=sc(ur,"users",D,"buy",A),Z=(await wy(x)).data().und||0;console.log(Z),zw(x,{und:Z+1}),console.log(x.id)}catch(D){console.error(D)}}async function w(A){try{const D=cr.currentUser.uid,x=sc(ur,"users",D,"buy",A),V=(await wy(x)).data().und;V>1?zw(x,{und:V-1}):V===1&&g5(x)}catch(D){console.log(D)}}return z.useEffect(()=>{n&&function(){let D=0;n.forEach(x=>{D+=x.und*Number(x.value)}),console.log(D),p(D)}()},[]),ie.jsxs("div",{className:"container-buy",children:[ie.jsxs("div",{style:{display:"flex",alignItems:"flex-start",width:"100%",background:"green"},children:[ie.jsx(u0,{onClick:()=>y("/account")}),ie.jsx("h1",{children:"list itens"})]}),d,t?ie.jsxs("div",{className:"modal",style:{position:"absolute",top:"50%"},children:[ie.jsx("button",{style:{fontSize:"5rem"},onClick:()=>e(!1),children:"X"}),ie.jsx("input",{value:a,onChange:A=>l(A.target.value),className:"input",type:"text",placeholder:"Name"}),ie.jsx("input",{value:c,onChange:A=>h(A.target.value),className:"input",type:"number",placeholder:"Valor"}),ie.jsx("button",{onClick:_,children:"Enviar"})]}):void 0,ie.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:n.map((A,D)=>ie.jsx(Q5,{onDoubleClick:x=>{const V=x.currentTarget.clientWidth;x.nativeEvent.offsetX<V/2?w(A.name):E(A.name)},name:A.name,total:(A.und*A.value).toFixed(2),value:A.value,und:A.und},D))}),ie.jsx("div",{className:"container-add",children:ie.jsx(C5,{onClick:()=>e(!0),fontSize:"50px",style:{position:"absolute",bottom:0}})})]})}function W5(){return ie.jsx("div",{children:ie.jsx("h1",{children:"Page Snack"})})}const Z5=cM([{path:"/",element:ie.jsx(j5,{})},{path:"/login",element:ie.jsx(B5,{})},{path:"/singup",element:ie.jsx(Y5,{})},{path:"/account",element:ie.jsx(L2,{})},{path:"/buy",element:ie.jsx(X5,{})},{path:"/snack",element:ie.jsx(W5,{})},{basename:"/react-seaf"}]);yx.createRoot(document.getElementById("root")).render(ie.jsx(Gs.StrictMode,{children:ie.jsx(wM,{router:Z5})}));
